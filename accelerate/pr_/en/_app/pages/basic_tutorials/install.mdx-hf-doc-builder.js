import{S as Jt,i as Kt,s as Qt,e as o,k as s,w as h,t as f,M as Vt,c as n,d as t,m as c,a as l,x as m,h as u,b as p,G as r,g as i,y as v,L as Wt,q as d,o as $,B as _,v as Xt}from"../../chunks/vendor-hf-doc-builder.js";import{I as ae}from"../../chunks/IconCopyLink-hf-doc-builder.js";import{C as J}from"../../chunks/CodeBlock-hf-doc-builder.js";function Yt($t){let w,de,g,k,re,G,Ke,ie,Qe,$e,x,Ve,oe,We,Xe,_e,y,N,ne,L,Ye,le,Ze,we,K,et,ge,b,S,se,U,tt,ce,at,ye,Q,rt,be,H,Ae,A,T,pe,q,it,fe,ot,Pe,V,nt,Ee,M,ke,P,C,ue,j,lt,he,st,xe,W,ct,Ne,B,Se,E,I,me,D,pt,ve,ft,Te,X,ut,Ce,O,Ie,Y,ht,Ge,R,Le,Z,mt,Ue,ee,vt,He,z,qe,te,dt,Me,F,je;return G=new ae({}),L=new ae({}),U=new ae({}),H=new J({props:{code:"pip install accelerate",highlighted:"pip install accelerate"}}),q=new ae({}),M=new J({props:{code:"conda install -c conda-forge accelerate",highlighted:"conda install -c conda-forge accelerate"}}),j=new ae({}),B=new J({props:{code:`git clone https://github.com/huggingface/accelerate
cd accelerate
pip install -e .`,highlighted:`git <span class="hljs-built_in">clone</span> https://github.com/huggingface/accelerate
<span class="hljs-built_in">cd</span> accelerate
pip install -e .`}}),D=new ae({}),O=new J({props:{code:"accelerate config",highlighted:"accelerate config"}}),R=new J({props:{code:`python -c "from accelerate.utils import write_basic_config; write_basic_config(mixed_precision='fp16')"`,highlighted:'python -c <span class="hljs-string">&quot;from accelerate.utils import write_basic_config; write_basic_config(mixed_precision=&#x27;fp16&#x27;)&quot;</span>'}}),z=new J({props:{code:"accelerate env",highlighted:'accelerate <span class="hljs-built_in">env</span>'}}),F=new J({props:{code:`- \`Accelerate\` version: 0.11.0.dev0
- Platform: Linux-5.10.0-15-cloud-amd64-x86_64-with-debian-11.3
- Python version: 3.7.12
- Numpy version: 1.19.5
- PyTorch version (GPU?): 1.12.0+cu102 (True)
- \`Accelerate\` default config:
        - compute_environment: LOCAL_MACHINE
        - distributed_type: MULTI_GPU
        - mixed_precision: no
        - use_cpu: False
        - num_processes: 2
        - machine_rank: 0
        - num_machines: 1
        - main_process_ip: None
        - main_process_port: None
        - main_training_function: main
        - deepspeed_config: {}
        - fsdp_config: {}`,highlighted:`- \`Accelerate\` version: 0.11.0.dev0
- Platform: Linux-5.10.0-15-cloud-amd64-x86_64-with-debian-11.3
- Python version: 3.7.12
- Numpy version: 1.19.5
- PyTorch version (GPU?): 1.12.0+cu102 (True)
- \`Accelerate\` default config:
        - compute_environment: LOCAL_MACHINE
        - distributed_type: MULTI_GPU
        - mixed_precision: no
        - use_cpu: False
        - num_processes: 2
        - machine_rank: 0
        - num_machines: 1
        - main_process_ip: None
        - main_process_port: None
        - main_training_function: main
        - deepspeed_config: {}
        - fsdp_config: {}`}}),{c(){w=o("meta"),de=s(),g=o("h1"),k=o("a"),re=o("span"),h(G.$$.fragment),Ke=s(),ie=o("span"),Qe=f("Installation and Configuration"),$e=s(),x=o("p"),Ve=f("Before you start, you will need to setup your environment, install the appropriate packages, and configure \u{1F917} Accelerate. \u{1F917} Accelerate is tested on "),oe=o("strong"),We=f("Python 3.7+"),Xe=f("."),_e=s(),y=o("h2"),N=o("a"),ne=o("span"),h(L.$$.fragment),Ye=s(),le=o("span"),Ze=f("Installing \u{1F917} Accelerate"),we=s(),K=o("p"),et=f("\u{1F917} Accelerate is available on pypi and conda, as well as on GitHub. Details to install from each are below:"),ge=s(),b=o("h3"),S=o("a"),se=o("span"),h(U.$$.fragment),tt=s(),ce=o("span"),at=f("pip"),ye=s(),Q=o("p"),rt=f("To install \u{1F917} Accelerate from pypi, perform:"),be=s(),h(H.$$.fragment),Ae=s(),A=o("h3"),T=o("a"),pe=o("span"),h(q.$$.fragment),it=s(),fe=o("span"),ot=f("conda"),Pe=s(),V=o("p"),nt=f("\u{1F917} Accelerate can also be installed with conda with:"),Ee=s(),h(M.$$.fragment),ke=s(),P=o("h3"),C=o("a"),ue=o("span"),h(j.$$.fragment),lt=s(),he=o("span"),st=f("Source"),xe=s(),W=o("p"),ct=f(`As \u{1F917} Accelerate is rapidly under development, new features are added every day that haven\u2019t been released yet. To try them out yourself install
from the Github Repository:`),Ne=s(),h(B.$$.fragment),Se=s(),E=o("h2"),I=o("a"),me=o("span"),h(D.$$.fragment),pt=s(),ve=o("span"),ft=f("Configuring \u{1F917} Accelerate"),Te=s(),X=o("p"),ut=f(`After installing, you need to tell Accelerate how the current system is setup for training.
To do so run the following and answer the questions prompted to you:`),Ce=s(),h(O.$$.fragment),Ie=s(),Y=o("p"),ht=f("To write a barebones configuration that doesn\u2019t include options such as DeepSpeed configuration or running on TPUs, you can quickly run:"),Ge=s(),h(R.$$.fragment),Le=s(),Z=o("p"),mt=f("\u{1F917} Accelerate will automatically utilize the maximum number of GPUs available and set the mixed precision mode."),Ue=s(),ee=o("p"),vt=f("To check that your configuration looks fine, run:"),He=s(),h(z.$$.fragment),qe=s(),te=o("p"),dt=f("An example output is shown below:"),Me=s(),h(F.$$.fragment),this.h()},l(e){const a=Vt('[data-svelte="svelte-1phssyn"]',document.head);w=n(a,"META",{name:!0,content:!0}),a.forEach(t),de=c(e),g=n(e,"H1",{class:!0});var Be=l(g);k=n(Be,"A",{id:!0,class:!0,href:!0});var _t=l(k);re=n(_t,"SPAN",{});var wt=l(re);m(G.$$.fragment,wt),wt.forEach(t),_t.forEach(t),Ke=c(Be),ie=n(Be,"SPAN",{});var gt=l(ie);Qe=u(gt,"Installation and Configuration"),gt.forEach(t),Be.forEach(t),$e=c(e),x=n(e,"P",{});var De=l(x);Ve=u(De,"Before you start, you will need to setup your environment, install the appropriate packages, and configure \u{1F917} Accelerate. \u{1F917} Accelerate is tested on "),oe=n(De,"STRONG",{});var yt=l(oe);We=u(yt,"Python 3.7+"),yt.forEach(t),Xe=u(De,"."),De.forEach(t),_e=c(e),y=n(e,"H2",{class:!0});var Oe=l(y);N=n(Oe,"A",{id:!0,class:!0,href:!0});var bt=l(N);ne=n(bt,"SPAN",{});var At=l(ne);m(L.$$.fragment,At),At.forEach(t),bt.forEach(t),Ye=c(Oe),le=n(Oe,"SPAN",{});var Pt=l(le);Ze=u(Pt,"Installing \u{1F917} Accelerate"),Pt.forEach(t),Oe.forEach(t),we=c(e),K=n(e,"P",{});var Et=l(K);et=u(Et,"\u{1F917} Accelerate is available on pypi and conda, as well as on GitHub. Details to install from each are below:"),Et.forEach(t),ge=c(e),b=n(e,"H3",{class:!0});var Re=l(b);S=n(Re,"A",{id:!0,class:!0,href:!0});var kt=l(S);se=n(kt,"SPAN",{});var xt=l(se);m(U.$$.fragment,xt),xt.forEach(t),kt.forEach(t),tt=c(Re),ce=n(Re,"SPAN",{});var Nt=l(ce);at=u(Nt,"pip"),Nt.forEach(t),Re.forEach(t),ye=c(e),Q=n(e,"P",{});var St=l(Q);rt=u(St,"To install \u{1F917} Accelerate from pypi, perform:"),St.forEach(t),be=c(e),m(H.$$.fragment,e),Ae=c(e),A=n(e,"H3",{class:!0});var ze=l(A);T=n(ze,"A",{id:!0,class:!0,href:!0});var Tt=l(T);pe=n(Tt,"SPAN",{});var Ct=l(pe);m(q.$$.fragment,Ct),Ct.forEach(t),Tt.forEach(t),it=c(ze),fe=n(ze,"SPAN",{});var It=l(fe);ot=u(It,"conda"),It.forEach(t),ze.forEach(t),Pe=c(e),V=n(e,"P",{});var Gt=l(V);nt=u(Gt,"\u{1F917} Accelerate can also be installed with conda with:"),Gt.forEach(t),Ee=c(e),m(M.$$.fragment,e),ke=c(e),P=n(e,"H3",{class:!0});var Fe=l(P);C=n(Fe,"A",{id:!0,class:!0,href:!0});var Lt=l(C);ue=n(Lt,"SPAN",{});var Ut=l(ue);m(j.$$.fragment,Ut),Ut.forEach(t),Lt.forEach(t),lt=c(Fe),he=n(Fe,"SPAN",{});var Ht=l(he);st=u(Ht,"Source"),Ht.forEach(t),Fe.forEach(t),xe=c(e),W=n(e,"P",{});var qt=l(W);ct=u(qt,`As \u{1F917} Accelerate is rapidly under development, new features are added every day that haven\u2019t been released yet. To try them out yourself install
from the Github Repository:`),qt.forEach(t),Ne=c(e),m(B.$$.fragment,e),Se=c(e),E=n(e,"H2",{class:!0});var Je=l(E);I=n(Je,"A",{id:!0,class:!0,href:!0});var Mt=l(I);me=n(Mt,"SPAN",{});var jt=l(me);m(D.$$.fragment,jt),jt.forEach(t),Mt.forEach(t),pt=c(Je),ve=n(Je,"SPAN",{});var Bt=l(ve);ft=u(Bt,"Configuring \u{1F917} Accelerate"),Bt.forEach(t),Je.forEach(t),Te=c(e),X=n(e,"P",{});var Dt=l(X);ut=u(Dt,`After installing, you need to tell Accelerate how the current system is setup for training.
To do so run the following and answer the questions prompted to you:`),Dt.forEach(t),Ce=c(e),m(O.$$.fragment,e),Ie=c(e),Y=n(e,"P",{});var Ot=l(Y);ht=u(Ot,"To write a barebones configuration that doesn\u2019t include options such as DeepSpeed configuration or running on TPUs, you can quickly run:"),Ot.forEach(t),Ge=c(e),m(R.$$.fragment,e),Le=c(e),Z=n(e,"P",{});var Rt=l(Z);mt=u(Rt,"\u{1F917} Accelerate will automatically utilize the maximum number of GPUs available and set the mixed precision mode."),Rt.forEach(t),Ue=c(e),ee=n(e,"P",{});var zt=l(ee);vt=u(zt,"To check that your configuration looks fine, run:"),zt.forEach(t),He=c(e),m(z.$$.fragment,e),qe=c(e),te=n(e,"P",{});var Ft=l(te);dt=u(Ft,"An example output is shown below:"),Ft.forEach(t),Me=c(e),m(F.$$.fragment,e),this.h()},h(){p(w,"name","hf:doc:metadata"),p(w,"content",JSON.stringify(Zt)),p(k,"id","installation-and-configuration"),p(k,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),p(k,"href","#installation-and-configuration"),p(g,"class","relative group"),p(N,"id","installing-accelerate"),p(N,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),p(N,"href","#installing-accelerate"),p(y,"class","relative group"),p(S,"id","pip"),p(S,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),p(S,"href","#pip"),p(b,"class","relative group"),p(T,"id","conda"),p(T,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),p(T,"href","#conda"),p(A,"class","relative group"),p(C,"id","source"),p(C,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),p(C,"href","#source"),p(P,"class","relative group"),p(I,"id","configuring-accelerate"),p(I,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),p(I,"href","#configuring-accelerate"),p(E,"class","relative group")},m(e,a){r(document.head,w),i(e,de,a),i(e,g,a),r(g,k),r(k,re),v(G,re,null),r(g,Ke),r(g,ie),r(ie,Qe),i(e,$e,a),i(e,x,a),r(x,Ve),r(x,oe),r(oe,We),r(x,Xe),i(e,_e,a),i(e,y,a),r(y,N),r(N,ne),v(L,ne,null),r(y,Ye),r(y,le),r(le,Ze),i(e,we,a),i(e,K,a),r(K,et),i(e,ge,a),i(e,b,a),r(b,S),r(S,se),v(U,se,null),r(b,tt),r(b,ce),r(ce,at),i(e,ye,a),i(e,Q,a),r(Q,rt),i(e,be,a),v(H,e,a),i(e,Ae,a),i(e,A,a),r(A,T),r(T,pe),v(q,pe,null),r(A,it),r(A,fe),r(fe,ot),i(e,Pe,a),i(e,V,a),r(V,nt),i(e,Ee,a),v(M,e,a),i(e,ke,a),i(e,P,a),r(P,C),r(C,ue),v(j,ue,null),r(P,lt),r(P,he),r(he,st),i(e,xe,a),i(e,W,a),r(W,ct),i(e,Ne,a),v(B,e,a),i(e,Se,a),i(e,E,a),r(E,I),r(I,me),v(D,me,null),r(E,pt),r(E,ve),r(ve,ft),i(e,Te,a),i(e,X,a),r(X,ut),i(e,Ce,a),v(O,e,a),i(e,Ie,a),i(e,Y,a),r(Y,ht),i(e,Ge,a),v(R,e,a),i(e,Le,a),i(e,Z,a),r(Z,mt),i(e,Ue,a),i(e,ee,a),r(ee,vt),i(e,He,a),v(z,e,a),i(e,qe,a),i(e,te,a),r(te,dt),i(e,Me,a),v(F,e,a),je=!0},p:Wt,i(e){je||(d(G.$$.fragment,e),d(L.$$.fragment,e),d(U.$$.fragment,e),d(H.$$.fragment,e),d(q.$$.fragment,e),d(M.$$.fragment,e),d(j.$$.fragment,e),d(B.$$.fragment,e),d(D.$$.fragment,e),d(O.$$.fragment,e),d(R.$$.fragment,e),d(z.$$.fragment,e),d(F.$$.fragment,e),je=!0)},o(e){$(G.$$.fragment,e),$(L.$$.fragment,e),$(U.$$.fragment,e),$(H.$$.fragment,e),$(q.$$.fragment,e),$(M.$$.fragment,e),$(j.$$.fragment,e),$(B.$$.fragment,e),$(D.$$.fragment,e),$(O.$$.fragment,e),$(R.$$.fragment,e),$(z.$$.fragment,e),$(F.$$.fragment,e),je=!1},d(e){t(w),e&&t(de),e&&t(g),_(G),e&&t($e),e&&t(x),e&&t(_e),e&&t(y),_(L),e&&t(we),e&&t(K),e&&t(ge),e&&t(b),_(U),e&&t(ye),e&&t(Q),e&&t(be),_(H,e),e&&t(Ae),e&&t(A),_(q),e&&t(Pe),e&&t(V),e&&t(Ee),_(M,e),e&&t(ke),e&&t(P),_(j),e&&t(xe),e&&t(W),e&&t(Ne),_(B,e),e&&t(Se),e&&t(E),_(D),e&&t(Te),e&&t(X),e&&t(Ce),_(O,e),e&&t(Ie),e&&t(Y),e&&t(Ge),_(R,e),e&&t(Le),e&&t(Z),e&&t(Ue),e&&t(ee),e&&t(He),_(z,e),e&&t(qe),e&&t(te),e&&t(Me),_(F,e)}}}const Zt={local:"installation-and-configuration",sections:[{local:"installing-accelerate",sections:[{local:"pip",title:"pip "},{local:"conda",title:"conda"},{local:"source",title:"Source"}],title:"Installing \u{1F917} Accelerate"},{local:"configuring-accelerate",title:"Configuring \u{1F917} Accelerate"}],title:"Installation and Configuration"};function ea($t){return Xt(()=>{new URLSearchParams(window.location.search).get("fw")}),[]}class ia extends Jt{constructor(w){super();Kt(this,w,ea,Yt,Qt,{})}}export{ia as default,Zt as metadata};
