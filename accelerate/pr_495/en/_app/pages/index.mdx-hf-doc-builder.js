import{S as nt,i as dt,s as pt,e as s,k as u,w as ne,t as c,M as ut,c as o,d as a,m as f,a as l,x as de,h as n,b as r,G as t,g as h,y as pe,q as ue,o as fe,B as he,v as ft}from"../chunks/vendor-hf-doc-builder.js";import{T as ht}from"../chunks/Tip-hf-doc-builder.js";import{I as mt}from"../chunks/IconCopyLink-hf-doc-builder.js";import{C as ct}from"../chunks/CodeBlock-hf-doc-builder.js";function gt(K){let d,k,p,v,w;return{c(){d=s("p"),k=c("To get a better idea of this process, make sure to check out the "),p=s("a"),v=c("Tutorials"),w=c("!"),this.h()},l(g){d=o(g,"P",{});var _=l(d);k=n(_,"To get a better idea of this process, make sure to check out the "),p=o(_,"A",{href:!0,rel:!0});var P=l(p);v=n(P,"Tutorials"),P.forEach(a),w=n(_,"!"),_.forEach(a),this.h()},h(){r(p,"href","https://huggingface.co/docs/accelerate/basic_tutorials/overview"),r(p,"rel","nofollow")},m(g,_){h(g,d,_),t(d,k),t(d,p),t(p,v),t(d,w)},d(g){g&&a(d)}}}function vt(K){let d,k,p,v,w,g,_,P,me,Q,V,ge,X,m,ve,J,be,_e,U,ye,we,j,$e,xe,C,Ae,Ee,Y,H,ke,Z,T,ee,D,te,B,Pe,ae,I,re,S,b,$,R,Te,ze,q,je,Ce,x,M,De,Ie,N,Se,Le,A,O,Ve,He,F,Be,Re,E,W,qe,Me,G,Ne,se;return g=new mt({}),T=new ht({props:{$$slots:{default:[gt]},$$scope:{ctx:K}}}),D=new ct({props:{code:`+from accelerate import Accelerator
+accelerator = Accelerator()

+model, optimizer, training_dataloader, scheduler = accelerator.prepare(
+    model, optimizer, training_dataloader, scheduler
+)

for batch in training_dataloader:
    optimizer.zero_grad()
    inputs, targets = batch
-   inputs = inputs.to(device)
-    targets = targets.to(device)
    outputs = model(inputs)
    loss = loss_function(outputs, targets)
+    accelerator.backward(loss)
    optimizer.step()
    scheduler.step()`,highlighted:`<span class="hljs-addition">+from accelerate import Accelerator</span>
<span class="hljs-addition">+accelerator = Accelerator()</span>

<span class="hljs-addition">+model, optimizer, training_dataloader, scheduler = accelerator.prepare(</span>
<span class="hljs-addition">+    model, optimizer, training_dataloader, scheduler</span>
<span class="hljs-addition">+)</span>

for batch in training_dataloader:
    optimizer.zero_grad()
    inputs, targets = batch
<span class="hljs-deletion">-   inputs = inputs.to(device)</span>
<span class="hljs-deletion">-    targets = targets.to(device)</span>
    outputs = model(inputs)
    loss = loss_function(outputs, targets)
<span class="hljs-addition">+    accelerator.backward(loss)</span>
    optimizer.step()
    scheduler.step()`}}),I=new ct({props:{code:"accelerate launch {my_script.py}",highlighted:"accelerate launch {my_script.py}"}}),{c(){d=s("meta"),k=u(),p=s("h1"),v=s("a"),w=s("span"),ne(g.$$.fragment),_=u(),P=s("span"),me=c("Accelerate"),Q=u(),V=s("p"),ge=c("\u{1F917} Accelerate is a library that enables the same PyTorch code to be run across any distributed configuration by adding just four lines of code! In short, training and inference at scale made simple, efficient and adaptable."),X=u(),m=s("p"),ve=c("Built on "),J=s("code"),be=c("torch_xla"),_e=c(" and "),U=s("code"),ye=c("torch.distributed"),we=c(`, \u{1F917} Accelerate takes care of the heavy lifting, so you don\u2019t have to write any custom code to adapt to these platforms.
platforms separately so you don\u2019t have to. Convert existing codebases to utilize `),j=s("a"),$e=c("DeepSpeed"),xe=c(", perform "),C=s("a"),Ae=c("fully sharded data parallelism"),Ee=c(", and have automatic support for mixed-precision training!"),Y=u(),H=s("p"),ke=c("For an idea of just how easy it can be, here\u2019s a brief example of the changes needed on a basic PyTorch script:"),Z=u(),ne(T.$$.fragment),ee=u(),ne(D.$$.fragment),te=u(),B=s("p"),Pe=c("Which can then be launched on any system through Accelerate\u2019s CLI interface:"),ae=u(),ne(I.$$.fragment),re=u(),S=s("div"),b=s("div"),$=s("a"),R=s("div"),Te=c("Tutorials"),ze=u(),q=s("p"),je=c("Learn the basics and become familiar with using \u{1F917} Accelerate. Start here if you are using \u{1F917} Accelerate for the first time!"),Ce=u(),x=s("a"),M=s("div"),De=c("How-to guides"),Ie=u(),N=s("p"),Se=c("Practical guides to help you achieve a specific goal. Take a look at these guides to learn how to use \u{1F917} Accelerate to solve real-world problems."),Le=u(),A=s("a"),O=s("div"),Ve=c("Conceptual guides"),He=u(),F=s("p"),Be=c("High-level explanations for building a better understanding of important topics such as avoiding subtle nuances and pitfalls in distributed training and DeepSpeed."),Re=u(),E=s("a"),W=s("div"),qe=c("Reference"),Me=u(),G=s("p"),Ne=c("Technical descriptions of how \u{1F917} Accelerate classes and methods work."),this.h()},l(e){const i=ut('[data-svelte="svelte-1phssyn"]',document.head);d=o(i,"META",{name:!0,content:!0}),i.forEach(a),k=f(e),p=o(e,"H1",{class:!0});var L=l(p);v=o(L,"A",{id:!0,class:!0,href:!0});var Oe=l(v);w=o(Oe,"SPAN",{});var Fe=l(w);de(g.$$.fragment,Fe),Fe.forEach(a),Oe.forEach(a),_=f(L),P=o(L,"SPAN",{});var We=l(P);me=n(We,"Accelerate"),We.forEach(a),L.forEach(a),Q=f(e),V=o(e,"P",{});var Ge=l(V);ge=n(Ge,"\u{1F917} Accelerate is a library that enables the same PyTorch code to be run across any distributed configuration by adding just four lines of code! In short, training and inference at scale made simple, efficient and adaptable."),Ge.forEach(a),X=f(e),m=o(e,"P",{});var y=l(m);ve=n(y,"Built on "),J=o(y,"CODE",{});var Je=l(J);be=n(Je,"torch_xla"),Je.forEach(a),_e=n(y," and "),U=o(y,"CODE",{});var Ue=l(U);ye=n(Ue,"torch.distributed"),Ue.forEach(a),we=n(y,`, \u{1F917} Accelerate takes care of the heavy lifting, so you don\u2019t have to write any custom code to adapt to these platforms.
platforms separately so you don\u2019t have to. Convert existing codebases to utilize `),j=o(y,"A",{href:!0,rel:!0});var Ke=l(j);$e=n(Ke,"DeepSpeed"),Ke.forEach(a),xe=n(y,", perform "),C=o(y,"A",{href:!0,rel:!0});var Qe=l(C);Ae=n(Qe,"fully sharded data parallelism"),Qe.forEach(a),Ee=n(y,", and have automatic support for mixed-precision training!"),y.forEach(a),Y=f(e),H=o(e,"P",{});var Xe=l(H);ke=n(Xe,"For an idea of just how easy it can be, here\u2019s a brief example of the changes needed on a basic PyTorch script:"),Xe.forEach(a),Z=f(e),de(T.$$.fragment,e),ee=f(e),de(D.$$.fragment,e),te=f(e),B=o(e,"P",{});var Ye=l(B);Pe=n(Ye,"Which can then be launched on any system through Accelerate\u2019s CLI interface:"),Ye.forEach(a),ae=f(e),de(I.$$.fragment,e),re=f(e),S=o(e,"DIV",{class:!0});var Ze=l(S);b=o(Ze,"DIV",{class:!0});var z=l(b);$=o(z,"A",{class:!0,href:!0});var oe=l($);R=o(oe,"DIV",{class:!0});var et=l(R);Te=n(et,"Tutorials"),et.forEach(a),ze=f(oe),q=o(oe,"P",{class:!0});var tt=l(q);je=n(tt,"Learn the basics and become familiar with using \u{1F917} Accelerate. Start here if you are using \u{1F917} Accelerate for the first time!"),tt.forEach(a),oe.forEach(a),Ce=f(z),x=o(z,"A",{class:!0,href:!0});var le=l(x);M=o(le,"DIV",{class:!0});var at=l(M);De=n(at,"How-to guides"),at.forEach(a),Ie=f(le),N=o(le,"P",{class:!0});var rt=l(N);Se=n(rt,"Practical guides to help you achieve a specific goal. Take a look at these guides to learn how to use \u{1F917} Accelerate to solve real-world problems."),rt.forEach(a),le.forEach(a),Le=f(z),A=o(z,"A",{class:!0,href:!0});var ie=l(A);O=o(ie,"DIV",{class:!0});var st=l(O);Ve=n(st,"Conceptual guides"),st.forEach(a),He=f(ie),F=o(ie,"P",{class:!0});var ot=l(F);Be=n(ot,"High-level explanations for building a better understanding of important topics such as avoiding subtle nuances and pitfalls in distributed training and DeepSpeed."),ot.forEach(a),ie.forEach(a),Re=f(z),E=o(z,"A",{class:!0,href:!0});var ce=l(E);W=o(ce,"DIV",{class:!0});var lt=l(W);qe=n(lt,"Reference"),lt.forEach(a),Me=f(ce),G=o(ce,"P",{class:!0});var it=l(G);Ne=n(it,"Technical descriptions of how \u{1F917} Accelerate classes and methods work."),it.forEach(a),ce.forEach(a),z.forEach(a),Ze.forEach(a),this.h()},h(){r(d,"name","hf:doc:metadata"),r(d,"content",JSON.stringify(bt)),r(v,"id","accelerate"),r(v,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),r(v,"href","#accelerate"),r(p,"class","relative group"),r(j,"href","https://huggingface.co/docs/accelerate/deepspeed"),r(j,"rel","nofollow"),r(C,"href","https://huggingface.co/docs/accelerate/fsdp"),r(C,"rel","nofollow"),r(R,"class","w-full text-center bg-gradient-to-br from-blue-400 to-blue-500 rounded-lg py-1.5 font-semibold mb-5 text-white text-lg leading-relaxed"),r(q,"class","text-gray-700"),r($,"class","!no-underline border dark:border-gray-700 p-5 rounded-lg shadow hover:shadow-lg"),r($,"href","/docs/accelerate/basic_tutorials/overview"),r(M,"class","w-full text-center bg-gradient-to-br from-indigo-400 to-indigo-500 rounded-lg py-1.5 font-semibold mb-5 text-white text-lg leading-relaxed"),r(N,"class","text-gray-700"),r(x,"class","!no-underline border dark:border-gray-700 p-5 rounded-lg shadow hover:shadow-lg"),r(x,"href","/docs/accelerate/utility_guides/gradient_accumulation"),r(O,"class","w-full text-center bg-gradient-to-br from-pink-400 to-pink-500 rounded-lg py-1.5 font-semibold mb-5 text-white text-lg leading-relaxed"),r(F,"class","text-gray-700"),r(A,"class","!no-underline border dark:border-gray-700 p-5 rounded-lg shadow hover:shadow-lg"),r(A,"href","/docs/accelerate/concept_guides/gradient_synchronization"),r(W,"class","w-full text-center bg-gradient-to-br from-purple-400 to-purple-500 rounded-lg py-1.5 font-semibold mb-5 text-white text-lg leading-relaxed"),r(G,"class","text-gray-700"),r(E,"class","!no-underline border dark:border-gray-700 p-5 rounded-lg shadow hover:shadow-lg"),r(E,"href","/docs/accelerate/package_reference/accelerator"),r(b,"class","w-full flex flex-col space-y-4 md:space-y-0 md:grid md:grid-cols-2 md:gap-y-4 md:gap-x-5"),r(S,"class","mt-10")},m(e,i){t(document.head,d),h(e,k,i),h(e,p,i),t(p,v),t(v,w),pe(g,w,null),t(p,_),t(p,P),t(P,me),h(e,Q,i),h(e,V,i),t(V,ge),h(e,X,i),h(e,m,i),t(m,ve),t(m,J),t(J,be),t(m,_e),t(m,U),t(U,ye),t(m,we),t(m,j),t(j,$e),t(m,xe),t(m,C),t(C,Ae),t(m,Ee),h(e,Y,i),h(e,H,i),t(H,ke),h(e,Z,i),pe(T,e,i),h(e,ee,i),pe(D,e,i),h(e,te,i),h(e,B,i),t(B,Pe),h(e,ae,i),pe(I,e,i),h(e,re,i),h(e,S,i),t(S,b),t(b,$),t($,R),t(R,Te),t($,ze),t($,q),t(q,je),t(b,Ce),t(b,x),t(x,M),t(M,De),t(x,Ie),t(x,N),t(N,Se),t(b,Le),t(b,A),t(A,O),t(O,Ve),t(A,He),t(A,F),t(F,Be),t(b,Re),t(b,E),t(E,W),t(W,qe),t(E,Me),t(E,G),t(G,Ne),se=!0},p(e,[i]){const L={};i&2&&(L.$$scope={dirty:i,ctx:e}),T.$set(L)},i(e){se||(ue(g.$$.fragment,e),ue(T.$$.fragment,e),ue(D.$$.fragment,e),ue(I.$$.fragment,e),se=!0)},o(e){fe(g.$$.fragment,e),fe(T.$$.fragment,e),fe(D.$$.fragment,e),fe(I.$$.fragment,e),se=!1},d(e){a(d),e&&a(k),e&&a(p),he(g),e&&a(Q),e&&a(V),e&&a(X),e&&a(m),e&&a(Y),e&&a(H),e&&a(Z),he(T,e),e&&a(ee),he(D,e),e&&a(te),e&&a(B),e&&a(ae),he(I,e),e&&a(re),e&&a(S)}}}const bt={local:"accelerate",title:"Accelerate"};function _t(K){return ft(()=>{new URLSearchParams(window.location.search).get("fw")}),[]}class At extends nt{constructor(d){super();dt(this,d,_t,vt,pt,{})}}export{At as default,bt as metadata};
