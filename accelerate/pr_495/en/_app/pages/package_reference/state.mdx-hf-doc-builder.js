import{S as Ve,i as He,s as Je,e as r,k as h,w as Ee,t as n,M as je,c as s,d as a,m as f,a as o,x as $e,h as i,b as l,G as e,g as S,y as Ae,L as Ke,q as Te,o as ke,B as De,v as Qe}from"../../chunks/vendor-hf-doc-builder.js";import{I as Xe,D as Ue}from"../../chunks/Docstring-hf-doc-builder.js";function Ye(Pe){let p,R,u,_,L,x,X,N,Y,U,D,Z,V,m,E,ee,g,te,$,ae,re,G,se,ne,H,c,A,oe,v,ie,T,ce,le,I,de,he,fe,O,pe,ue,k,b,z,me,ge,W,ve,_e,be,w,B,we,ye,F,Se,xe,J;return x=new Xe({}),E=new Ue({props:{name:"class accelerate.state.AcceleratorState",anchor:"accelerate.state.AcceleratorState",parameters:[{name:"mixed_precision",val:": str = None"},{name:"cpu",val:": bool = False"},{name:"deepspeed_plugin",val:" = None"},{name:"fsdp_plugin",val:" = None"},{name:"_from_accelerator",val:": bool = False"},{name:"**kwargs",val:""}],parametersDescription:[{anchor:"accelerate.state.AcceleratorState.-",description:"<strong>-</strong> <strong>device</strong> (<code>torch.device</code>) &#x2014; The device to use. &#x2014;",name:"-"},{anchor:"accelerate.state.AcceleratorState.-",description:"<strong>-</strong> <strong>sync_gradients</strong> (<code>bool</code>) &#x2014; Whether to sync the gradients or not &#x2014;",name:"-"},{anchor:"accelerate.state.AcceleratorState.-",description:`<strong>-</strong> <strong>distributed_type</strong> (<code>~accelerate.state.DistributedType</code>) &#x2014; The type of distributed environment currently &#x2014;
in use.`,name:"-"},{anchor:"accelerate.state.AcceleratorState.-",description:"<strong>-</strong> <strong>num_processes</strong> (<code>int</code>) &#x2014; The number of processes currently launched in parallel. &#x2014;",name:"-"},{anchor:"accelerate.state.AcceleratorState.-",description:"<strong>-</strong> <strong>process_index</strong> (<code>int</code>) &#x2014; The index of the current process. &#x2014;",name:"-"},{anchor:"accelerate.state.AcceleratorState.-",description:"<strong>-</strong> <strong>local_process_index</strong> (<code>int</code>) &#x2014; The index of the current process on the current server. &#x2014;",name:"-"},{anchor:"accelerate.state.AcceleratorState.-",description:`<strong>-</strong> <strong>mixed_precision</strong> (<code>str</code>) &#x2014; Whether or not the current script will use mixed precision. If you are using &#x2014;
mixed precision, define if you want to use FP16 or BF16 (bfloat16) as the floating point.`,name:"-"}],source:"https://github.com/huggingface/accelerate/blob/vr_495/src/accelerate/state.py#L47"}}),A=new Ue({props:{name:"class accelerate.state.GradientState",anchor:"accelerate.state.GradientState",parameters:[],source:"https://github.com/huggingface/accelerate/blob/vr_495/src/accelerate/state.py#L215"}}),{c(){p=r("meta"),R=h(),u=r("h1"),_=r("a"),L=r("span"),Ee(x.$$.fragment),X=h(),N=r("span"),Y=n("Stateful Classes"),U=h(),D=r("p"),Z=n(`Below are singleton classes where all instances are the same upon first initialization.
They should not be modified directly and instead store information about certain configurations or
states.`),V=h(),m=r("div"),Ee(E.$$.fragment),ee=h(),g=r("p"),te=n("This is a variation of a "),$=r("a"),ae=n("singleton class"),re=n(` in the sense that all
instance of `),G=r("code"),se=n("AcceleratorState"),ne=n(" share the same state, which is initialized on the first instantiation."),H=h(),c=r("div"),Ee(A.$$.fragment),oe=h(),v=r("p"),ie=n("This is a variation of a "),T=r("a"),ce=n("singleton class"),le=n(` in the sense that all
instance of `),I=r("code"),de=n("GradientState"),he=n(" share the same state, which is initialized on the first instantiation."),fe=h(),O=r("p"),pe=n(`This specific state revolves around whether gradients should be synced and if we have reached the end of a prepared
dataloader Attributes:`),ue=h(),k=r("ul"),b=r("li"),z=r("strong"),me=n("sync_gradients"),ge=n(" ("),W=r("code"),ve=n("bool"),_e=n(") \u2014 Whether the gradients should be synced"),be=h(),w=r("li"),B=r("strong"),we=n("end_of_dataloader"),ye=n(" ("),F=r("code"),Se=n("bool"),xe=n(") \u2014 Whether we have reached the end the current dataloader"),this.h()},l(t){const d=je('[data-svelte="svelte-1phssyn"]',document.head);p=s(d,"META",{name:!0,content:!0}),d.forEach(a),R=f(t),u=s(t,"H1",{class:!0});var j=o(u);_=s(j,"A",{id:!0,class:!0,href:!0});var Ce=o(_);L=s(Ce,"SPAN",{});var Le=o(L);$e(x.$$.fragment,Le),Le.forEach(a),Ce.forEach(a),X=f(j),N=s(j,"SPAN",{});var Ne=o(N);Y=i(Ne,"Stateful Classes"),Ne.forEach(a),j.forEach(a),U=f(t),D=s(t,"P",{});var Ge=o(D);Z=i(Ge,`Below are singleton classes where all instances are the same upon first initialization.
They should not be modified directly and instead store information about certain configurations or
states.`),Ge.forEach(a),V=f(t),m=s(t,"DIV",{class:!0});var K=o(m);$e(E.$$.fragment,K),ee=f(K),g=s(K,"P",{});var P=o(g);te=i(P,"This is a variation of a "),$=s(P,"A",{href:!0,rel:!0});var Ie=o($);ae=i(Ie,"singleton class"),Ie.forEach(a),re=i(P,` in the sense that all
instance of `),G=s(P,"CODE",{});var Oe=o(G);se=i(Oe,"AcceleratorState"),Oe.forEach(a),ne=i(P," share the same state, which is initialized on the first instantiation."),P.forEach(a),K.forEach(a),H=f(t),c=s(t,"DIV",{class:!0});var y=o(c);$e(A.$$.fragment,y),oe=f(y),v=s(y,"P",{});var C=o(v);ie=i(C,"This is a variation of a "),T=s(C,"A",{href:!0,rel:!0});var ze=o(T);ce=i(ze,"singleton class"),ze.forEach(a),le=i(C,` in the sense that all
instance of `),I=s(C,"CODE",{});var We=o(I);de=i(We,"GradientState"),We.forEach(a),he=i(C," share the same state, which is initialized on the first instantiation."),C.forEach(a),fe=f(y),O=s(y,"P",{});var Be=o(O);pe=i(Be,`This specific state revolves around whether gradients should be synced and if we have reached the end of a prepared
dataloader Attributes:`),Be.forEach(a),ue=f(y),k=s(y,"UL",{});var Q=o(k);b=s(Q,"LI",{});var q=o(b);z=s(q,"STRONG",{});var Fe=o(z);me=i(Fe,"sync_gradients"),Fe.forEach(a),ge=i(q," ("),W=s(q,"CODE",{});var qe=o(W);ve=i(qe,"bool"),qe.forEach(a),_e=i(q,") \u2014 Whether the gradients should be synced"),q.forEach(a),be=f(Q),w=s(Q,"LI",{});var M=o(w);B=s(M,"STRONG",{});var Me=o(B);we=i(Me,"end_of_dataloader"),Me.forEach(a),ye=i(M," ("),F=s(M,"CODE",{});var Re=o(F);Se=i(Re,"bool"),Re.forEach(a),xe=i(M,") \u2014 Whether we have reached the end the current dataloader"),M.forEach(a),Q.forEach(a),y.forEach(a),this.h()},h(){l(p,"name","hf:doc:metadata"),l(p,"content",JSON.stringify(Ze)),l(_,"id","accelerate.state.AcceleratorState"),l(_,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),l(_,"href","#accelerate.state.AcceleratorState"),l(u,"class","relative group"),l($,"href","https://en.wikipedia.org/wiki/Singleton_pattern"),l($,"rel","nofollow"),l(m,"class","docstring border-l-2 border-t-2 pl-4 pt-3.5 border-gray-100 rounded-tl-xl mb-6 mt-8"),l(T,"href","https://en.wikipedia.org/wiki/Singleton_pattern"),l(T,"rel","nofollow"),l(c,"class","docstring border-l-2 border-t-2 pl-4 pt-3.5 border-gray-100 rounded-tl-xl mb-6 mt-8")},m(t,d){e(document.head,p),S(t,R,d),S(t,u,d),e(u,_),e(_,L),Ae(x,L,null),e(u,X),e(u,N),e(N,Y),S(t,U,d),S(t,D,d),e(D,Z),S(t,V,d),S(t,m,d),Ae(E,m,null),e(m,ee),e(m,g),e(g,te),e(g,$),e($,ae),e(g,re),e(g,G),e(G,se),e(g,ne),S(t,H,d),S(t,c,d),Ae(A,c,null),e(c,oe),e(c,v),e(v,ie),e(v,T),e(T,ce),e(v,le),e(v,I),e(I,de),e(v,he),e(c,fe),e(c,O),e(O,pe),e(c,ue),e(c,k),e(k,b),e(b,z),e(z,me),e(b,ge),e(b,W),e(W,ve),e(b,_e),e(k,be),e(k,w),e(w,B),e(B,we),e(w,ye),e(w,F),e(F,Se),e(w,xe),J=!0},p:Ke,i(t){J||(Te(x.$$.fragment,t),Te(E.$$.fragment,t),Te(A.$$.fragment,t),J=!0)},o(t){ke(x.$$.fragment,t),ke(E.$$.fragment,t),ke(A.$$.fragment,t),J=!1},d(t){a(p),t&&a(R),t&&a(u),De(x),t&&a(U),t&&a(D),t&&a(V),t&&a(m),De(E),t&&a(H),t&&a(c),De(A)}}}const Ze={local:"accelerate.state.AcceleratorState",title:"Stateful Classes"};function et(Pe){return Qe(()=>{new URLSearchParams(window.location.search).get("fw")}),[]}class rt extends Ve{constructor(p){super();He(this,p,et,Ye,Je,{})}}export{rt as default,Ze as metadata};
