import{S as Aa,i as Da,s as Na,e as o,k as i,w as Mt,t as a,M as Ga,c as s,d as t,m as c,a as n,x as Ut,h as r,b as p,G as e,g as L,y as Vt,L as La,q as Ht,o as Jt,B as jt,v as Ca}from"../../chunks/vendor-hf-doc-builder.js";import{I as Ia,D as Oa}from"../../chunks/Docstring-hf-doc-builder.js";function Pa(Kt){let g,Te,m,y,M,C,Ge,U,Le,$e,z,Ce,xe,u,I,Ie,E,Pe,P,Re,ke,V,We,ze,Fe,H,J,Be,qe,d,w,j,Me,Ue,K,Ve,He,Je,S,Q,je,Ke,X,Qe,Xe,Ye,T,Y,Ze,et,F,tt,at,rt,$,Z,ot,st,ee,nt,lt,it,x,te,ct,dt,ae,ht,ft,ut,O,re,pt,vt,oe,_t,gt,mt,A,se,Et,bt,ne,yt,wt,Oe,h,R,St,b,Tt,k,$t,xt,le,Ot,At,Dt,ie,Nt,Gt,ce,de,Lt,Ct,W,D,he,It,Pt,fe,Rt,kt,Wt,N,ue,zt,Ft,pe,Bt,qt,Ae;return C=new Ia({}),I=new Oa({props:{name:"class accelerate.state.AcceleratorState",anchor:"accelerate.state.AcceleratorState",parameters:[{name:"mixed_precision",val:": str = None"},{name:"cpu",val:": bool = False"},{name:"deepspeed_plugin",val:" = None"},{name:"fsdp_plugin",val:" = None"},{name:"_from_accelerator",val:": bool = False"},{name:"**kwargs",val:""}],source:"https://github.com/huggingface/accelerate/blob/vr_495/src/accelerate/state.py#L47"}}),R=new Oa({props:{name:"class accelerate.state.GradientState",anchor:"accelerate.state.GradientState",parameters:[],source:"https://github.com/huggingface/accelerate/blob/vr_495/src/accelerate/state.py#L215"}}),{c(){g=o("meta"),Te=i(),m=o("h1"),y=o("a"),M=o("span"),Mt(C.$$.fragment),Ge=i(),U=o("span"),Le=a("Stateful Classes"),$e=i(),z=o("p"),Ce=a(`Below are singleton classes where all instances are the same upon first initialization.
They should not be modified directly and instead store information about certain configurations or
states.`),xe=i(),u=o("div"),Mt(I.$$.fragment),Ie=i(),E=o("p"),Pe=a("This is a variation of a "),P=o("a"),Re=a("singleton class"),ke=a(` in the sense that all
instance of `),V=o("code"),We=a("AcceleratorState"),ze=a(" share the same state, which is initialized on the first instantiation."),Fe=i(),H=o("p"),J=o("strong"),Be=a("Available attributes:"),qe=i(),d=o("ul"),w=o("li"),j=o("strong"),Me=a("device"),Ue=a(" ("),K=o("code"),Ve=a("torch.device"),He=a(") \u2014 The device to use."),Je=i(),S=o("li"),Q=o("strong"),je=a("sync_gradients"),Ke=a(" ("),X=o("code"),Qe=a("bool"),Xe=a(") \u2014 Whether to sync the gradients or not"),Ye=i(),T=o("li"),Y=o("strong"),Ze=a("distributed_type"),et=a(" ("),F=o("a"),tt=a("DistributedType"),at=a(`) \u2014 The type of distributed environment currently
in use.`),rt=i(),$=o("li"),Z=o("strong"),ot=a("num_processes"),st=a(" ("),ee=o("code"),nt=a("int"),lt=a(") \u2014 The number of processes currently launched in parallel."),it=i(),x=o("li"),te=o("strong"),ct=a("process_index"),dt=a(" ("),ae=o("code"),ht=a("int"),ft=a(") \u2014 The index of the current process."),ut=i(),O=o("li"),re=o("strong"),pt=a("local_process_index"),vt=a(" ("),oe=o("code"),_t=a("int"),gt=a(") \u2014 The index of the current process on the current server."),mt=i(),A=o("li"),se=o("strong"),Et=a("mixed_precision"),bt=a(" ("),ne=o("code"),yt=a("str"),wt=a(`) \u2014 Whether or not the current script will use mixed precision. If you are using
mixed precision, define if you want to use FP16 or BF16 (bfloat16) as the floating point.`),Oe=i(),h=o("div"),Mt(R.$$.fragment),St=i(),b=o("p"),Tt=a("This is a variation of a "),k=o("a"),$t=a("singleton class"),xt=a(` in the sense that all
instance of `),le=o("code"),Ot=a("GradientState"),At=a(" share the same state, which is initialized on the first instantiation."),Dt=i(),ie=o("p"),Nt=a(`This specific state revolves around whether gradients should be synced and if we have reached the end of a prepared
dataloader`),Gt=i(),ce=o("p"),de=o("strong"),Lt=a("Available attributes:"),Ct=i(),W=o("ul"),D=o("li"),he=o("strong"),It=a("sync_gradients"),Pt=a(" ("),fe=o("code"),Rt=a("bool"),kt=a(") \u2014 Whether the gradients should be synced"),Wt=i(),N=o("li"),ue=o("strong"),zt=a("end_of_dataloader"),Ft=a(" ("),pe=o("code"),Bt=a("bool"),qt=a(") \u2014 Whether we have reached the end the current dataloader"),this.h()},l(l){const v=Ga('[data-svelte="svelte-1phssyn"]',document.head);g=s(v,"META",{name:!0,content:!0}),v.forEach(t),Te=c(l),m=s(l,"H1",{class:!0});var De=n(m);y=s(De,"A",{id:!0,class:!0,href:!0});var Qt=n(y);M=s(Qt,"SPAN",{});var Xt=n(M);Ut(C.$$.fragment,Xt),Xt.forEach(t),Qt.forEach(t),Ge=c(De),U=s(De,"SPAN",{});var Yt=n(U);Le=r(Yt,"Stateful Classes"),Yt.forEach(t),De.forEach(t),$e=c(l),z=s(l,"P",{});var Zt=n(z);Ce=r(Zt,`Below are singleton classes where all instances are the same upon first initialization.
They should not be modified directly and instead store information about certain configurations or
states.`),Zt.forEach(t),xe=c(l),u=s(l,"DIV",{class:!0});var G=n(u);Ut(I.$$.fragment,G),Ie=c(G),E=s(G,"P",{});var B=n(E);Pe=r(B,"This is a variation of a "),P=s(B,"A",{href:!0,rel:!0});var ea=n(P);Re=r(ea,"singleton class"),ea.forEach(t),ke=r(B,` in the sense that all
instance of `),V=s(B,"CODE",{});var ta=n(V);We=r(ta,"AcceleratorState"),ta.forEach(t),ze=r(B," share the same state, which is initialized on the first instantiation."),B.forEach(t),Fe=c(G),H=s(G,"P",{});var aa=n(H);J=s(aa,"STRONG",{});var ra=n(J);Be=r(ra,"Available attributes:"),ra.forEach(t),aa.forEach(t),qe=c(G),d=s(G,"UL",{});var f=n(d);w=s(f,"LI",{});var ve=n(w);j=s(ve,"STRONG",{});var oa=n(j);Me=r(oa,"device"),oa.forEach(t),Ue=r(ve," ("),K=s(ve,"CODE",{});var sa=n(K);Ve=r(sa,"torch.device"),sa.forEach(t),He=r(ve,") \u2014 The device to use."),ve.forEach(t),Je=c(f),S=s(f,"LI",{});var _e=n(S);Q=s(_e,"STRONG",{});var na=n(Q);je=r(na,"sync_gradients"),na.forEach(t),Ke=r(_e," ("),X=s(_e,"CODE",{});var la=n(X);Qe=r(la,"bool"),la.forEach(t),Xe=r(_e,") \u2014 Whether to sync the gradients or not"),_e.forEach(t),Ye=c(f),T=s(f,"LI",{});var ge=n(T);Y=s(ge,"STRONG",{});var ia=n(Y);Ze=r(ia,"distributed_type"),ia.forEach(t),et=r(ge," ("),F=s(ge,"A",{href:!0});var ca=n(F);tt=r(ca,"DistributedType"),ca.forEach(t),at=r(ge,`) \u2014 The type of distributed environment currently
in use.`),ge.forEach(t),rt=c(f),$=s(f,"LI",{});var me=n($);Z=s(me,"STRONG",{});var da=n(Z);ot=r(da,"num_processes"),da.forEach(t),st=r(me," ("),ee=s(me,"CODE",{});var ha=n(ee);nt=r(ha,"int"),ha.forEach(t),lt=r(me,") \u2014 The number of processes currently launched in parallel."),me.forEach(t),it=c(f),x=s(f,"LI",{});var Ee=n(x);te=s(Ee,"STRONG",{});var fa=n(te);ct=r(fa,"process_index"),fa.forEach(t),dt=r(Ee," ("),ae=s(Ee,"CODE",{});var ua=n(ae);ht=r(ua,"int"),ua.forEach(t),ft=r(Ee,") \u2014 The index of the current process."),Ee.forEach(t),ut=c(f),O=s(f,"LI",{});var be=n(O);re=s(be,"STRONG",{});var pa=n(re);pt=r(pa,"local_process_index"),pa.forEach(t),vt=r(be," ("),oe=s(be,"CODE",{});var va=n(oe);_t=r(va,"int"),va.forEach(t),gt=r(be,") \u2014 The index of the current process on the current server."),be.forEach(t),mt=c(f),A=s(f,"LI",{});var ye=n(A);se=s(ye,"STRONG",{});var _a=n(se);Et=r(_a,"mixed_precision"),_a.forEach(t),bt=r(ye," ("),ne=s(ye,"CODE",{});var ga=n(ne);yt=r(ga,"str"),ga.forEach(t),wt=r(ye,`) \u2014 Whether or not the current script will use mixed precision. If you are using
mixed precision, define if you want to use FP16 or BF16 (bfloat16) as the floating point.`),ye.forEach(t),f.forEach(t),G.forEach(t),Oe=c(l),h=s(l,"DIV",{class:!0});var _=n(h);Ut(R.$$.fragment,_),St=c(_),b=s(_,"P",{});var q=n(b);Tt=r(q,"This is a variation of a "),k=s(q,"A",{href:!0,rel:!0});var ma=n(k);$t=r(ma,"singleton class"),ma.forEach(t),xt=r(q,` in the sense that all
instance of `),le=s(q,"CODE",{});var Ea=n(le);Ot=r(Ea,"GradientState"),Ea.forEach(t),At=r(q," share the same state, which is initialized on the first instantiation."),q.forEach(t),Dt=c(_),ie=s(_,"P",{});var ba=n(ie);Nt=r(ba,`This specific state revolves around whether gradients should be synced and if we have reached the end of a prepared
dataloader`),ba.forEach(t),Gt=c(_),ce=s(_,"P",{});var ya=n(ce);de=s(ya,"STRONG",{});var wa=n(de);Lt=r(wa,"Available attributes:"),wa.forEach(t),ya.forEach(t),Ct=c(_),W=s(_,"UL",{});var Ne=n(W);D=s(Ne,"LI",{});var we=n(D);he=s(we,"STRONG",{});var Sa=n(he);It=r(Sa,"sync_gradients"),Sa.forEach(t),Pt=r(we," ("),fe=s(we,"CODE",{});var Ta=n(fe);Rt=r(Ta,"bool"),Ta.forEach(t),kt=r(we,") \u2014 Whether the gradients should be synced"),we.forEach(t),Wt=c(Ne),N=s(Ne,"LI",{});var Se=n(N);ue=s(Se,"STRONG",{});var $a=n(ue);zt=r($a,"end_of_dataloader"),$a.forEach(t),Ft=r(Se," ("),pe=s(Se,"CODE",{});var xa=n(pe);Bt=r(xa,"bool"),xa.forEach(t),qt=r(Se,") \u2014 Whether we have reached the end the current dataloader"),Se.forEach(t),Ne.forEach(t),_.forEach(t),this.h()},h(){p(g,"name","hf:doc:metadata"),p(g,"content",JSON.stringify(Ra)),p(y,"id","accelerate.state.AcceleratorState"),p(y,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),p(y,"href","#accelerate.state.AcceleratorState"),p(m,"class","relative group"),p(P,"href","https://en.wikipedia.org/wiki/Singleton_pattern"),p(P,"rel","nofollow"),p(F,"href","/docs/accelerate/pr_495/en/package_reference/utilities#accelerate.DistributedType"),p(u,"class","docstring border-l-2 border-t-2 pl-4 pt-3.5 border-gray-100 rounded-tl-xl mb-6 mt-8"),p(k,"href","https://en.wikipedia.org/wiki/Singleton_pattern"),p(k,"rel","nofollow"),p(h,"class","docstring border-l-2 border-t-2 pl-4 pt-3.5 border-gray-100 rounded-tl-xl mb-6 mt-8")},m(l,v){e(document.head,g),L(l,Te,v),L(l,m,v),e(m,y),e(y,M),Vt(C,M,null),e(m,Ge),e(m,U),e(U,Le),L(l,$e,v),L(l,z,v),e(z,Ce),L(l,xe,v),L(l,u,v),Vt(I,u,null),e(u,Ie),e(u,E),e(E,Pe),e(E,P),e(P,Re),e(E,ke),e(E,V),e(V,We),e(E,ze),e(u,Fe),e(u,H),e(H,J),e(J,Be),e(u,qe),e(u,d),e(d,w),e(w,j),e(j,Me),e(w,Ue),e(w,K),e(K,Ve),e(w,He),e(d,Je),e(d,S),e(S,Q),e(Q,je),e(S,Ke),e(S,X),e(X,Qe),e(S,Xe),e(d,Ye),e(d,T),e(T,Y),e(Y,Ze),e(T,et),e(T,F),e(F,tt),e(T,at),e(d,rt),e(d,$),e($,Z),e(Z,ot),e($,st),e($,ee),e(ee,nt),e($,lt),e(d,it),e(d,x),e(x,te),e(te,ct),e(x,dt),e(x,ae),e(ae,ht),e(x,ft),e(d,ut),e(d,O),e(O,re),e(re,pt),e(O,vt),e(O,oe),e(oe,_t),e(O,gt),e(d,mt),e(d,A),e(A,se),e(se,Et),e(A,bt),e(A,ne),e(ne,yt),e(A,wt),L(l,Oe,v),L(l,h,v),Vt(R,h,null),e(h,St),e(h,b),e(b,Tt),e(b,k),e(k,$t),e(b,xt),e(b,le),e(le,Ot),e(b,At),e(h,Dt),e(h,ie),e(ie,Nt),e(h,Gt),e(h,ce),e(ce,de),e(de,Lt),e(h,Ct),e(h,W),e(W,D),e(D,he),e(he,It),e(D,Pt),e(D,fe),e(fe,Rt),e(D,kt),e(W,Wt),e(W,N),e(N,ue),e(ue,zt),e(N,Ft),e(N,pe),e(pe,Bt),e(N,qt),Ae=!0},p:La,i(l){Ae||(Ht(C.$$.fragment,l),Ht(I.$$.fragment,l),Ht(R.$$.fragment,l),Ae=!0)},o(l){Jt(C.$$.fragment,l),Jt(I.$$.fragment,l),Jt(R.$$.fragment,l),Ae=!1},d(l){t(g),l&&t(Te),l&&t(m),jt(C),l&&t($e),l&&t(z),l&&t(xe),l&&t(u),jt(I),l&&t(Oe),l&&t(h),jt(R)}}}const Ra={local:"accelerate.state.AcceleratorState",title:"Stateful Classes"};function ka(Kt){return Ca(()=>{new URLSearchParams(window.location.search).get("fw")}),[]}class Fa extends Aa{constructor(g){super();Da(this,g,ka,Pa,Na,{})}}export{Fa as default,Ra as metadata};
