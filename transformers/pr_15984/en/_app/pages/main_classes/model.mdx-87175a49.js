import{S as i4,i as l4,s as d4,e as o,k as l,w as c,t as r,M as p4,c as s,d as t,m as d,a,x as m,h as i,b as p,F as e,g as v,y as u,q as g,o as h,B as _}from"../../chunks/vendor-4833417e.js";import{T as Fp}from"../../chunks/Tip-fffd6df1.js";import{D as f}from"../../chunks/Docstring-4f315ed9.js";import{C as O}from"../../chunks/CodeBlock-6a3d1b46.js";import{I as xt}from"../../chunks/IconCopyLink-4b81c553.js";import"../../chunks/CopyButton-dacfbfaf.js";function c4(ee){let x,E;return{c(){x=o("p"),E=r("Passing `use_auth_token=True\u201C is required when you want to use a private model.")},l(T){x=s(T,"P",{});var $=a(x);E=i($,"Passing `use_auth_token=True\u201C is required when you want to use a private model."),$.forEach(t)},m(T,$){v(T,x,$),e(x,E)},d(T){T&&t(x)}}}function m4(ee){let x,E,T,$,te;return{c(){x=o("p"),E=r("Activate the special "),T=o("a"),$=r("\u201Coffline-mode\u201D"),te=r(` to
use this method in a firewalled environment.`),this.h()},l(A){x=s(A,"P",{});var I=a(x);E=i(I,"Activate the special "),T=s(I,"A",{href:!0,rel:!0});var Me=a(T);$=i(Me,"\u201Coffline-mode\u201D"),Me.forEach(t),te=i(I,` to
use this method in a firewalled environment.`),I.forEach(t),this.h()},h(){p(T,"href","https://huggingface.co/transformers/installation.html#offline-mode"),p(T,"rel","nofollow")},m(A,I){v(A,x,I),e(x,E),e(x,T),e(T,$),e(x,te)},d(A){A&&t(x)}}}function u4(ee){let x,E;return{c(){x=o("p"),E=r("This API is experimental and may have some slight breaking changes in the next releases.")},l(T){x=s(T,"P",{});var $=a(x);E=i($,"This API is experimental and may have some slight breaking changes in the next releases."),$.forEach(t)},m(T,$){v(T,x,$),e(x,E)},d(T){T&&t(x)}}}function g4(ee){let x,E,T,$,te;return{c(){x=o("p"),E=r("Passing "),T=o("code"),$=r("use_auth_token=True"),te=r(" is required when you want to use a private model.")},l(A){x=s(A,"P",{});var I=a(x);E=i(I,"Passing "),T=s(I,"CODE",{});var Me=a(T);$=i(Me,"use_auth_token=True"),Me.forEach(t),te=i(I," is required when you want to use a private model."),I.forEach(t)},m(A,I){v(A,x,I),e(x,E),e(x,T),e(T,$),e(x,te)},d(A){A&&t(x)}}}function h4(ee){let x,E;return{c(){x=o("p"),E=r("This API is experimental and may have some slight breaking changes in the next releases.")},l(T){x=s(T,"P",{});var $=a(x);E=i($,"This API is experimental and may have some slight breaking changes in the next releases."),$.forEach(t)},m(T,$){v(T,x,$),e(x,E)},d(T){T&&t(x)}}}function _4(ee){let x,E,T,$,te,A,I,Me,Am,Op,ie,Gm,Aa,Sm,Nm,Ga,Cm,Im,Sa,Bm,Wm,zp,nt,Na,Um,Hm,Ca,Vm,Xm,Dp,wt,Ir,Rm,Ym,Br,Km,Ap,B,Zm,Ia,Jm,Qm,Wr,eu,tu,Ba,nu,ou,Wa,su,au,Ua,ru,iu,Gp,ot,Tt,Ur,Hn,lu,Hr,du,Sp,w,Vn,pu,Vr,cu,mu,Ha,Va,uu,gu,hu,Xn,Xr,_u,fu,Rr,bu,vu,Yr,yu,ku,ne,Kr,Ae,Zr,xu,wu,Xa,Tu,ju,Ra,$u,Mu,Pu,Rn,Ge,Jr,Eu,Lu,Qr,qu,Fu,ei,Ou,zu,Du,st,jt,ti,Au,Gu,Ya,Su,Nu,Cu,$t,ni,Iu,Bu,oi,Wu,Uu,Hu,Mt,si,Vu,Xu,ai,Ru,Yu,Ku,ri,Pt,ii,Zu,Ju,li,Qu,eg,tg,di,Et,pi,ng,og,ci,sg,ag,rg,mi,V,ui,ig,lg,gi,dg,pg,hi,cg,mg,_i,ug,gg,fi,hg,_g,fg,le,Yn,bg,Kn,vg,bi,yg,kg,xg,vi,wg,Tg,Zn,jg,z,Jn,$g,yi,Mg,Pg,at,Eg,ki,Lg,qg,xi,Fg,Og,zg,Qn,Dg,wi,Ag,Gg,Sg,eo,Ng,Ti,Cg,Ig,Bg,Lt,Wg,qt,Ug,ji,Hg,Vg,to,Xg,Ft,no,Rg,$i,Yg,Kg,Ot,oo,Zg,Mi,Jg,Qg,Se,so,eh,Pi,th,nh,Ei,oh,sh,Ne,ao,ah,Li,rh,ih,qi,lh,dh,zt,ro,ph,Fi,ch,mh,Dt,io,uh,Oi,gh,hh,At,lo,_h,zi,fh,bh,Ce,po,vh,Di,yh,kh,Gt,xh,Ie,co,wh,mo,Th,Ai,jh,$h,Mh,uo,Ph,Gi,Eh,Lh,qh,St,go,Fh,ho,Oh,Si,zh,Dh,Ah,Nt,_o,Gh,Ni,Sh,Nh,Be,fo,Ch,Ci,Ih,Bh,bo,Wh,Ii,Uh,Hh,Np,Ka,Cp,rt,Ct,Bi,vo,Vh,Wi,Xh,Ip,de,Rh,Ui,Yh,Kh,Hi,Zh,Jh,Vi,Qh,e_,Bp,yo,Wp,We,t_,Xi,n_,o_,Ri,s_,a_,Up,ko,Hp,It,r_,Yi,i_,l_,Vp,xo,Xp,Za,d_,Rp,it,Bt,Ki,wo,p_,Zi,c_,Yp,L,To,m_,jo,u_,Ji,g_,h_,__,Ue,$o,f_,Qi,b_,v_,lt,y_,el,k_,x_,tl,w_,T_,j_,Wt,Mo,$_,nl,M_,P_,Ut,Po,E_,dt,L_,ol,q_,F_,Eo,O_,z_,D_,Ht,Lo,A_,sl,G_,S_,Vt,qo,N_,al,C_,I_,Xt,Fo,B_,rl,W_,U_,Rt,Oo,H_,il,V_,X_,Yt,zo,R_,pt,Y_,ll,K_,Z_,Ja,J_,Q_,Kp,ct,Kt,dl,Do,ef,pl,tf,Zp,y,Ao,nf,cl,of,sf,Qa,er,af,rf,lf,Go,ml,df,pf,ul,cf,mf,gl,uf,gf,mt,He,hl,hf,_f,tr,ff,bf,nr,vf,yf,kf,Zt,_l,xf,wf,fl,Tf,jf,$f,X,bl,Mf,Pf,vl,Ef,Lf,yl,qf,Ff,kl,Of,zf,xl,Df,Af,Gf,pe,So,Sf,No,Nf,wl,Cf,If,Bf,Tl,Wf,Uf,Co,Hf,Jt,Io,Vf,jl,Xf,Rf,S,Bo,Yf,$l,Kf,Zf,Wo,Jf,Ml,Qf,eb,tb,Uo,nb,Pl,ob,sb,ab,Qt,rb,El,ib,lb,Ho,db,en,Vo,pb,Ll,cb,mb,tn,Xo,ub,ql,gb,hb,nn,Ro,_b,Fl,fb,bb,on,Yo,vb,Ol,yb,kb,sn,Ko,xb,zl,wb,Tb,an,Zo,jb,Dl,$b,Mb,rn,Jo,Pb,Al,Eb,Lb,ln,Qo,qb,Gl,Fb,Ob,Ve,es,zb,ts,Db,Sl,Ab,Gb,Sb,ns,Nb,Nl,Cb,Ib,Bb,dn,os,Wb,ss,Ub,or,Hb,Vb,Xb,pn,as,Rb,Cl,Yb,Kb,cn,rs,Zb,Il,Jb,Qb,mn,is,ev,Bl,tv,nv,un,ls,ov,Wl,sv,av,gn,ds,rv,Ul,iv,lv,hn,ps,dv,Hl,pv,cv,ce,cs,mv,oe,uv,Vl,gv,hv,Xl,_v,fv,Rl,bv,vv,Yl,yv,kv,xv,ut,wv,Kl,Tv,jv,Zl,$v,Mv,Pv,gt,Ev,Jl,Lv,qv,Ql,Fv,Ov,Jp,ht,_n,ed,ms,zv,td,Dv,Qp,Pe,us,Av,gs,Gv,nd,Sv,Nv,Cv,fn,hs,Iv,od,Bv,ec,_t,bn,sd,_s,Wv,ad,Uv,tc,M,fs,Hv,rd,Vv,Xv,sr,ar,Rv,Yv,Kv,id,Zv,Jv,ft,Xe,ld,Qv,ey,rr,ty,ny,ir,oy,sy,ay,vn,dd,ry,iy,pd,ly,dy,py,R,cd,cy,my,md,uy,gy,ud,hy,_y,gd,fy,by,hd,vy,yy,ky,me,bs,xy,vs,wy,_d,Ty,jy,$y,fd,My,Py,ys,Ey,W,ks,Ly,bd,qy,Fy,xs,Oy,vd,zy,Dy,Ay,ws,Gy,yd,Sy,Ny,Cy,kd,Iy,By,Ts,Wy,Re,js,Uy,xd,Hy,Vy,yn,Xy,kn,$s,Ry,Ms,Yy,wd,Ky,Zy,Jy,Y,Ps,Qy,se,e1,Td,t1,n1,jd,o1,s1,$d,a1,r1,Md,i1,l1,d1,Pd,p1,c1,Ed,m1,u1,Es,g1,K,Ls,h1,ae,_1,Ld,f1,b1,qd,v1,y1,Fd,k1,x1,Od,w1,T1,j1,zd,$1,M1,Dd,P1,E1,qs,L1,ue,Fs,q1,re,F1,Ad,O1,z1,Gd,D1,A1,Sd,G1,S1,Nd,N1,C1,I1,Cd,B1,W1,Os,nc,bt,xn,Id,zs,U1,Bd,H1,oc,P,Ds,V1,As,X1,lr,R1,Y1,K1,wn,Gs,Z1,Ss,J1,dr,Q1,ek,tk,ge,Ns,nk,Wd,ok,sk,Ud,ak,rk,Cs,ik,he,Is,lk,Hd,dk,pk,Vd,ck,mk,Bs,uk,Tn,Ws,gk,Xd,hk,_k,_e,Us,fk,Rd,bk,vk,Yd,yk,kk,Hs,xk,U,Vs,wk,Kd,Tk,jk,vt,$k,Zd,Mk,Pk,pr,Ek,Lk,qk,Xs,Fk,Rs,Ok,zk,Dk,Jd,Ak,Gk,Ys,Sk,fe,Ks,Nk,Qd,Ck,Ik,ep,Bk,Wk,Zs,Uk,be,Js,Hk,tp,Vk,Xk,np,Rk,Yk,Qs,Kk,jn,ea,Zk,ta,Jk,cr,Qk,ex,tx,ve,na,nx,op,ox,sx,sp,ax,rx,oa,sc,G,sa,ix,aa,lx,mr,dx,px,cx,$n,ra,mx,ia,ux,ur,gx,hx,_x,N,la,fx,ap,bx,vx,da,yx,pa,kx,xx,wx,Ee,Tx,rp,jx,$x,ip,Mx,Px,gr,Ex,Lx,qx,ca,Fx,ma,Ox,zx,Dx,lp,Ax,Gx,ua,Sx,ye,ga,Nx,dp,Cx,Ix,pp,Bx,Wx,ha,Ux,Mn,_a,Hx,fa,Vx,hr,Xx,Rx,Yx,ke,ba,Kx,cp,Zx,Jx,mp,Qx,ew,va,ac,Le,ya,tw,ka,nw,_r,ow,sw,aw,H,xa,rw,up,iw,lw,yt,dw,gp,pw,cw,fr,mw,uw,gw,wa,hw,Ta,_w,fw,bw,hp,vw,yw,ja,rc,kt,Pn,_p,$a,kw,fp,xw,ic,qe,Ma,ww,bp,Tw,jw,xe,Pa,$w,Ea,Mw,vp,Pw,Ew,Lw,yp,qw,Fw,La,lc;return A=new xt({}),Hn=new xt({}),Vn=new f({props:{name:"class transformers.PreTrainedModel",anchor:"transformers.PreTrainedModel",parameters:[{name:"config",val:": PretrainedConfig"},{name:"*inputs",val:""},{name:"**kwargs",val:""}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_utils.py#L423"}}),Yn=new f({props:{name:"push_to_hub",anchor:"transformers.file_utils.PushToHubMixin.push_to_hub",parameters:[{name:"repo_path_or_name",val:": typing.Optional[str] = None"},{name:"repo_url",val:": typing.Optional[str] = None"},{name:"use_temp_dir",val:": bool = False"},{name:"commit_message",val:": typing.Optional[str] = None"},{name:"organization",val:": typing.Optional[str] = None"},{name:"private",val:": typing.Optional[bool] = None"},{name:"use_auth_token",val:": typing.Union[bool, str, NoneType] = None"},{name:"**model_card_kwargs",val:""}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/file_utils.py#L2842",parametersDescription:[{anchor:"transformers.file_utils.PushToHubMixin.push_to_hub.repo_path_or_name",description:`<strong>repo_path_or_name</strong> (<code>str</code>, <em>optional</em>) &#x2014;
Can either be a repository name for your model in the Hub or a path to a local folder (in which case
the repository will have the name of that local folder). If not specified, will default to the name
given by <code>repo_url</code> and a local directory with that name will be created.`,name:"repo_path_or_name"},{anchor:"transformers.file_utils.PushToHubMixin.push_to_hub.repo_url",description:`<strong>repo_url</strong> (<code>str</code>, <em>optional</em>) &#x2014;
Specify this in case you want to push to an existing repository in the hub. If unspecified, a new
repository will be created in your namespace (unless you specify an <code>organization</code>) with <code>repo_name</code>.`,name:"repo_url"},{anchor:"transformers.file_utils.PushToHubMixin.push_to_hub.use_temp_dir",description:`<strong>use_temp_dir</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to clone the distant repo in a temporary directory or in <code>repo_path_or_name</code> inside the
current working directory. This will slow things down if you are making changes in an existing repo
since you will need to clone the repo before every push.`,name:"use_temp_dir"},{anchor:"transformers.file_utils.PushToHubMixin.push_to_hub.commit_message",description:`<strong>commit_message</strong> (<code>str</code>, <em>optional</em>) &#x2014;
Message to commit while pushing. Will default to <code>&quot;add model&quot;</code>.`,name:"commit_message"},{anchor:"transformers.file_utils.PushToHubMixin.push_to_hub.organization",description:`<strong>organization</strong> (<code>str</code>, <em>optional</em>) &#x2014;
Organization in which you want to push your model (you must be a member of this organization).`,name:"organization"},{anchor:"transformers.file_utils.PushToHubMixin.push_to_hub.private",description:`<strong>private</strong> (<code>bool</code>, <em>optional</em>) &#x2014;
Whether or not the repository created should be private (requires a paying subscription).`,name:"private"},{anchor:"transformers.file_utils.PushToHubMixin.push_to_hub.use_auth_token",description:`<strong>use_auth_token</strong> (<code>bool</code> or <code>str</code>, <em>optional</em>) &#x2014;
The token to use as HTTP bearer authorization for remote files. If <code>True</code>, will use the token generated
when running <code>transformers-cli login</code> (stored in <code>~/.huggingface</code>). Will default to <code>True</code> if
<code>repo_url</code> is not specified.`,name:"use_auth_token"}],returnDescription:`
<p>The url of the commit of your model in the given repository.</p>
`,returnType:`
<p><code>str</code></p>
`}}),Zn=new O({props:{code:`from transformers import AutoModel

model = AutoModel.from_pretrained("bert-base-cased")

# Push the model to your namespace with the name "my-finetuned-bert" and have a local clone in the
# *my-finetuned-bert* folder.
model.push_to_hub("my-finetuned-bert")

# Push the model to your namespace with the name "my-finetuned-bert" with no local clone.
model.push_to_hub("my-finetuned-bert", use_temp_dir=True)

# Push the model to an organization with the name "my-finetuned-bert" and have a local clone in the
# *my-finetuned-bert* folder.
model.push_to_hub("my-finetuned-bert", organization="huggingface")

# Make a change to an existing repo that has been cloned locally in *my-finetuned-bert*.
model.push_to_hub("my-finetuned-bert", repo_url="https://huggingface.co/sgugger/my-finetuned-bert")`,highlighted:`<span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> AutoModel

model = AutoModel.from_pretrained(<span class="hljs-string">&quot;bert-base-cased&quot;</span>)

<span class="hljs-comment"># Push the model to your namespace with the name &quot;my-finetuned-bert&quot; and have a local clone in the</span>
<span class="hljs-comment"># *my-finetuned-bert* folder.</span>
model.push_to_hub(<span class="hljs-string">&quot;my-finetuned-bert&quot;</span>)

<span class="hljs-comment"># Push the model to your namespace with the name &quot;my-finetuned-bert&quot; with no local clone.</span>
model.push_to_hub(<span class="hljs-string">&quot;my-finetuned-bert&quot;</span>, use_temp_dir=<span class="hljs-literal">True</span>)

<span class="hljs-comment"># Push the model to an organization with the name &quot;my-finetuned-bert&quot; and have a local clone in the</span>
<span class="hljs-comment"># *my-finetuned-bert* folder.</span>
model.push_to_hub(<span class="hljs-string">&quot;my-finetuned-bert&quot;</span>, organization=<span class="hljs-string">&quot;huggingface&quot;</span>)

<span class="hljs-comment"># Make a change to an existing repo that has been cloned locally in *my-finetuned-bert*.</span>
model.push_to_hub(<span class="hljs-string">&quot;my-finetuned-bert&quot;</span>, repo_url=<span class="hljs-string">&quot;https://huggingface.co/sgugger/my-finetuned-bert&quot;</span>)`}}),Jn=new f({props:{name:"from_pretrained",anchor:"transformers.PreTrainedModel.from_pretrained",parameters:[{name:"pretrained_model_name_or_path",val:": typing.Union[str, os.PathLike, NoneType]"},{name:"*model_args",val:""},{name:"**kwargs",val:""}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_utils.py#L1090",parametersDescription:[{anchor:"transformers.PreTrainedModel.from_pretrained.pretrained_model_name_or_path",description:`<strong>pretrained_model_name_or_path</strong> (<code>str</code> or <code>os.PathLike</code>, <em>optional</em>) &#x2014;
Can be either:</p>
<ul>
<li>A string, the <em>model id</em> of a pretrained model hosted inside a model repo on huggingface.co.
Valid model ids can be located at the root-level, like <code>bert-base-uncased</code>, or namespaced under a
user or organization name, like <code>dbmdz/bert-base-german-cased</code>.</li>
<li>A path to a <em>directory</em> containing model weights saved using
<a href="/docs/transformers/pr_15984/en/main_classes/model#transformers.PreTrainedModel.save_pretrained">save_pretrained()</a>, e.g., <code>./my_model_directory/</code>.</li>
<li>A path or url to a <em>tensorflow index checkpoint file</em> (e.g, <code>./tf_model/model.ckpt.index</code>). In
this case, <code>from_tf</code> should be set to <code>True</code> and a configuration object should be provided as
<code>config</code> argument. This loading path is slower than converting the TensorFlow checkpoint in a
PyTorch model using the provided conversion scripts and loading the PyTorch model afterwards.</li>
<li>A path or url to a model folder containing a <em>flax checkpoint file</em> in <em>.msgpack</em> format (e.g,
<code>./flax_model/</code> containing <code>flax_model.msgpack</code>). In this case, <code>from_flax</code> should be set to
<code>True</code>.</li>
<li><code>None</code> if you are both providing the configuration and state dictionary (resp. with keyword
arguments <code>config</code> and <code>state_dict</code>).</li>
</ul>`,name:"pretrained_model_name_or_path"},{anchor:"transformers.PreTrainedModel.from_pretrained.model_args",description:`<strong>model_args</strong> (sequence of positional arguments, <em>optional</em>) &#x2014;
All remaining positional arguments will be passed to the underlying model&#x2019;s <code>__init__</code> method.`,name:"model_args"},{anchor:"transformers.PreTrainedModel.from_pretrained.config",description:`<strong>config</strong> (<code>Union[PretrainedConfig, str, os.PathLike]</code>, <em>optional</em>) &#x2014;
Can be either:</p>
<ul>
<li>an instance of a class derived from <a href="/docs/transformers/pr_15984/en/main_classes/configuration#transformers.PretrainedConfig">PretrainedConfig</a>,</li>
<li>a string or path valid as input to <a href="/docs/transformers/pr_15984/en/main_classes/configuration#transformers.PretrainedConfig.from_pretrained">from_pretrained()</a>.</li>
</ul>`,name:"config"}]}}),Lt=new Fp({props:{$$slots:{default:[c4]},$$scope:{ctx:ee}}}),qt=new Fp({props:{$$slots:{default:[m4]},$$scope:{ctx:ee}}}),to=new O({props:{code:`from transformers import BertConfig, BertModel

# Download model and configuration from huggingface.co and cache.
model = BertModel.from_pretrained("bert-base-uncased")
# Model was saved using *save_pretrained('./test/saved_model/')* (for example purposes, not runnable).
model = BertModel.from_pretrained("./test/saved_model/")
# Update configuration during loading.
model = BertModel.from_pretrained("bert-base-uncased", output_attentions=True)
assert model.config.output_attentions == True
# Loading from a TF checkpoint file instead of a PyTorch model (slower, for example purposes, not runnable).
config = BertConfig.from_json_file("./tf_model/my_tf_model_config.json")
model = BertModel.from_pretrained("./tf_model/my_tf_checkpoint.ckpt.index", from_tf=True, config=config)
# Loading from a Flax checkpoint file instead of a PyTorch model (slower)
model = BertModel.from_pretrained("bert-base-uncased", from_flax=True)`,highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> BertConfig, BertModel

<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># Download model and configuration from huggingface.co and cache.</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>model = BertModel.from_pretrained(<span class="hljs-string">&quot;bert-base-uncased&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># Model was saved using *save_pretrained(&#x27;./test/saved_model/&#x27;)* (for example purposes, not runnable).</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>model = BertModel.from_pretrained(<span class="hljs-string">&quot;./test/saved_model/&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># Update configuration during loading.</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>model = BertModel.from_pretrained(<span class="hljs-string">&quot;bert-base-uncased&quot;</span>, output_attentions=<span class="hljs-literal">True</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">assert</span> model.config.output_attentions == <span class="hljs-literal">True</span>
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># Loading from a TF checkpoint file instead of a PyTorch model (slower, for example purposes, not runnable).</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>config = BertConfig.from_json_file(<span class="hljs-string">&quot;./tf_model/my_tf_model_config.json&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>model = BertModel.from_pretrained(<span class="hljs-string">&quot;./tf_model/my_tf_checkpoint.ckpt.index&quot;</span>, from_tf=<span class="hljs-literal">True</span>, config=config)
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># Loading from a Flax checkpoint file instead of a PyTorch model (slower)</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>model = BertModel.from_pretrained(<span class="hljs-string">&quot;bert-base-uncased&quot;</span>, from_flax=<span class="hljs-literal">True</span>)`}}),no=new f({props:{name:"get_input_embeddings",anchor:"transformers.PreTrainedModel.get_input_embeddings",parameters:[],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_utils.py#L575",returnDescription:`
<p>A torch module mapping vocabulary to hidden states.</p>
`,returnType:`
<p><code>nn.Module</code></p>
`}}),oo=new f({props:{name:"get_output_embeddings",anchor:"transformers.PreTrainedModel.get_output_embeddings",parameters:[],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_utils.py#L601",returnDescription:`
<p>A torch module mapping hidden states to vocabulary.</p>
`,returnType:`
<p><code>nn.Module</code></p>
`}}),so=new f({props:{name:"gradient_checkpointing_disable",anchor:"transformers.PreTrainedModel.gradient_checkpointing_disable",parameters:[],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_utils.py#L979"}}),ao=new f({props:{name:"gradient_checkpointing_enable",anchor:"transformers.PreTrainedModel.gradient_checkpointing_enable",parameters:[],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_utils.py#L968"}}),ro=new f({props:{name:"init_weights",anchor:"transformers.PreTrainedModel.init_weights",parameters:[],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_utils.py#L935"}}),io=new f({props:{name:"post_init",anchor:"transformers.PreTrainedModel.post_init",parameters:[],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_utils.py#L494"}}),lo=new f({props:{name:"prune_heads",anchor:"transformers.PreTrainedModel.prune_heads",parameters:[{name:"heads_to_prune",val:": typing.Dict[int, typing.List[int]]"}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_utils.py#L951",parametersDescription:[{anchor:"transformers.PreTrainedModel.prune_heads.heads_to_prune",description:`<strong>heads_to_prune</strong> (<code>Dict[int, List[int]]</code>) &#x2014;
Dictionary with keys being selected layer indices (<code>int</code>) and associated values being the list of heads
to prune in said layer (list of <code>int</code>). For instance {1: [0, 2], 2: [2, 3]} will prune heads 0 and 2 on
layer 1 and heads 2 and 3 on layer 2.`,name:"heads_to_prune"}]}}),po=new f({props:{name:"register_for_auto_class",anchor:"transformers.PreTrainedModel.register_for_auto_class",parameters:[{name:"auto_class",val:" = 'AutoModel'"}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_utils.py#L1816",parametersDescription:[{anchor:"transformers.PreTrainedModel.register_for_auto_class.auto_class",description:`<strong>auto_class</strong> (<code>str</code> or <code>type</code>, <em>optional</em>, defaults to <code>&quot;AutoModel&quot;</code>) &#x2014;
The auto class to register this new model with.`,name:"auto_class"}]}}),Gt=new Fp({props:{warning:"&lcub;true}",$$slots:{default:[u4]},$$scope:{ctx:ee}}}),co=new f({props:{name:"resize_token_embeddings",anchor:"transformers.PreTrainedModel.resize_token_embeddings",parameters:[{name:"new_num_tokens",val:": typing.Optional[int] = None"}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_utils.py#L729",parametersDescription:[{anchor:"transformers.PreTrainedModel.resize_token_embeddings.new_num_tokens",description:`<strong>new_num_tokens</strong> (<code>int</code>, <em>optional</em>) &#x2014;
The number of new tokens in the embedding matrix. Increasing the size will add newly initialized
vectors at the end. Reducing the size will remove vectors from the end. If not provided or <code>None</code>, just
returns a pointer to the input tokens <code>torch.nn.Embedding</code> module of the model without doing anything.`,name:"new_num_tokens"}],returnDescription:`
<p>Pointer to the input tokens Embeddings Module of the model.</p>
`,returnType:`
<p><code>torch.nn.Embedding</code></p>
`}}),go=new f({props:{name:"save_pretrained",anchor:"transformers.PreTrainedModel.save_pretrained",parameters:[{name:"save_directory",val:": typing.Union[str, os.PathLike]"},{name:"save_config",val:": bool = True"},{name:"state_dict",val:": typing.Optional[dict] = None"},{name:"save_function",val:": typing.Callable = <function save at 0x7f1ddd8f9dc0>"},{name:"push_to_hub",val:": bool = False"},{name:"**kwargs",val:""}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_utils.py#L999",parametersDescription:[{anchor:"transformers.PreTrainedModel.save_pretrained.save_directory",description:`<strong>save_directory</strong> (<code>str</code> or <code>os.PathLike</code>) &#x2014;
Directory to which to save. Will be created if it doesn&#x2019;t exist.`,name:"save_directory"},{anchor:"transformers.PreTrainedModel.save_pretrained.save_config",description:`<strong>save_config</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>True</code>) &#x2014;
Whether or not to save the config of the model. Useful when in distributed training like TPUs and need
to call this function on all processes. In this case, set <code>save_config=True</code> only on the main process
to avoid race conditions.`,name:"save_config"},{anchor:"transformers.PreTrainedModel.save_pretrained.state_dict",description:`<strong>state_dict</strong> (nested dictionary of <code>torch.Tensor</code>) &#x2014;
The state dictionary of the model to save. Will default to <code>self.state_dict()</code>, but can be used to only
save parts of the model or if special precautions need to be taken when recovering the state dictionary
of a model (like when using model parallelism).`,name:"state_dict"},{anchor:"transformers.PreTrainedModel.save_pretrained.save_function",description:`<strong>save_function</strong> (<code>Callable</code>) &#x2014;
The function to use to save the state dictionary. Useful on distributed training like TPUs when one
need to replace <code>torch.save</code> by another method.`,name:"save_function"},{anchor:"transformers.PreTrainedModel.save_pretrained.push_to_hub",description:`<strong>push_to_hub</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to push your model to the Hugging Face model hub after saving it.</p>
<div class="course-tip course-tip-orange bg-gradient-to-br dark:bg-gradient-to-r before:border-orange-500 dark:before:border-orange-800 from-orange-50 dark:from-gray-900 to-white dark:to-gray-950 border border-orange-50 text-orange-700 dark:text-gray-400">
						
<p>Using <code>push_to_hub=True</code> will synchronize the repository you are pushing to with <code>save_directory</code>,
which requires <code>save_directory</code> to be a local clone of the repo you are pushing to if it&#x2019;s an existing
folder. Pass along <code>temp_dir=True</code> to use a temporary directory instead.</p>

					</div>
<p>kwargs &#x2014;
Additional key word arguments passed along to the <a href="/docs/transformers/pr_15984/en/main_classes/model#transformers.file_utils.PushToHubMixin.push_to_hub">push_to_hub()</a> method.`,name:"push_to_hub"}]}}),_o=new f({props:{name:"set_input_embeddings",anchor:"transformers.PreTrainedModel.set_input_embeddings",parameters:[{name:"value",val:": Module"}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_utils.py#L588",parametersDescription:[{anchor:"transformers.PreTrainedModel.set_input_embeddings.value",description:"<strong>value</strong> (<code>nn.Module</code>) &#x2014; A module mapping vocabulary to hidden states.",name:"value"}]}}),fo=new f({props:{name:"tie_weights",anchor:"transformers.PreTrainedModel.tie_weights",parameters:[],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_utils.py#L616"}}),vo=new xt({}),yo=new O({props:{code:'model = T5ForConditionalGeneration.from_pretrained("t5", torch_dtype=torch.float16)',highlighted:'model = T5ForConditionalGeneration.from_pretrained(<span class="hljs-string">&quot;t5&quot;</span>, torch_dtype=torch.float16)'}}),ko=new O({props:{code:'model = T5ForConditionalGeneration.from_pretrained("t5", torch_dtype="auto")',highlighted:'model = T5ForConditionalGeneration.from_pretrained(<span class="hljs-string">&quot;t5&quot;</span>, torch_dtype=<span class="hljs-string">&quot;auto&quot;</span>)'}}),xo=new O({props:{code:`config = T5Config.from_pretrained("t5")
model = AutoModel.from_config(config)`,highlighted:`config = T5Config.from_pretrained(<span class="hljs-string">&quot;t5&quot;</span>)
model = AutoModel.from_config(config)`}}),wo=new xt({}),To=new f({props:{name:"class transformers.modeling_utils.ModuleUtilsMixin",anchor:"transformers.modeling_utils.ModuleUtilsMixin",parameters:[],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_utils.py#L151"}}),$o=new f({props:{name:"add_memory_hooks",anchor:"transformers.modeling_utils.ModuleUtilsMixin.add_memory_hooks",parameters:[],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_utils.py#L182"}}),Mo=new f({props:{name:"estimate_tokens",anchor:"transformers.modeling_utils.ModuleUtilsMixin.estimate_tokens",parameters:[{name:"input_dict",val:": typing.Dict[str, typing.Union[torch.Tensor, typing.Any]]"}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_utils.py#L378",parametersDescription:[{anchor:"transformers.modeling_utils.ModuleUtilsMixin.estimate_tokens.inputs",description:"<strong>inputs</strong> (<code>dict</code>) &#x2014; The model inputs.",name:"inputs"}],returnDescription:`
<p>The total number of tokens.</p>
`,returnType:`
<p><code>int</code></p>
`}}),Po=new f({props:{name:"floating_point_ops",anchor:"transformers.modeling_utils.ModuleUtilsMixin.floating_point_ops",parameters:[{name:"input_dict",val:": typing.Dict[str, typing.Union[torch.Tensor, typing.Any]]"},{name:"exclude_embeddings",val:": bool = True"}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_utils.py#L396",parametersDescription:[{anchor:"transformers.modeling_utils.ModuleUtilsMixin.floating_point_ops.batch_size",description:`<strong>batch_size</strong> (<code>int</code>) &#x2014;
The batch size for the forward pass.`,name:"batch_size"},{anchor:"transformers.modeling_utils.ModuleUtilsMixin.floating_point_ops.sequence_length",description:`<strong>sequence_length</strong> (<code>int</code>) &#x2014;
The number of tokens in each line of the batch.`,name:"sequence_length"},{anchor:"transformers.modeling_utils.ModuleUtilsMixin.floating_point_ops.exclude_embeddings",description:`<strong>exclude_embeddings</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>True</code>) &#x2014;
Whether or not to count embedding and softmax operations.`,name:"exclude_embeddings"}],returnDescription:`
<p>The number of floating-point operations.</p>
`,returnType:`
<p><code>int</code></p>
`}}),Lo=new f({props:{name:"get_extended_attention_mask",anchor:"transformers.modeling_utils.ModuleUtilsMixin.get_extended_attention_mask",parameters:[{name:"attention_mask",val:": Tensor"},{name:"input_shape",val:": typing.Tuple[int]"},{name:"device",val:": <property object at 0x7f1d7452a310>"}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_utils.py#L271",parametersDescription:[{anchor:"transformers.modeling_utils.ModuleUtilsMixin.get_extended_attention_mask.attention_mask",description:`<strong>attention_mask</strong> (<code>torch.Tensor</code>) &#x2014;
Mask with ones indicating tokens to attend to, zeros for tokens to ignore.`,name:"attention_mask"},{anchor:"transformers.modeling_utils.ModuleUtilsMixin.get_extended_attention_mask.input_shape",description:`<strong>input_shape</strong> (<code>Tuple[int]</code>) &#x2014;
The shape of the input to the model.
device &#x2014; (<code>torch.device</code>):
The device of the input to the model.`,name:"input_shape"}],returnDescription:`
<p><code>torch.Tensor</code> The extended attention mask, with a the same dtype as <code>attention_mask.dtype</code>.</p>
`}}),qo=new f({props:{name:"get_head_mask",anchor:"transformers.modeling_utils.ModuleUtilsMixin.get_head_mask",parameters:[{name:"head_mask",val:": typing.Optional[torch.Tensor]"},{name:"num_hidden_layers",val:": int"},{name:"is_attention_chunked",val:": bool = False"}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_utils.py#L314",parametersDescription:[{anchor:"transformers.modeling_utils.ModuleUtilsMixin.get_head_mask.head_mask",description:`<strong>head_mask</strong> (<code>torch.Tensor</code> with shape <code>[num_heads]</code> or <code>[num_hidden_layers x num_heads]</code>, <em>optional</em>) &#x2014;
The mask indicating if we should keep the heads or not (1.0 for keep, 0.0 for discard).`,name:"head_mask"},{anchor:"transformers.modeling_utils.ModuleUtilsMixin.get_head_mask.num_hidden_layers",description:`<strong>num_hidden_layers</strong> (<code>int</code>) &#x2014;
The number of hidden layers in the model.
is_attention_chunked &#x2014; (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>):
Whether or not the attentions scores are computed by chunks or not.`,name:"num_hidden_layers"}],returnDescription:`
<p><code>torch.Tensor</code> with shape <code>[num_hidden_layers x batch x num_heads x seq_length x seq_length]</code> or list with
<code>[None]</code> for each layer.</p>
`}}),Fo=new f({props:{name:"invert_attention_mask",anchor:"transformers.modeling_utils.ModuleUtilsMixin.invert_attention_mask",parameters:[{name:"encoder_attention_mask",val:": Tensor"}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_utils.py#L218",parametersDescription:[{anchor:"transformers.modeling_utils.ModuleUtilsMixin.invert_attention_mask.encoder_attention_mask",description:"<strong>encoder_attention_mask</strong> (<code>torch.Tensor</code>) &#x2014; An attention mask.",name:"encoder_attention_mask"}],returnDescription:`
<p>The inverted attention mask.</p>
`,returnType:`
<p><code>torch.Tensor</code></p>
`}}),Oo=new f({props:{name:"num_parameters",anchor:"transformers.modeling_utils.ModuleUtilsMixin.num_parameters",parameters:[{name:"only_trainable",val:": bool = False"},{name:"exclude_embeddings",val:": bool = False"}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_utils.py#L352",parametersDescription:[{anchor:"transformers.modeling_utils.ModuleUtilsMixin.num_parameters.only_trainable",description:`<strong>only_trainable</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to return only the number of trainable parameters`,name:"only_trainable"},{anchor:"transformers.modeling_utils.ModuleUtilsMixin.num_parameters.exclude_embeddings",description:`<strong>exclude_embeddings</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to return only the number of non-embeddings parameters`,name:"exclude_embeddings"}],returnDescription:`
<p>The number of parameters.</p>
`,returnType:`
<p><code>int</code></p>
`}}),zo=new f({props:{name:"reset_memory_hooks_state",anchor:"transformers.modeling_utils.ModuleUtilsMixin.reset_memory_hooks_state",parameters:[],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_utils.py#L194"}}),Do=new xt({}),Ao=new f({props:{name:"class transformers.TFPreTrainedModel",anchor:"transformers.TFPreTrainedModel",parameters:[{name:"*args",val:""},{name:"**kwargs",val:""}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_tf_utils.py#L646"}}),So=new f({props:{name:"push_to_hub",anchor:"transformers.file_utils.PushToHubMixin.push_to_hub",parameters:[{name:"repo_path_or_name",val:": typing.Optional[str] = None"},{name:"repo_url",val:": typing.Optional[str] = None"},{name:"use_temp_dir",val:": bool = False"},{name:"commit_message",val:": typing.Optional[str] = None"},{name:"organization",val:": typing.Optional[str] = None"},{name:"private",val:": typing.Optional[bool] = None"},{name:"use_auth_token",val:": typing.Union[bool, str, NoneType] = None"},{name:"**model_card_kwargs",val:""}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/file_utils.py#L2842",parametersDescription:[{anchor:"transformers.file_utils.PushToHubMixin.push_to_hub.repo_path_or_name",description:`<strong>repo_path_or_name</strong> (<code>str</code>, <em>optional</em>) &#x2014;
Can either be a repository name for your model in the Hub or a path to a local folder (in which case
the repository will have the name of that local folder). If not specified, will default to the name
given by <code>repo_url</code> and a local directory with that name will be created.`,name:"repo_path_or_name"},{anchor:"transformers.file_utils.PushToHubMixin.push_to_hub.repo_url",description:`<strong>repo_url</strong> (<code>str</code>, <em>optional</em>) &#x2014;
Specify this in case you want to push to an existing repository in the hub. If unspecified, a new
repository will be created in your namespace (unless you specify an <code>organization</code>) with <code>repo_name</code>.`,name:"repo_url"},{anchor:"transformers.file_utils.PushToHubMixin.push_to_hub.use_temp_dir",description:`<strong>use_temp_dir</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to clone the distant repo in a temporary directory or in <code>repo_path_or_name</code> inside the
current working directory. This will slow things down if you are making changes in an existing repo
since you will need to clone the repo before every push.`,name:"use_temp_dir"},{anchor:"transformers.file_utils.PushToHubMixin.push_to_hub.commit_message",description:`<strong>commit_message</strong> (<code>str</code>, <em>optional</em>) &#x2014;
Message to commit while pushing. Will default to <code>&quot;add model&quot;</code>.`,name:"commit_message"},{anchor:"transformers.file_utils.PushToHubMixin.push_to_hub.organization",description:`<strong>organization</strong> (<code>str</code>, <em>optional</em>) &#x2014;
Organization in which you want to push your model (you must be a member of this organization).`,name:"organization"},{anchor:"transformers.file_utils.PushToHubMixin.push_to_hub.private",description:`<strong>private</strong> (<code>bool</code>, <em>optional</em>) &#x2014;
Whether or not the repository created should be private (requires a paying subscription).`,name:"private"},{anchor:"transformers.file_utils.PushToHubMixin.push_to_hub.use_auth_token",description:`<strong>use_auth_token</strong> (<code>bool</code> or <code>str</code>, <em>optional</em>) &#x2014;
The token to use as HTTP bearer authorization for remote files. If <code>True</code>, will use the token generated
when running <code>transformers-cli login</code> (stored in <code>~/.huggingface</code>). Will default to <code>True</code> if
<code>repo_url</code> is not specified.`,name:"use_auth_token"}],returnDescription:`
<p>The url of the commit of your model in the given repository.</p>
`,returnType:`
<p><code>str</code></p>
`}}),Co=new O({props:{code:`from transformers import TFAutoModel

model = TFAutoModel.from_pretrained("bert-base-cased")

# Push the model to your namespace with the name "my-finetuned-bert" and have a local clone in the
# *my-finetuned-bert* folder.
model.push_to_hub("my-finetuned-bert")

# Push the model to your namespace with the name "my-finetuned-bert" with no local clone.
model.push_to_hub("my-finetuned-bert", use_temp_dir=True)

# Push the model to an organization with the name "my-finetuned-bert" and have a local clone in the
# *my-finetuned-bert* folder.
model.push_to_hub("my-finetuned-bert", organization="huggingface")

# Make a change to an existing repo that has been cloned locally in *my-finetuned-bert*.
model.push_to_hub("my-finetuned-bert", repo_url="https://huggingface.co/sgugger/my-finetuned-bert")`,highlighted:`<span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> TFAutoModel

model = TFAutoModel.from_pretrained(<span class="hljs-string">&quot;bert-base-cased&quot;</span>)

<span class="hljs-comment"># Push the model to your namespace with the name &quot;my-finetuned-bert&quot; and have a local clone in the</span>
<span class="hljs-comment"># *my-finetuned-bert* folder.</span>
model.push_to_hub(<span class="hljs-string">&quot;my-finetuned-bert&quot;</span>)

<span class="hljs-comment"># Push the model to your namespace with the name &quot;my-finetuned-bert&quot; with no local clone.</span>
model.push_to_hub(<span class="hljs-string">&quot;my-finetuned-bert&quot;</span>, use_temp_dir=<span class="hljs-literal">True</span>)

<span class="hljs-comment"># Push the model to an organization with the name &quot;my-finetuned-bert&quot; and have a local clone in the</span>
<span class="hljs-comment"># *my-finetuned-bert* folder.</span>
model.push_to_hub(<span class="hljs-string">&quot;my-finetuned-bert&quot;</span>, organization=<span class="hljs-string">&quot;huggingface&quot;</span>)

<span class="hljs-comment"># Make a change to an existing repo that has been cloned locally in *my-finetuned-bert*.</span>
model.push_to_hub(<span class="hljs-string">&quot;my-finetuned-bert&quot;</span>, repo_url=<span class="hljs-string">&quot;https://huggingface.co/sgugger/my-finetuned-bert&quot;</span>)`}}),Io=new f({props:{name:"compile",anchor:"transformers.TFPreTrainedModel.compile",parameters:[{name:"optimizer",val:" = 'rmsprop'"},{name:"loss",val:" = 'passthrough'"},{name:"metrics",val:" = None"},{name:"loss_weights",val:" = None"},{name:"weighted_metrics",val:" = None"},{name:"run_eagerly",val:" = None"},{name:"steps_per_execution",val:" = None"},{name:"**kwargs",val:""}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_tf_utils.py#L837"}}),Bo=new f({props:{name:"from_pretrained",anchor:"transformers.TFPreTrainedModel.from_pretrained",parameters:[{name:"pretrained_model_name_or_path",val:""},{name:"*model_args",val:""},{name:"**kwargs",val:""}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_tf_utils.py#L1399",parametersDescription:[{anchor:"transformers.TFPreTrainedModel.from_pretrained.pretrained_model_name_or_path",description:`<strong>pretrained_model_name_or_path</strong> (<code>str</code>, <em>optional</em>) &#x2014;
Can be either:</p>
<ul>
<li>A string, the <em>model id</em> of a pretrained model hosted inside a model repo on huggingface.co.
Valid model ids can be located at the root-level, like <code>bert-base-uncased</code>, or namespaced under a
user or organization name, like <code>dbmdz/bert-base-german-cased</code>.</li>
<li>A path to a <em>directory</em> containing model weights saved using
<a href="/docs/transformers/pr_15984/en/main_classes/model#transformers.TFPreTrainedModel.save_pretrained">save_pretrained()</a>, e.g., <code>./my_model_directory/</code>.</li>
<li>A path or url to a <em>PyTorch state_dict save file</em> (e.g, <code>./pt_model/pytorch_model.bin</code>). In this
case, <code>from_pt</code> should be set to <code>True</code> and a configuration object should be provided as <code>config</code>
argument. This loading path is slower than converting the PyTorch model in a TensorFlow model
using the provided conversion scripts and loading the TensorFlow model afterwards.</li>
<li><code>None</code> if you are both providing the configuration and state dictionary (resp. with keyword
arguments <code>config</code> and <code>state_dict</code>).</li>
</ul>`,name:"pretrained_model_name_or_path"},{anchor:"transformers.TFPreTrainedModel.from_pretrained.model_args",description:`<strong>model_args</strong> (sequence of positional arguments, <em>optional</em>) &#x2014;
All remaining positional arguments will be passed to the underlying model&#x2019;s <code>__init__</code> method.`,name:"model_args"},{anchor:"transformers.TFPreTrainedModel.from_pretrained.config",description:`<strong>config</strong> (<code>Union[PretrainedConfig, str]</code>, <em>optional</em>) &#x2014;
Can be either:</p>
<ul>
<li>an instance of a class derived from <a href="/docs/transformers/pr_15984/en/main_classes/configuration#transformers.PretrainedConfig">PretrainedConfig</a>,</li>
<li>a string valid as input to <a href="/docs/transformers/pr_15984/en/main_classes/configuration#transformers.PretrainedConfig.from_pretrained">from_pretrained()</a>.</li>
</ul>`,name:"config"}]}}),Qt=new Fp({props:{$$slots:{default:[g4]},$$scope:{ctx:ee}}}),Ho=new O({props:{code:`from transformers import BertConfig, TFBertModel

# Download model and configuration from huggingface.co and cache.
model = TFBertModel.from_pretrained("bert-base-uncased")
# Model was saved using *save_pretrained('./test/saved_model/')* (for example purposes, not runnable).
model = TFBertModel.from_pretrained("./test/saved_model/")
# Update configuration during loading.
model = TFBertModel.from_pretrained("bert-base-uncased", output_attentions=True)
assert model.config.output_attentions == True
# Loading from a Pytorch model file instead of a TensorFlow checkpoint (slower, for example purposes, not runnable).
config = BertConfig.from_json_file("./pt_model/my_pt_model_config.json")
model = TFBertModel.from_pretrained("./pt_model/my_pytorch_model.bin", from_pt=True, config=config)`,highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> BertConfig, TFBertModel

<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># Download model and configuration from huggingface.co and cache.</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>model = TFBertModel.from_pretrained(<span class="hljs-string">&quot;bert-base-uncased&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># Model was saved using *save_pretrained(&#x27;./test/saved_model/&#x27;)* (for example purposes, not runnable).</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>model = TFBertModel.from_pretrained(<span class="hljs-string">&quot;./test/saved_model/&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># Update configuration during loading.</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>model = TFBertModel.from_pretrained(<span class="hljs-string">&quot;bert-base-uncased&quot;</span>, output_attentions=<span class="hljs-literal">True</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">assert</span> model.config.output_attentions == <span class="hljs-literal">True</span>
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># Loading from a Pytorch model file instead of a TensorFlow checkpoint (slower, for example purposes, not runnable).</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>config = BertConfig.from_json_file(<span class="hljs-string">&quot;./pt_model/my_pt_model_config.json&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>model = TFBertModel.from_pretrained(<span class="hljs-string">&quot;./pt_model/my_pytorch_model.bin&quot;</span>, from_pt=<span class="hljs-literal">True</span>, config=config)`}}),Vo=new f({props:{name:"get_bias",anchor:"transformers.TFPreTrainedModel.get_bias",parameters:[],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_tf_utils.py#L1083",returnDescription:`
<p>The weights representing the bias, None if not an LM model.</p>
`,returnType:`
<p><code>tf.Variable</code></p>
`}}),Xo=new f({props:{name:"get_input_embeddings",anchor:"transformers.TFPreTrainedModel.get_input_embeddings",parameters:[],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_tf_utils.py#L756",returnDescription:`
<p>The embeddings layer mapping vocabulary to hidden states.</p>
`,returnType:`
<p><code>tf.Variable</code></p>
`}}),Ro=new f({props:{name:"get_lm_head",anchor:"transformers.TFPreTrainedModel.get_lm_head",parameters:[],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_tf_utils.py#L1116",returnDescription:`
<p>The LM head layer if the model has one, None if not.</p>
`,returnType:`
<p><code>tf.keras.layers.Layer</code></p>
`}}),Yo=new f({props:{name:"get_output_embeddings",anchor:"transformers.TFPreTrainedModel.get_output_embeddings",parameters:[],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_tf_utils.py#L1023",returnDescription:`
<p>The new weights mapping vocabulary to hidden states.</p>
`,returnType:`
<p><code>tf.Variable</code></p>
`}}),Ko=new f({props:{name:"get_output_layer_with_bias",anchor:"transformers.TFPreTrainedModel.get_output_layer_with_bias",parameters:[],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_tf_utils.py#L1060",returnDescription:`
<p>The layer that handles the bias, None if not an LM model.</p>
`,returnType:`
<p><code>tf.keras.layers.Layer</code></p>
`}}),Zo=new f({props:{name:"get_prefix_bias_name",anchor:"transformers.TFPreTrainedModel.get_prefix_bias_name",parameters:[],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_tf_utils.py#L1073",returnDescription:`
<p>The _prefix name of the bias.</p>
`,returnType:`
<p><code>str</code></p>
`}}),Jo=new f({props:{name:"load_repo_checkpoint",anchor:"transformers.TFPreTrainedModel.load_repo_checkpoint",parameters:[{name:"repo_path_or_name",val:""}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_tf_utils.py#L783",parametersDescription:[{anchor:"transformers.TFPreTrainedModel.load_repo_checkpoint.repo_path_or_name",description:`<strong>repo_path_or_name</strong> (<code>str</code>) &#x2014;
Can either be a repository name for your {object} in the Hub or a path to a local folder (in which case
the repository will have the name of that local folder).`,name:"repo_path_or_name"}],returnDescription:`
<p>A dictionary of extra metadata from the checkpoint, most commonly an \u201Cepoch\u201D count.</p>
`,returnType:`
<p><code>dict</code></p>
`}}),Qo=new f({props:{name:"prune_heads",anchor:"transformers.TFPreTrainedModel.prune_heads",parameters:[{name:"heads_to_prune",val:""}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_tf_utils.py#L1325",parametersDescription:[{anchor:"transformers.TFPreTrainedModel.prune_heads.heads_to_prune",description:`<strong>heads_to_prune</strong> (<code>Dict[int, List[int]]</code>) &#x2014;
Dictionary with keys being selected layer indices (<code>int</code>) and associated values being the list of heads
to prune in said layer (list of <code>int</code>). For instance {1: [0, 2], 2: [2, 3]} will prune heads 0 and 2 on
layer 1 and heads 2 and 3 on layer 2.`,name:"heads_to_prune"}]}}),es=new f({props:{name:"resize_token_embeddings",anchor:"transformers.TFPreTrainedModel.resize_token_embeddings",parameters:[{name:"new_num_tokens",val:" = None"}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_tf_utils.py#L1125",parametersDescription:[{anchor:"transformers.TFPreTrainedModel.resize_token_embeddings.new_num_tokens",description:`<strong>new_num_tokens</strong> (<code>int</code>, <em>optional</em>) &#x2014;
The number of new tokens in the embedding matrix. Increasing the size will add newly initialized
vectors at the end. Reducing the size will remove vectors from the end. If not provided or <code>None</code>, just
returns a pointer to the input tokens <code>tf.Variable</code> module of the model without doing anything.`,name:"new_num_tokens"}],returnDescription:`
<p>Pointer to the input tokens Embeddings Module of the model.</p>
`,returnType:`
<p><code>tf.Variable</code></p>
`}}),os=new f({props:{name:"save_pretrained",anchor:"transformers.TFPreTrainedModel.save_pretrained",parameters:[{name:"save_directory",val:""},{name:"saved_model",val:" = False"},{name:"version",val:" = 1"},{name:"push_to_hub",val:" = False"},{name:"**kwargs",val:""}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_tf_utils.py#L1337",parametersDescription:[{anchor:"transformers.TFPreTrainedModel.save_pretrained.save_directory",description:`<strong>save_directory</strong> (<code>str</code>) &#x2014;
Directory to which to save. Will be created if it doesn&#x2019;t exist.`,name:"save_directory"},{anchor:"transformers.TFPreTrainedModel.save_pretrained.saved_model",description:`<strong>saved_model</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
If the model has to be saved in saved model format as well or not.`,name:"saved_model"},{anchor:"transformers.TFPreTrainedModel.save_pretrained.version",description:`<strong>version</strong> (<code>int</code>, <em>optional</em>, defaults to 1) &#x2014;
The version of the saved model. A saved model needs to be versioned in order to be properly loaded by
TensorFlow Serving as detailed in the official documentation
<a href="https://www.tensorflow.org/tfx/serving/serving_basic" rel="nofollow">https://www.tensorflow.org/tfx/serving/serving_basic</a>`,name:"version"},{anchor:"transformers.TFPreTrainedModel.save_pretrained.push_to_hub",description:`<strong>push_to_hub</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to push your model to the Hugging Face model hub after saving it.</p>
<div class="course-tip course-tip-orange bg-gradient-to-br dark:bg-gradient-to-r before:border-orange-500 dark:before:border-orange-800 from-orange-50 dark:from-gray-900 to-white dark:to-gray-950 border border-orange-50 text-orange-700 dark:text-gray-400">
						
<p>Using <code>push_to_hub=True</code> will synchronize the repository you are pushing to with <code>save_directory</code>,
which requires <code>save_directory</code> to be a local clone of the repo you are pushing to if it&#x2019;s an existing
folder. Pass along <code>temp_dir=True</code> to use a temporary directory instead.</p>

					</div>
<p>kwargs &#x2014;
Additional key word arguments passed along to the <a href="/docs/transformers/pr_15984/en/main_classes/model#transformers.file_utils.PushToHubMixin.push_to_hub">push_to_hub()</a> method.`,name:"push_to_hub"}]}}),as=new f({props:{name:"serving",anchor:"transformers.TFPreTrainedModel.serving",parameters:[{name:"inputs",val:""}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_tf_utils.py#L725",parametersDescription:[{anchor:"transformers.TFPreTrainedModel.serving.inputs",description:`<strong>inputs</strong> (<code>Dict[str, tf.Tensor]</code>) &#x2014;
The input of the saved model as a dictionary of tensors.`,name:"inputs"}]}}),rs=new f({props:{name:"serving_output",anchor:"transformers.TFPreTrainedModel.serving_output",parameters:[{name:"output",val:""}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_tf_utils.py#L746",parametersDescription:[{anchor:"transformers.TFPreTrainedModel.serving_output.output",description:`<strong>output</strong> (<code>TFBaseModelOutput</code>) &#x2014;
The output returned by the model.`,name:"output"}]}}),is=new f({props:{name:"set_bias",anchor:"transformers.TFPreTrainedModel.set_bias",parameters:[{name:"value",val:""}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_tf_utils.py#L1100",parametersDescription:[{anchor:"transformers.TFPreTrainedModel.set_bias.value",description:`<strong>value</strong> (<code>Dict[tf.Variable]</code>) &#x2014;
All the new bias attached to an LM head.`,name:"value"}]}}),ls=new f({props:{name:"set_input_embeddings",anchor:"transformers.TFPreTrainedModel.set_input_embeddings",parameters:[{name:"value",val:""}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_tf_utils.py#L1003",parametersDescription:[{anchor:"transformers.TFPreTrainedModel.set_input_embeddings.value",description:`<strong>value</strong> (<code>tf.Variable</code>) &#x2014;
The new weights mapping hidden states to vocabulary.`,name:"value"}]}}),ds=new f({props:{name:"set_output_embeddings",anchor:"transformers.TFPreTrainedModel.set_output_embeddings",parameters:[{name:"value",val:""}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_tf_utils.py#L1043",parametersDescription:[{anchor:"transformers.TFPreTrainedModel.set_output_embeddings.value",description:`<strong>value</strong> (<code>tf.Variable</code>) &#x2014;
The new weights mapping hidden states to vocabulary.`,name:"value"}]}}),ps=new f({props:{name:"test_step",anchor:"transformers.TFPreTrainedModel.test_step",parameters:[{name:"data",val:""}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_tf_utils.py#L937"}}),cs=new f({props:{name:"train_step",anchor:"transformers.TFPreTrainedModel.train_step",parameters:[{name:"data",val:""}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_tf_utils.py#L886"}}),ms=new xt({}),us=new f({props:{name:"class transformers.modeling_tf_utils.TFModelUtilsMixin",anchor:"transformers.modeling_tf_utils.TFModelUtilsMixin",parameters:[],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_tf_utils.py#L83"}}),hs=new f({props:{name:"num_parameters",anchor:"transformers.modeling_tf_utils.TFModelUtilsMixin.num_parameters",parameters:[{name:"only_trainable",val:": bool = False"}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_tf_utils.py#L88",parametersDescription:[{anchor:"transformers.modeling_tf_utils.TFModelUtilsMixin.num_parameters.only_trainable",description:`<strong>only_trainable</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to return only the number of trainable parameters`,name:"only_trainable"}],returnDescription:`
<p>The number of parameters.</p>
`,returnType:`
<p><code>int</code></p>
`}}),_s=new xt({}),fs=new f({props:{name:"class transformers.FlaxPreTrainedModel",anchor:"transformers.FlaxPreTrainedModel",parameters:[{name:"config",val:": PretrainedConfig"},{name:"module",val:": Module"},{name:"input_shape",val:": typing.Tuple = (1, 1)"},{name:"seed",val:": int = 0"},{name:"dtype",val:": dtype = <class 'jax._src.numpy.lax_numpy.float32'>"}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_flax_utils.py#L72"}}),bs=new f({props:{name:"push_to_hub",anchor:"transformers.file_utils.PushToHubMixin.push_to_hub",parameters:[{name:"repo_path_or_name",val:": typing.Optional[str] = None"},{name:"repo_url",val:": typing.Optional[str] = None"},{name:"use_temp_dir",val:": bool = False"},{name:"commit_message",val:": typing.Optional[str] = None"},{name:"organization",val:": typing.Optional[str] = None"},{name:"private",val:": typing.Optional[bool] = None"},{name:"use_auth_token",val:": typing.Union[bool, str, NoneType] = None"},{name:"**model_card_kwargs",val:""}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/file_utils.py#L2842",parametersDescription:[{anchor:"transformers.file_utils.PushToHubMixin.push_to_hub.repo_path_or_name",description:`<strong>repo_path_or_name</strong> (<code>str</code>, <em>optional</em>) &#x2014;
Can either be a repository name for your model in the Hub or a path to a local folder (in which case
the repository will have the name of that local folder). If not specified, will default to the name
given by <code>repo_url</code> and a local directory with that name will be created.`,name:"repo_path_or_name"},{anchor:"transformers.file_utils.PushToHubMixin.push_to_hub.repo_url",description:`<strong>repo_url</strong> (<code>str</code>, <em>optional</em>) &#x2014;
Specify this in case you want to push to an existing repository in the hub. If unspecified, a new
repository will be created in your namespace (unless you specify an <code>organization</code>) with <code>repo_name</code>.`,name:"repo_url"},{anchor:"transformers.file_utils.PushToHubMixin.push_to_hub.use_temp_dir",description:`<strong>use_temp_dir</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to clone the distant repo in a temporary directory or in <code>repo_path_or_name</code> inside the
current working directory. This will slow things down if you are making changes in an existing repo
since you will need to clone the repo before every push.`,name:"use_temp_dir"},{anchor:"transformers.file_utils.PushToHubMixin.push_to_hub.commit_message",description:`<strong>commit_message</strong> (<code>str</code>, <em>optional</em>) &#x2014;
Message to commit while pushing. Will default to <code>&quot;add model&quot;</code>.`,name:"commit_message"},{anchor:"transformers.file_utils.PushToHubMixin.push_to_hub.organization",description:`<strong>organization</strong> (<code>str</code>, <em>optional</em>) &#x2014;
Organization in which you want to push your model (you must be a member of this organization).`,name:"organization"},{anchor:"transformers.file_utils.PushToHubMixin.push_to_hub.private",description:`<strong>private</strong> (<code>bool</code>, <em>optional</em>) &#x2014;
Whether or not the repository created should be private (requires a paying subscription).`,name:"private"},{anchor:"transformers.file_utils.PushToHubMixin.push_to_hub.use_auth_token",description:`<strong>use_auth_token</strong> (<code>bool</code> or <code>str</code>, <em>optional</em>) &#x2014;
The token to use as HTTP bearer authorization for remote files. If <code>True</code>, will use the token generated
when running <code>transformers-cli login</code> (stored in <code>~/.huggingface</code>). Will default to <code>True</code> if
<code>repo_url</code> is not specified.`,name:"use_auth_token"}],returnDescription:`
<p>The url of the commit of your model in the given repository.</p>
`,returnType:`
<p><code>str</code></p>
`}}),ys=new O({props:{code:`from transformers import FlaxAutoModel

model = FlaxAutoModel.from_pretrained("bert-base-cased")

# Push the model to your namespace with the name "my-finetuned-bert" and have a local clone in the
# *my-finetuned-bert* folder.
model.push_to_hub("my-finetuned-bert")

# Push the model to your namespace with the name "my-finetuned-bert" with no local clone.
model.push_to_hub("my-finetuned-bert", use_temp_dir=True)

# Push the model to an organization with the name "my-finetuned-bert" and have a local clone in the
# *my-finetuned-bert* folder.
model.push_to_hub("my-finetuned-bert", organization="huggingface")

# Make a change to an existing repo that has been cloned locally in *my-finetuned-bert*.
model.push_to_hub("my-finetuned-bert", repo_url="https://huggingface.co/sgugger/my-finetuned-bert")`,highlighted:`<span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> FlaxAutoModel

model = FlaxAutoModel.from_pretrained(<span class="hljs-string">&quot;bert-base-cased&quot;</span>)

<span class="hljs-comment"># Push the model to your namespace with the name &quot;my-finetuned-bert&quot; and have a local clone in the</span>
<span class="hljs-comment"># *my-finetuned-bert* folder.</span>
model.push_to_hub(<span class="hljs-string">&quot;my-finetuned-bert&quot;</span>)

<span class="hljs-comment"># Push the model to your namespace with the name &quot;my-finetuned-bert&quot; with no local clone.</span>
model.push_to_hub(<span class="hljs-string">&quot;my-finetuned-bert&quot;</span>, use_temp_dir=<span class="hljs-literal">True</span>)

<span class="hljs-comment"># Push the model to an organization with the name &quot;my-finetuned-bert&quot; and have a local clone in the</span>
<span class="hljs-comment"># *my-finetuned-bert* folder.</span>
model.push_to_hub(<span class="hljs-string">&quot;my-finetuned-bert&quot;</span>, organization=<span class="hljs-string">&quot;huggingface&quot;</span>)

<span class="hljs-comment"># Make a change to an existing repo that has been cloned locally in *my-finetuned-bert*.</span>
model.push_to_hub(<span class="hljs-string">&quot;my-finetuned-bert&quot;</span>, repo_url=<span class="hljs-string">&quot;https://huggingface.co/sgugger/my-finetuned-bert&quot;</span>)`}}),ks=new f({props:{name:"from_pretrained",anchor:"transformers.FlaxPreTrainedModel.from_pretrained",parameters:[{name:"pretrained_model_name_or_path",val:": typing.Union[str, os.PathLike]"},{name:"dtype",val:": dtype = <class 'jax._src.numpy.lax_numpy.float32'>"},{name:"*model_args",val:""},{name:"**kwargs",val:""}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_flax_utils.py#L296",parametersDescription:[{anchor:"transformers.FlaxPreTrainedModel.from_pretrained.pretrained_model_name_or_path",description:`<strong>pretrained_model_name_or_path</strong> (<code>str</code> or <code>os.PathLike</code>) &#x2014;
Can be either:</p>
<ul>
<li>A string, the <em>model id</em> of a pretrained model hosted inside a model repo on huggingface.co.
Valid model ids can be located at the root-level, like <code>bert-base-uncased</code>, or namespaced under a
user or organization name, like <code>dbmdz/bert-base-german-cased</code>.</li>
<li>A path to a <em>directory</em> containing model weights saved using
<a href="/docs/transformers/pr_15984/en/main_classes/model#transformers.FlaxPreTrainedModel.save_pretrained">save_pretrained()</a>, e.g., <code>./my_model_directory/</code>.</li>
<li>A path or url to a <em>pt index checkpoint file</em> (e.g, <code>./tf_model/model.ckpt.index</code>). In this case,
<code>from_pt</code> should be set to <code>True</code>.</li>
</ul>`,name:"pretrained_model_name_or_path"},{anchor:"transformers.FlaxPreTrainedModel.from_pretrained.dtype",description:`<strong>dtype</strong> (<code>jax.numpy.dtype</code>, <em>optional</em>, defaults to <code>jax.numpy.float32</code>) &#x2014;
The data type of the computation. Can be one of <code>jax.numpy.float32</code>, <code>jax.numpy.float16</code> (on GPUs) and
<code>jax.numpy.bfloat16</code> (on TPUs).</p>
<p>This can be used to enable mixed-precision training or half-precision inference on GPUs or TPUs. If
specified all the computation will be performed with the given <code>dtype</code>.</p>
<p><strong>Note that this only specifies the dtype of the computation and does not influence the dtype of model
parameters.</strong></p>
<p>If you wish to change the dtype of the model parameters, see <a href="/docs/transformers/pr_15984/en/main_classes/model#transformers.FlaxPreTrainedModel.to_fp16">to_fp16()</a> and
<a href="/docs/transformers/pr_15984/en/main_classes/model#transformers.FlaxPreTrainedModel.to_bf16">to_bf16()</a>.`,name:"dtype"},{anchor:"transformers.FlaxPreTrainedModel.from_pretrained.model_args",description:`<strong>model_args</strong> (sequence of positional arguments, <em>optional</em>) &#x2014;
All remaining positional arguments will be passed to the underlying model&#x2019;s <code>__init__</code> method.`,name:"model_args"},{anchor:"transformers.FlaxPreTrainedModel.from_pretrained.config",description:`<strong>config</strong> (<code>Union[PretrainedConfig, str, os.PathLike]</code>, <em>optional</em>) &#x2014;
Can be either:</p>
<ul>
<li>an instance of a class derived from <a href="/docs/transformers/pr_15984/en/main_classes/configuration#transformers.PretrainedConfig">PretrainedConfig</a>,</li>
<li>a string or path valid as input to <a href="/docs/transformers/pr_15984/en/main_classes/configuration#transformers.PretrainedConfig.from_pretrained">from_pretrained()</a>.</li>
</ul>`,name:"config"}]}}),Ts=new O({props:{code:`from transformers import BertConfig, FlaxBertModel

# Download model and configuration from huggingface.co and cache.
model = FlaxBertModel.from_pretrained("bert-base-cased")
# Model was saved using *save_pretrained('./test/saved_model/')* (for example purposes, not runnable).
model = FlaxBertModel.from_pretrained("./test/saved_model/")
# Loading from a PyTorch checkpoint file instead of a PyTorch model (slower, for example purposes, not runnable).
config = BertConfig.from_json_file("./pt_model/config.json")
model = FlaxBertModel.from_pretrained("./pt_model/pytorch_model.bin", from_pt=True, config=config)`,highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> BertConfig, FlaxBertModel

<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># Download model and configuration from huggingface.co and cache.</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>model = FlaxBertModel.from_pretrained(<span class="hljs-string">&quot;bert-base-cased&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># Model was saved using *save_pretrained(&#x27;./test/saved_model/&#x27;)* (for example purposes, not runnable).</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>model = FlaxBertModel.from_pretrained(<span class="hljs-string">&quot;./test/saved_model/&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># Loading from a PyTorch checkpoint file instead of a PyTorch model (slower, for example purposes, not runnable).</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>config = BertConfig.from_json_file(<span class="hljs-string">&quot;./pt_model/config.json&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>model = FlaxBertModel.from_pretrained(<span class="hljs-string">&quot;./pt_model/pytorch_model.bin&quot;</span>, from_pt=<span class="hljs-literal">True</span>, config=config)`}}),js=new f({props:{name:"register_for_auto_class",anchor:"transformers.FlaxPreTrainedModel.register_for_auto_class",parameters:[{name:"auto_class",val:" = 'FlaxAutoModel'"}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_flax_utils.py#L716",parametersDescription:[{anchor:"transformers.FlaxPreTrainedModel.register_for_auto_class.auto_class",description:`<strong>auto_class</strong> (<code>str</code> or <code>type</code>, <em>optional</em>, defaults to <code>&quot;FlaxAutoModel&quot;</code>) &#x2014;
The auto class to register this new model with.`,name:"auto_class"}]}}),yn=new Fp({props:{warning:"&lcub;true}",$$slots:{default:[h4]},$$scope:{ctx:ee}}}),$s=new f({props:{name:"save_pretrained",anchor:"transformers.FlaxPreTrainedModel.save_pretrained",parameters:[{name:"save_directory",val:": typing.Union[str, os.PathLike]"},{name:"params",val:" = None"},{name:"push_to_hub",val:" = False"},{name:"**kwargs",val:""}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_flax_utils.py#L659",parametersDescription:[{anchor:"transformers.FlaxPreTrainedModel.save_pretrained.save_directory",description:`<strong>save_directory</strong> (<code>str</code> or <code>os.PathLike</code>) &#x2014;
Directory to which to save. Will be created if it doesn&#x2019;t exist.`,name:"save_directory"},{anchor:"transformers.FlaxPreTrainedModel.save_pretrained.push_to_hub",description:`<strong>push_to_hub</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to push your model to the Hugging Face model hub after saving it.</p>
<div class="course-tip course-tip-orange bg-gradient-to-br dark:bg-gradient-to-r before:border-orange-500 dark:before:border-orange-800 from-orange-50 dark:from-gray-900 to-white dark:to-gray-950 border border-orange-50 text-orange-700 dark:text-gray-400">
						
<p>Using <code>push_to_hub=True</code> will synchronize the repository you are pushing to with <code>save_directory</code>,
which requires <code>save_directory</code> to be a local clone of the repo you are pushing to if it&#x2019;s an existing
folder. Pass along <code>temp_dir=True</code> to use a temporary directory instead.</p>

					</div>
<p>kwargs &#x2014;
Additional key word arguments passed along to the <a href="/docs/transformers/pr_15984/en/main_classes/model#transformers.file_utils.PushToHubMixin.push_to_hub">push_to_hub()</a> method.`,name:"push_to_hub"}]}}),Ps=new f({props:{name:"to_bf16",anchor:"transformers.FlaxPreTrainedModel.to_bf16",parameters:[{name:"params",val:": typing.Union[typing.Dict, flax.core.frozen_dict.FrozenDict]"},{name:"mask",val:": typing.Any = None"}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_flax_utils.py#L191",parametersDescription:[{anchor:"transformers.FlaxPreTrainedModel.to_bf16.params",description:`<strong>params</strong> (<code>Union[Dict, FrozenDict]</code>) &#x2014;
A <code>PyTree</code> of model parameters.`,name:"params"},{anchor:"transformers.FlaxPreTrainedModel.to_bf16.mask",description:`<strong>mask</strong> (<code>Union[Dict, FrozenDict]</code>) &#x2014;
A <code>PyTree</code> with same structure as the <code>params</code> tree. The leaves should be booleans, <code>True</code> for params
you want to cast, and should be <code>False</code> for those you want to skip.`,name:"mask"}]}}),Es=new O({props:{code:`from transformers import FlaxBertModel

# load model
model = FlaxBertModel.from_pretrained("bert-base-cased")
# By default, the model parameters will be in fp32 precision, to cast these to bfloat16 precision
model.params = model.to_bf16(model.params)
# If you want don't want to cast certain parameters (for example layer norm bias and scale)
# then pass the mask as follows
from flax import traverse_util

model = FlaxBertModel.from_pretrained("bert-base-cased")
flat_params = traverse_util.flatten_dict(model.params)
mask = {
    path: (path[-2] != ("LayerNorm", "bias") and path[-2:] != ("LayerNorm", "scale"))
    for path in flat_params
}
mask = traverse_util.unflatten_dict(mask)
model.params = model.to_bf16(model.params, mask)`,highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> FlaxBertModel

<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># load model</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>model = FlaxBertModel.from_pretrained(<span class="hljs-string">&quot;bert-base-cased&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># By default, the model parameters will be in fp32 precision, to cast these to bfloat16 precision</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>model.params = model.to_bf16(model.params)
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># If you want don&#x27;t want to cast certain parameters (for example layer norm bias and scale)</span>
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># then pass the mask as follows</span>
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> flax <span class="hljs-keyword">import</span> traverse_util

<span class="hljs-meta">&gt;&gt;&gt; </span>model = FlaxBertModel.from_pretrained(<span class="hljs-string">&quot;bert-base-cased&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>flat_params = traverse_util.flatten_dict(model.params)
<span class="hljs-meta">&gt;&gt;&gt; </span>mask = {
<span class="hljs-meta">... </span>    path: (path[-<span class="hljs-number">2</span>] != (<span class="hljs-string">&quot;LayerNorm&quot;</span>, <span class="hljs-string">&quot;bias&quot;</span>) <span class="hljs-keyword">and</span> path[-<span class="hljs-number">2</span>:] != (<span class="hljs-string">&quot;LayerNorm&quot;</span>, <span class="hljs-string">&quot;scale&quot;</span>))
<span class="hljs-meta">... </span>    <span class="hljs-keyword">for</span> path <span class="hljs-keyword">in</span> flat_params
<span class="hljs-meta">... </span>}
<span class="hljs-meta">&gt;&gt;&gt; </span>mask = traverse_util.unflatten_dict(mask)
<span class="hljs-meta">&gt;&gt;&gt; </span>model.params = model.to_bf16(model.params, mask)`}}),Ls=new f({props:{name:"to_fp16",anchor:"transformers.FlaxPreTrainedModel.to_fp16",parameters:[{name:"params",val:": typing.Union[typing.Dict, flax.core.frozen_dict.FrozenDict]"},{name:"mask",val:": typing.Any = None"}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_flax_utils.py#L257",parametersDescription:[{anchor:"transformers.FlaxPreTrainedModel.to_fp16.params",description:`<strong>params</strong> (<code>Union[Dict, FrozenDict]</code>) &#x2014;
A <code>PyTree</code> of model parameters.`,name:"params"},{anchor:"transformers.FlaxPreTrainedModel.to_fp16.mask",description:`<strong>mask</strong> (<code>Union[Dict, FrozenDict]</code>) &#x2014;
A <code>PyTree</code> with same structure as the <code>params</code> tree. The leaves should be booleans, <code>True</code> for params
you want to cast, and should be <code>False</code> for those you want to skip`,name:"mask"}]}}),qs=new O({props:{code:`from transformers import FlaxBertModel

# load model
model = FlaxBertModel.from_pretrained("bert-base-cased")
# By default, the model params will be in fp32, to cast these to float16
model.params = model.to_fp16(model.params)
# If you want don't want to cast certain parameters (for example layer norm bias and scale)
# then pass the mask as follows
from flax import traverse_util

model = FlaxBertModel.from_pretrained("bert-base-cased")
flat_params = traverse_util.flatten_dict(model.params)
mask = {
    path: (path[-2] != ("LayerNorm", "bias") and path[-2:] != ("LayerNorm", "scale"))
    for path in flat_params
}
mask = traverse_util.unflatten_dict(mask)
model.params = model.to_fp16(model.params, mask)`,highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> FlaxBertModel

<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># load model</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>model = FlaxBertModel.from_pretrained(<span class="hljs-string">&quot;bert-base-cased&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># By default, the model params will be in fp32, to cast these to float16</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>model.params = model.to_fp16(model.params)
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># If you want don&#x27;t want to cast certain parameters (for example layer norm bias and scale)</span>
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># then pass the mask as follows</span>
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> flax <span class="hljs-keyword">import</span> traverse_util

<span class="hljs-meta">&gt;&gt;&gt; </span>model = FlaxBertModel.from_pretrained(<span class="hljs-string">&quot;bert-base-cased&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>flat_params = traverse_util.flatten_dict(model.params)
<span class="hljs-meta">&gt;&gt;&gt; </span>mask = {
<span class="hljs-meta">... </span>    path: (path[-<span class="hljs-number">2</span>] != (<span class="hljs-string">&quot;LayerNorm&quot;</span>, <span class="hljs-string">&quot;bias&quot;</span>) <span class="hljs-keyword">and</span> path[-<span class="hljs-number">2</span>:] != (<span class="hljs-string">&quot;LayerNorm&quot;</span>, <span class="hljs-string">&quot;scale&quot;</span>))
<span class="hljs-meta">... </span>    <span class="hljs-keyword">for</span> path <span class="hljs-keyword">in</span> flat_params
<span class="hljs-meta">... </span>}
<span class="hljs-meta">&gt;&gt;&gt; </span>mask = traverse_util.unflatten_dict(mask)
<span class="hljs-meta">&gt;&gt;&gt; </span>model.params = model.to_fp16(model.params, mask)`}}),Fs=new f({props:{name:"to_fp32",anchor:"transformers.FlaxPreTrainedModel.to_fp32",parameters:[{name:"params",val:": typing.Union[typing.Dict, flax.core.frozen_dict.FrozenDict]"},{name:"mask",val:": typing.Any = None"}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/modeling_flax_utils.py#L230",parametersDescription:[{anchor:"transformers.FlaxPreTrainedModel.to_fp32.params",description:`<strong>params</strong> (<code>Union[Dict, FrozenDict]</code>) &#x2014;
A <code>PyTree</code> of model parameters.`,name:"params"},{anchor:"transformers.FlaxPreTrainedModel.to_fp32.mask",description:`<strong>mask</strong> (<code>Union[Dict, FrozenDict]</code>) &#x2014;
A <code>PyTree</code> with same structure as the <code>params</code> tree. The leaves should be booleans, <code>True</code> for params
you want to cast, and should be <code>False</code> for those you want to skip`,name:"mask"}]}}),Os=new O({props:{code:`from transformers import FlaxBertModel

# Download model and configuration from huggingface.co
model = FlaxBertModel.from_pretrained("bert-base-cased")
# By default, the model params will be in fp32, to illustrate the use of this method,
# we'll first cast to fp16 and back to fp32
model.params = model.to_f16(model.params)
# now cast back to fp32
model.params = model.to_fp32(model.params)`,highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> FlaxBertModel

<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># Download model and configuration from huggingface.co</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>model = FlaxBertModel.from_pretrained(<span class="hljs-string">&quot;bert-base-cased&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># By default, the model params will be in fp32, to illustrate the use of this method,</span>
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># we&#x27;ll first cast to fp16 and back to fp32</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>model.params = model.to_f16(model.params)
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># now cast back to fp32</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>model.params = model.to_fp32(model.params)`}}),zs=new xt({}),Ds=new f({props:{name:"class transformers.generation_utils.GenerationMixin",anchor:"transformers.generation_utils.GenerationMixin",parameters:[],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/generation_utils.py#L378"}}),Gs=new f({props:{name:"adjust_logits_during_generation",anchor:"transformers.generation_utils.GenerationMixin.adjust_logits_during_generation",parameters:[{name:"logits",val:": FloatTensor"},{name:"**kwargs",val:""}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/generation_utils.py#L457"}}),Ns=new f({props:{name:"beam_sample",anchor:"transformers.generation_utils.GenerationMixin.beam_sample",parameters:[{name:"input_ids",val:": LongTensor"},{name:"beam_scorer",val:": BeamScorer"},{name:"logits_processor",val:": typing.Optional[transformers.generation_logits_process.LogitsProcessorList] = None"},{name:"stopping_criteria",val:": typing.Optional[transformers.generation_stopping_criteria.StoppingCriteriaList] = None"},{name:"logits_warper",val:": typing.Optional[transformers.generation_logits_process.LogitsProcessorList] = None"},{name:"max_length",val:": typing.Optional[int] = None"},{name:"pad_token_id",val:": typing.Optional[int] = None"},{name:"eos_token_id",val:": typing.Optional[int] = None"},{name:"output_attentions",val:": typing.Optional[bool] = None"},{name:"output_hidden_states",val:": typing.Optional[bool] = None"},{name:"output_scores",val:": typing.Optional[bool] = None"},{name:"return_dict_in_generate",val:": typing.Optional[bool] = None"},{name:"synced_gpus",val:": typing.Optional[bool] = False"},{name:"**model_kwargs",val:""}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/generation_utils.py#L2222",parametersDescription:[{anchor:"transformers.generation_utils.GenerationMixin.beam_sample.input_ids",description:`<strong>input_ids</strong> (<code>torch.LongTensor</code> of shape <code>(batch_size, sequence_length)</code>) &#x2014;
The sequence used as a prompt for the generation.`,name:"input_ids"},{anchor:"transformers.generation_utils.GenerationMixin.beam_sample.beam_scorer",description:`<strong>beam_scorer</strong> (<code>BeamScorer</code>) &#x2014;
A derived instance of <a href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.BeamScorer">BeamScorer</a> that defines how beam hypotheses are constructed, stored and
sorted during generation. For more information, the documentation of <a href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.BeamScorer">BeamScorer</a> should be read.`,name:"beam_scorer"},{anchor:"transformers.generation_utils.GenerationMixin.beam_sample.logits_processor",description:`<strong>logits_processor</strong> (<code>LogitsProcessorList</code>, <em>optional</em>) &#x2014;
An instance of <a href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.LogitsProcessorList">LogitsProcessorList</a>. List of instances of class derived from <a href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.LogitsProcessor">LogitsProcessor</a>
used to modify the prediction scores of the language modeling head applied at each generation step.`,name:"logits_processor"},{anchor:"transformers.generation_utils.GenerationMixin.beam_sample.stopping_criteria",description:`<strong>stopping_criteria</strong> (<code>StoppingCriteriaList</code>, <em>optional</em>) &#x2014;
An instance of <a href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.StoppingCriteriaList">StoppingCriteriaList</a>. List of instances of class derived from <a href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.StoppingCriteria">StoppingCriteria</a>
used to tell if the generation loop should stop.`,name:"stopping_criteria"},{anchor:"transformers.generation_utils.GenerationMixin.beam_sample.logits_warper",description:`<strong>logits_warper</strong> (<code>LogitsProcessorList</code>, <em>optional</em>) &#x2014;
An instance of <a href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.LogitsProcessorList">LogitsProcessorList</a>. List of instances of class derived from <a href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.LogitsWarper">LogitsWarper</a> used
to warp the prediction score distribution of the language modeling head applied before multinomial
sampling at each generation step.`,name:"logits_warper"},{anchor:"transformers.generation_utils.GenerationMixin.beam_sample.max_length",description:`<strong>max_length</strong> (<code>int</code>, <em>optional</em>, defaults to 20) &#x2014;
<strong>DEPRECATED</strong>. Use <code>logits_processor</code> or <code>stopping_criteria</code> directly to cap the number of generated
tokens. The maximum length of the sequence to be generated.`,name:"max_length"},{anchor:"transformers.generation_utils.GenerationMixin.beam_sample.pad_token_id",description:`<strong>pad_token_id</strong> (<code>int</code>, <em>optional</em>) &#x2014;
The id of the <em>padding</em> token.`,name:"pad_token_id"},{anchor:"transformers.generation_utils.GenerationMixin.beam_sample.eos_token_id",description:`<strong>eos_token_id</strong> (<code>int</code>, <em>optional</em>) &#x2014;
The id of the <em>end-of-sequence</em> token.`,name:"eos_token_id"},{anchor:"transformers.generation_utils.GenerationMixin.beam_sample.output_attentions",description:`<strong>output_attentions</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to return the attentions tensors of all attention layers. See <code>attentions</code> under
returned tensors for more details.`,name:"output_attentions"},{anchor:"transformers.generation_utils.GenerationMixin.beam_sample.output_hidden_states",description:`<strong>output_hidden_states</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to return the hidden states of all layers. See <code>hidden_states</code> under returned tensors
for more details.`,name:"output_hidden_states"},{anchor:"transformers.generation_utils.GenerationMixin.beam_sample.output_scores",description:`<strong>output_scores</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to return the prediction scores. See <code>scores</code> under returned tensors for more details.`,name:"output_scores"},{anchor:"transformers.generation_utils.GenerationMixin.beam_sample.return_dict_in_generate",description:`<strong>return_dict_in_generate</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to return a <a href="/docs/transformers/pr_15984/en/main_classes/output#transformers.file_utils.ModelOutput">ModelOutput</a> instead of a plain tuple.`,name:"return_dict_in_generate"},{anchor:"transformers.generation_utils.GenerationMixin.beam_sample.synced_gpus",description:`<strong>synced_gpus</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether to continue running the while loop until max_length (needed for ZeRO stage 3)
model_kwargs &#x2014;
Additional model specific kwargs will be forwarded to the <code>forward</code> function of the model. If model is
an encoder-decoder model the kwargs should include <code>encoder_outputs</code>.`,name:"synced_gpus"}],returnDescription:`
<p><a
  href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.generation_utils.BeamSampleDecoderOnlyOutput"
>BeamSampleDecoderOnlyOutput</a>, <a
  href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.generation_utils.BeamSampleEncoderDecoderOutput"
>BeamSampleEncoderDecoderOutput</a> or
A <code>torch.LongTensor</code> containing the generated tokens (default behaviour) or a
<a
  href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.generation_utils.BeamSampleDecoderOnlyOutput"
>BeamSampleDecoderOnlyOutput</a> if <code>model.config.is_encoder_decoder=False</code> and
<code>return_dict_in_generate=True</code> or a <a
  href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.generation_utils.BeamSampleEncoderDecoderOutput"
>BeamSampleEncoderDecoderOutput</a> if
<code>model.config.is_encoder_decoder=True</code>.</p>
`}}),Cs=new O({props:{code:`from transformers import (
    AutoTokenizer,
    AutoModelForSeq2SeqLM,
    LogitsProcessorList,
    MinLengthLogitsProcessor,
    TopKLogitsWarper,
    TemperatureLogitsWarper,
    BeamSearchScorer,
)
import torch

tokenizer = AutoTokenizer.from_pretrained("t5-base")
model = AutoModelForSeq2SeqLM.from_pretrained("t5-base")

encoder_input_str = "translate English to German: How old are you?"
encoder_input_ids = tokenizer(encoder_input_str, return_tensors="pt").input_ids

# lets run beam search using 3 beams
num_beams = 3
# define decoder start token ids
input_ids = torch.ones((num_beams, 1), device=model.device, dtype=torch.long)
input_ids = input_ids * model.config.decoder_start_token_id

# add encoder_outputs to model keyword arguments
model_kwargs = {
    "encoder_outputs": model.get_encoder()(
        encoder_input_ids.repeat_interleave(num_beams, dim=0), return_dict=True
    )
}

# instantiate beam scorer
beam_scorer = BeamSearchScorer(
    batch_size=1,
    max_length=model.config.max_length,
    num_beams=num_beams,
    device=model.device,
)

# instantiate logits processors
logits_processor = LogitsProcessorList(
    [MinLengthLogitsProcessor(5, eos_token_id=model.config.eos_token_id)]
)
# instantiate logits processors
logits_warper = LogitsProcessorList(
    [
        TopKLogitsWarper(50),
        TemperatureLogitsWarper(0.7),
    ]
)

outputs = model.beam_sample(
    input_ids, beam_scorer, logits_processor=logits_processor, logits_warper=logits_warper, **model_kwargs
)

print("Generated:", tokenizer.batch_decode(outputs, skip_special_tokens=True))`,highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> (
<span class="hljs-meta">... </span>    AutoTokenizer,
<span class="hljs-meta">... </span>    AutoModelForSeq2SeqLM,
<span class="hljs-meta">... </span>    LogitsProcessorList,
<span class="hljs-meta">... </span>    MinLengthLogitsProcessor,
<span class="hljs-meta">... </span>    TopKLogitsWarper,
<span class="hljs-meta">... </span>    TemperatureLogitsWarper,
<span class="hljs-meta">... </span>    BeamSearchScorer,
<span class="hljs-meta">... </span>)
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> torch

<span class="hljs-meta">&gt;&gt;&gt; </span>tokenizer = AutoTokenizer.from_pretrained(<span class="hljs-string">&quot;t5-base&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>model = AutoModelForSeq2SeqLM.from_pretrained(<span class="hljs-string">&quot;t5-base&quot;</span>)

<span class="hljs-meta">&gt;&gt;&gt; </span>encoder_input_str = <span class="hljs-string">&quot;translate English to German: How old are you?&quot;</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>encoder_input_ids = tokenizer(encoder_input_str, return_tensors=<span class="hljs-string">&quot;pt&quot;</span>).input_ids

<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># lets run beam search using 3 beams</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>num_beams = <span class="hljs-number">3</span>
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># define decoder start token ids</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>input_ids = torch.ones((num_beams, <span class="hljs-number">1</span>), device=model.device, dtype=torch.long)
<span class="hljs-meta">&gt;&gt;&gt; </span>input_ids = input_ids * model.config.decoder_start_token_id

<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># add encoder_outputs to model keyword arguments</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>model_kwargs = {
<span class="hljs-meta">... </span>    <span class="hljs-string">&quot;encoder_outputs&quot;</span>: model.get_encoder()(
<span class="hljs-meta">... </span>        encoder_input_ids.repeat_interleave(num_beams, dim=<span class="hljs-number">0</span>), return_dict=<span class="hljs-literal">True</span>
<span class="hljs-meta">... </span>    )
<span class="hljs-meta">... </span>}

<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># instantiate beam scorer</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>beam_scorer = BeamSearchScorer(
<span class="hljs-meta">... </span>    batch_size=<span class="hljs-number">1</span>,
<span class="hljs-meta">... </span>    max_length=model.config.max_length,
<span class="hljs-meta">... </span>    num_beams=num_beams,
<span class="hljs-meta">... </span>    device=model.device,
<span class="hljs-meta">... </span>)

<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># instantiate logits processors</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>logits_processor = LogitsProcessorList(
<span class="hljs-meta">... </span>    [MinLengthLogitsProcessor(<span class="hljs-number">5</span>, eos_token_id=model.config.eos_token_id)]
<span class="hljs-meta">... </span>)
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># instantiate logits processors</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>logits_warper = LogitsProcessorList(
<span class="hljs-meta">... </span>    [
<span class="hljs-meta">... </span>        TopKLogitsWarper(<span class="hljs-number">50</span>),
<span class="hljs-meta">... </span>        TemperatureLogitsWarper(<span class="hljs-number">0.7</span>),
<span class="hljs-meta">... </span>    ]
<span class="hljs-meta">... </span>)

<span class="hljs-meta">&gt;&gt;&gt; </span>outputs = model.beam_sample(
<span class="hljs-meta">... </span>    input_ids, beam_scorer, logits_processor=logits_processor, logits_warper=logits_warper, **model_kwargs
<span class="hljs-meta">... </span>)

<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Generated:&quot;</span>, tokenizer.batch_decode(outputs, skip_special_tokens=<span class="hljs-literal">True</span>))`}}),Is=new f({props:{name:"beam_search",anchor:"transformers.generation_utils.GenerationMixin.beam_search",parameters:[{name:"input_ids",val:": LongTensor"},{name:"beam_scorer",val:": BeamScorer"},{name:"logits_processor",val:": typing.Optional[transformers.generation_logits_process.LogitsProcessorList] = None"},{name:"stopping_criteria",val:": typing.Optional[transformers.generation_stopping_criteria.StoppingCriteriaList] = None"},{name:"max_length",val:": typing.Optional[int] = None"},{name:"pad_token_id",val:": typing.Optional[int] = None"},{name:"eos_token_id",val:": typing.Optional[int] = None"},{name:"output_attentions",val:": typing.Optional[bool] = None"},{name:"output_hidden_states",val:": typing.Optional[bool] = None"},{name:"output_scores",val:": typing.Optional[bool] = None"},{name:"return_dict_in_generate",val:": typing.Optional[bool] = None"},{name:"synced_gpus",val:": typing.Optional[bool] = False"},{name:"**model_kwargs",val:""}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/generation_utils.py#L1912",parametersDescription:[{anchor:"transformers.generation_utils.GenerationMixin.beam_search.input_ids",description:`<strong>input_ids</strong> (<code>torch.LongTensor</code> of shape <code>(batch_size, sequence_length)</code>) &#x2014;
The sequence used as a prompt for the generation.`,name:"input_ids"},{anchor:"transformers.generation_utils.GenerationMixin.beam_search.beam_scorer",description:`<strong>beam_scorer</strong> (<code>BeamScorer</code>) &#x2014;
An derived instance of <a href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.BeamScorer">BeamScorer</a> that defines how beam hypotheses are constructed, stored and
sorted during generation. For more information, the documentation of <a href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.BeamScorer">BeamScorer</a> should be read.`,name:"beam_scorer"},{anchor:"transformers.generation_utils.GenerationMixin.beam_search.logits_processor",description:`<strong>logits_processor</strong> (<code>LogitsProcessorList</code>, <em>optional</em>) &#x2014;
An instance of <a href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.LogitsProcessorList">LogitsProcessorList</a>. List of instances of class derived from <a href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.LogitsProcessor">LogitsProcessor</a>
used to modify the prediction scores of the language modeling head applied at each generation step.`,name:"logits_processor"},{anchor:"transformers.generation_utils.GenerationMixin.beam_search.stopping_criteria",description:`<strong>stopping_criteria</strong> (<code>StoppingCriteriaList</code>, <em>optional</em>) &#x2014;
An instance of <a href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.StoppingCriteriaList">StoppingCriteriaList</a>. List of instances of class derived from <a href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.StoppingCriteria">StoppingCriteria</a>
used to tell if the generation loop should stop.`,name:"stopping_criteria"},{anchor:"transformers.generation_utils.GenerationMixin.beam_search.max_length",description:`<strong>max_length</strong> (<code>int</code>, <em>optional</em>, defaults to 20) &#x2014;
<strong>DEPRECATED</strong>. Use <code>logits_processor</code> or <code>stopping_criteria</code> directly to cap the number of generated
tokens. The maximum length of the sequence to be generated.`,name:"max_length"},{anchor:"transformers.generation_utils.GenerationMixin.beam_search.pad_token_id",description:`<strong>pad_token_id</strong> (<code>int</code>, <em>optional</em>) &#x2014;
The id of the <em>padding</em> token.`,name:"pad_token_id"},{anchor:"transformers.generation_utils.GenerationMixin.beam_search.eos_token_id",description:`<strong>eos_token_id</strong> (<code>int</code>, <em>optional</em>) &#x2014;
The id of the <em>end-of-sequence</em> token.`,name:"eos_token_id"},{anchor:"transformers.generation_utils.GenerationMixin.beam_search.output_attentions",description:`<strong>output_attentions</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to return the attentions tensors of all attention layers. See <code>attentions</code> under
returned tensors for more details.`,name:"output_attentions"},{anchor:"transformers.generation_utils.GenerationMixin.beam_search.output_hidden_states",description:`<strong>output_hidden_states</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to return the hidden states of all layers. See <code>hidden_states</code> under returned tensors
for more details.`,name:"output_hidden_states"},{anchor:"transformers.generation_utils.GenerationMixin.beam_search.output_scores",description:`<strong>output_scores</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to return the prediction scores. See <code>scores</code> under returned tensors for more details.`,name:"output_scores"},{anchor:"transformers.generation_utils.GenerationMixin.beam_search.return_dict_in_generate",description:`<strong>return_dict_in_generate</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to return a <a href="/docs/transformers/pr_15984/en/main_classes/output#transformers.file_utils.ModelOutput">ModelOutput</a> instead of a plain tuple.`,name:"return_dict_in_generate"},{anchor:"transformers.generation_utils.GenerationMixin.beam_search.synced_gpus",description:`<strong>synced_gpus</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether to continue running the while loop until max_length (needed for ZeRO stage 3)
model_kwargs &#x2014;
Additional model specific kwargs will be forwarded to the <code>forward</code> function of the model. If model is
an encoder-decoder model the kwargs should include <code>encoder_outputs</code>.`,name:"synced_gpus"}],returnDescription:`
<p><code>generation_utilsBeamSearchDecoderOnlyOutput</code>, <a
  href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.generation_utils.BeamSearchEncoderDecoderOutput"
>BeamSearchEncoderDecoderOutput</a> or
A <code>torch.LongTensor</code> containing the generated tokens (default behaviour) or a
<a
  href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.generation_utils.BeamSearchDecoderOnlyOutput"
>BeamSearchDecoderOnlyOutput</a> if <code>model.config.is_encoder_decoder=False</code> and
<code>return_dict_in_generate=True</code> or a <a
  href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.generation_utils.BeamSearchEncoderDecoderOutput"
>BeamSearchEncoderDecoderOutput</a> if
<code>model.config.is_encoder_decoder=True</code>.</p>
`}}),Bs=new O({props:{code:`from transformers import (
    AutoTokenizer,
    AutoModelForSeq2SeqLM,
    LogitsProcessorList,
    MinLengthLogitsProcessor,
    BeamSearchScorer,
)
import torch

tokenizer = AutoTokenizer.from_pretrained("t5-base")
model = AutoModelForSeq2SeqLM.from_pretrained("t5-base")

encoder_input_str = "translate English to German: How old are you?"
encoder_input_ids = tokenizer(encoder_input_str, return_tensors="pt").input_ids


# lets run beam search using 3 beams
num_beams = 3
# define decoder start token ids
input_ids = torch.ones((num_beams, 1), device=model.device, dtype=torch.long)
input_ids = input_ids * model.config.decoder_start_token_id

# add encoder_outputs to model keyword arguments
model_kwargs = {
    "encoder_outputs": model.get_encoder()(
        encoder_input_ids.repeat_interleave(num_beams, dim=0), return_dict=True
    )
}

# instantiate beam scorer
beam_scorer = BeamSearchScorer(
    batch_size=1,
    num_beams=num_beams,
    device=model.device,
)

# instantiate logits processors
logits_processor = LogitsProcessorList(
    [
        MinLengthLogitsProcessor(5, eos_token_id=model.config.eos_token_id),
    ]
)

outputs = model.beam_search(input_ids, beam_scorer, logits_processor=logits_processor, **model_kwargs)

print("Generated:", tokenizer.batch_decode(outputs, skip_special_tokens=True))`,highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> (
<span class="hljs-meta">... </span>    AutoTokenizer,
<span class="hljs-meta">... </span>    AutoModelForSeq2SeqLM,
<span class="hljs-meta">... </span>    LogitsProcessorList,
<span class="hljs-meta">... </span>    MinLengthLogitsProcessor,
<span class="hljs-meta">... </span>    BeamSearchScorer,
<span class="hljs-meta">... </span>)
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> torch

<span class="hljs-meta">&gt;&gt;&gt; </span>tokenizer = AutoTokenizer.from_pretrained(<span class="hljs-string">&quot;t5-base&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>model = AutoModelForSeq2SeqLM.from_pretrained(<span class="hljs-string">&quot;t5-base&quot;</span>)

<span class="hljs-meta">&gt;&gt;&gt; </span>encoder_input_str = <span class="hljs-string">&quot;translate English to German: How old are you?&quot;</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>encoder_input_ids = tokenizer(encoder_input_str, return_tensors=<span class="hljs-string">&quot;pt&quot;</span>).input_ids


<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># lets run beam search using 3 beams</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>num_beams = <span class="hljs-number">3</span>
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># define decoder start token ids</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>input_ids = torch.ones((num_beams, <span class="hljs-number">1</span>), device=model.device, dtype=torch.long)
<span class="hljs-meta">&gt;&gt;&gt; </span>input_ids = input_ids * model.config.decoder_start_token_id

<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># add encoder_outputs to model keyword arguments</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>model_kwargs = {
<span class="hljs-meta">... </span>    <span class="hljs-string">&quot;encoder_outputs&quot;</span>: model.get_encoder()(
<span class="hljs-meta">... </span>        encoder_input_ids.repeat_interleave(num_beams, dim=<span class="hljs-number">0</span>), return_dict=<span class="hljs-literal">True</span>
<span class="hljs-meta">... </span>    )
<span class="hljs-meta">... </span>}

<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># instantiate beam scorer</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>beam_scorer = BeamSearchScorer(
<span class="hljs-meta">... </span>    batch_size=<span class="hljs-number">1</span>,
<span class="hljs-meta">... </span>    num_beams=num_beams,
<span class="hljs-meta">... </span>    device=model.device,
<span class="hljs-meta">... </span>)

<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># instantiate logits processors</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>logits_processor = LogitsProcessorList(
<span class="hljs-meta">... </span>    [
<span class="hljs-meta">... </span>        MinLengthLogitsProcessor(<span class="hljs-number">5</span>, eos_token_id=model.config.eos_token_id),
<span class="hljs-meta">... </span>    ]
<span class="hljs-meta">... </span>)

<span class="hljs-meta">&gt;&gt;&gt; </span>outputs = model.beam_search(input_ids, beam_scorer, logits_processor=logits_processor, **model_kwargs)

<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Generated:&quot;</span>, tokenizer.batch_decode(outputs, skip_special_tokens=<span class="hljs-literal">True</span>))`}}),Ws=new f({props:{name:"compute_transition_beam_scores",anchor:"transformers.generation_utils.GenerationMixin.compute_transition_beam_scores",parameters:[{name:"sequences",val:": Tensor"},{name:"scores",val:": typing.Tuple[torch.Tensor]"},{name:"beam_indices",val:": Tensor"},{name:"eos_token_id",val:": int = None"}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/generation_utils.py#L767"}}),Us=new f({props:{name:"constrained_beam_search",anchor:"transformers.generation_utils.GenerationMixin.constrained_beam_search",parameters:[{name:"input_ids",val:": LongTensor"},{name:"constrained_beam_scorer",val:": ConstrainedBeamSearchScorer"},{name:"logits_processor",val:": typing.Optional[transformers.generation_logits_process.LogitsProcessorList] = None"},{name:"stopping_criteria",val:": typing.Optional[transformers.generation_stopping_criteria.StoppingCriteriaList] = None"},{name:"max_length",val:": typing.Optional[int] = None"},{name:"pad_token_id",val:": typing.Optional[int] = None"},{name:"eos_token_id",val:": typing.Optional[int] = None"},{name:"output_attentions",val:": typing.Optional[bool] = None"},{name:"output_hidden_states",val:": typing.Optional[bool] = None"},{name:"output_scores",val:": typing.Optional[bool] = None"},{name:"return_dict_in_generate",val:": typing.Optional[bool] = None"},{name:"synced_gpus",val:": typing.Optional[bool] = None"},{name:"**model_kwargs",val:""}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/generation_utils.py#L2905",parametersDescription:[{anchor:"transformers.generation_utils.GenerationMixin.constrained_beam_search.input_ids",description:`<strong>input_ids</strong> (<code>torch.LongTensor</code> of shape <code>(batch_size, sequence_length)</code>) &#x2014;
The sequence used as a prompt for the generation.`,name:"input_ids"},{anchor:"transformers.generation_utils.GenerationMixin.constrained_beam_search.constrained_beam_scorer",description:`<strong>constrained_beam_scorer</strong> (<code>ConstrainedBeamSearchScorer</code>) &#x2014;
A derived instance of <a href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.BeamScorer">BeamScorer</a> that defines how beam hypotheses are constructed, stored and
sorted during generation, while satisfying a list of positive constraints. For more information, the
documentation of <a href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.ConstrainedBeamSearchScorer">ConstrainedBeamSearchScorer</a> should be read.`,name:"constrained_beam_scorer"},{anchor:"transformers.generation_utils.GenerationMixin.constrained_beam_search.logits_processor",description:`<strong>logits_processor</strong> (<code>LogitsProcessorList</code>, <em>optional</em>) &#x2014;
An instance of <a href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.LogitsProcessorList">LogitsProcessorList</a>. List of instances of class derived from <a href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.LogitsProcessor">LogitsProcessor</a>
used to modify the prediction scores of the language modeling head applied at each generation step.`,name:"logits_processor"},{anchor:"transformers.generation_utils.GenerationMixin.constrained_beam_search.stopping_criteria",description:`<strong>stopping_criteria</strong> (<code>StoppingCriteriaList</code>, <em>optional</em>) &#x2014;
An instance of <a href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.StoppingCriteriaList">StoppingCriteriaList</a>. List of instances of class derived from <a href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.StoppingCriteria">StoppingCriteria</a>
used to tell if the generation loop should stop.`,name:"stopping_criteria"},{anchor:"transformers.generation_utils.GenerationMixin.constrained_beam_search.logits_warper",description:`<strong>logits_warper</strong> (<code>LogitsProcessorList</code>, <em>optional</em>) &#x2014;
An instance of <a href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.LogitsProcessorList">LogitsProcessorList</a>. List of instances of class derived from <a href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.LogitsWarper">LogitsWarper</a> used
to warp the prediction score distribution of the language modeling head applied before multinomial
sampling at each generation step.`,name:"logits_warper"},{anchor:"transformers.generation_utils.GenerationMixin.constrained_beam_search.max_length",description:`<strong>max_length</strong> (<code>int</code>, <em>optional</em>, defaults to 20) &#x2014;
<strong>DEPRECATED</strong>. Use <code>logits_processor</code> or <code>stopping_criteria</code> directly to cap the number of generated
tokens. The maximum length of the sequence to be generated.`,name:"max_length"},{anchor:"transformers.generation_utils.GenerationMixin.constrained_beam_search.pad_token_id",description:`<strong>pad_token_id</strong> (<code>int</code>, <em>optional</em>) &#x2014;
The id of the <em>padding</em> token.`,name:"pad_token_id"},{anchor:"transformers.generation_utils.GenerationMixin.constrained_beam_search.eos_token_id",description:`<strong>eos_token_id</strong> (<code>int</code>, <em>optional</em>) &#x2014;
The id of the <em>end-of-sequence</em> token.`,name:"eos_token_id"},{anchor:"transformers.generation_utils.GenerationMixin.constrained_beam_search.output_attentions",description:`<strong>output_attentions</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to return the attentions tensors of all attention layers. See <code>attentions</code> under
returned tensors for more details.`,name:"output_attentions"},{anchor:"transformers.generation_utils.GenerationMixin.constrained_beam_search.output_hidden_states",description:`<strong>output_hidden_states</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to return the hidden states of all layers. See <code>hidden_states</code> under returned tensors
for more details.`,name:"output_hidden_states"},{anchor:"transformers.generation_utils.GenerationMixin.constrained_beam_search.output_scores",description:`<strong>output_scores</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to return the prediction scores. See <code>scores</code> under returned tensors for more details.`,name:"output_scores"},{anchor:"transformers.generation_utils.GenerationMixin.constrained_beam_search.return_dict_in_generate",description:`<strong>return_dict_in_generate</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to return a <a href="/docs/transformers/pr_15984/en/main_classes/output#transformers.file_utils.ModelOutput">ModelOutput</a> instead of a plain tuple.`,name:"return_dict_in_generate"},{anchor:"transformers.generation_utils.GenerationMixin.constrained_beam_search.synced_gpus",description:`<strong>synced_gpus</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether to continue running the while loop until max_length (needed for ZeRO stage 3)
model_kwargs &#x2014;
Additional model specific kwargs will be forwarded to the <code>forward</code> function of the model. If model is
an encoder-decoder model the kwargs should include <code>encoder_outputs</code>.`,name:"synced_gpus"}],returnDescription:`
<p><code>generation_utilsBeamSearchDecoderOnlyOutput</code>, <a
  href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.generation_utils.BeamSearchEncoderDecoderOutput"
>BeamSearchEncoderDecoderOutput</a> or
A <code>torch.LongTensor</code> containing the generated tokens (default behaviour) or a
<a
  href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.generation_utils.BeamSearchDecoderOnlyOutput"
>BeamSearchDecoderOnlyOutput</a> if <code>model.config.is_encoder_decoder=False</code> and
<code>return_dict_in_generate=True</code> or a <a
  href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.generation_utils.BeamSearchEncoderDecoderOutput"
>BeamSearchEncoderDecoderOutput</a> if
<code>model.config.is_encoder_decoder=True</code>.</p>
`}}),Hs=new O({props:{code:`from transformers import (
    AutoTokenizer,
    AutoModelForSeq2SeqLM,
    LogitsProcessorList,
    MinLengthLogitsProcessor,
    ConstrainedBeamSearchScorer,
    PhrasalConstraint,
)
import torch

tokenizer = AutoTokenizer.from_pretrained("t5-base")
model = AutoModelForSeq2SeqLM.from_pretrained("t5-base")

encoder_input_str = "translate English to German: How old are you?"
encoder_input_ids = tokenizer(encoder_input_str, return_tensors="pt").input_ids


# lets run beam search using 3 beams
num_beams = 3
# define decoder start token ids
input_ids = torch.ones((num_beams, 1), device=model.device, dtype=torch.long)
input_ids = input_ids * model.config.decoder_start_token_id

# add encoder_outputs to model keyword arguments
model_kwargs = {
    "encoder_outputs": model.get_encoder()(
        encoder_input_ids.repeat_interleave(num_beams, dim=0), return_dict=True
    )
}

constraint_str = "sind"
constraint_token_ids = tokenizer.encode(constraint_str)[:-1]  # slice to remove eos token
constraints = [PhrasalConstraint(token_ids=constraint_token_ids)]


# instantiate beam scorer
beam_scorer = ConstrainedBeamSearchScorer(
    batch_size=1, num_beams=num_beams, device=model.device, constraints=constraints
)

# instantiate logits processors
logits_processor = LogitsProcessorList(
    [
        MinLengthLogitsProcessor(5, eos_token_id=model.config.eos_token_id),
    ]
)

outputs = model.constrained_beam_search(
    input_ids, beam_scorer, constraints=constraints, logits_processor=logits_processor, **model_kwargs
)

print("Generated:", tokenizer.batch_decode(outputs, skip_special_tokens=True))`,highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> (
<span class="hljs-meta">... </span>    AutoTokenizer,
<span class="hljs-meta">... </span>    AutoModelForSeq2SeqLM,
<span class="hljs-meta">... </span>    LogitsProcessorList,
<span class="hljs-meta">... </span>    MinLengthLogitsProcessor,
<span class="hljs-meta">... </span>    ConstrainedBeamSearchScorer,
<span class="hljs-meta">... </span>    PhrasalConstraint,
<span class="hljs-meta">... </span>)
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> torch

<span class="hljs-meta">&gt;&gt;&gt; </span>tokenizer = AutoTokenizer.from_pretrained(<span class="hljs-string">&quot;t5-base&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>model = AutoModelForSeq2SeqLM.from_pretrained(<span class="hljs-string">&quot;t5-base&quot;</span>)

<span class="hljs-meta">&gt;&gt;&gt; </span>encoder_input_str = <span class="hljs-string">&quot;translate English to German: How old are you?&quot;</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>encoder_input_ids = tokenizer(encoder_input_str, return_tensors=<span class="hljs-string">&quot;pt&quot;</span>).input_ids


<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># lets run beam search using 3 beams</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>num_beams = <span class="hljs-number">3</span>
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># define decoder start token ids</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>input_ids = torch.ones((num_beams, <span class="hljs-number">1</span>), device=model.device, dtype=torch.long)
<span class="hljs-meta">&gt;&gt;&gt; </span>input_ids = input_ids * model.config.decoder_start_token_id

<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># add encoder_outputs to model keyword arguments</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>model_kwargs = {
<span class="hljs-meta">... </span>    <span class="hljs-string">&quot;encoder_outputs&quot;</span>: model.get_encoder()(
<span class="hljs-meta">... </span>        encoder_input_ids.repeat_interleave(num_beams, dim=<span class="hljs-number">0</span>), return_dict=<span class="hljs-literal">True</span>
<span class="hljs-meta">... </span>    )
<span class="hljs-meta">... </span>}

<span class="hljs-meta">&gt;&gt;&gt; </span>constraint_str = <span class="hljs-string">&quot;sind&quot;</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>constraint_token_ids = tokenizer.encode(constraint_str)[:-<span class="hljs-number">1</span>]  <span class="hljs-comment"># slice to remove eos token</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>constraints = [PhrasalConstraint(token_ids=constraint_token_ids)]


<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># instantiate beam scorer</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>beam_scorer = ConstrainedBeamSearchScorer(
<span class="hljs-meta">... </span>    batch_size=<span class="hljs-number">1</span>, num_beams=num_beams, device=model.device, constraints=constraints
<span class="hljs-meta">... </span>)

<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># instantiate logits processors</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>logits_processor = LogitsProcessorList(
<span class="hljs-meta">... </span>    [
<span class="hljs-meta">... </span>        MinLengthLogitsProcessor(<span class="hljs-number">5</span>, eos_token_id=model.config.eos_token_id),
<span class="hljs-meta">... </span>    ]
<span class="hljs-meta">... </span>)

<span class="hljs-meta">&gt;&gt;&gt; </span>outputs = model.constrained_beam_search(
<span class="hljs-meta">... </span>    input_ids, beam_scorer, constraints=constraints, logits_processor=logits_processor, **model_kwargs
<span class="hljs-meta">... </span>)

<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Generated:&quot;</span>, tokenizer.batch_decode(outputs, skip_special_tokens=<span class="hljs-literal">True</span>))
<span class="hljs-comment"># =&gt; [&#x27;Wie alter sind Sie?&#x27;]</span>`}}),Vs=new f({props:{name:"generate",anchor:"transformers.generation_utils.GenerationMixin.generate",parameters:[{name:"inputs",val:": typing.Optional[torch.Tensor] = None"},{name:"max_length",val:": typing.Optional[int] = None"},{name:"min_length",val:": typing.Optional[int] = None"},{name:"do_sample",val:": typing.Optional[bool] = None"},{name:"early_stopping",val:": typing.Optional[bool] = None"},{name:"num_beams",val:": typing.Optional[int] = None"},{name:"temperature",val:": typing.Optional[float] = None"},{name:"top_k",val:": typing.Optional[int] = None"},{name:"top_p",val:": typing.Optional[float] = None"},{name:"typical_p",val:": typing.Optional[float] = None"},{name:"repetition_penalty",val:": typing.Optional[float] = None"},{name:"bad_words_ids",val:": typing.Optional[typing.Iterable[int]] = None"},{name:"force_words_ids",val:": typing.Union[typing.Iterable[int], typing.Iterable[typing.Iterable[int]], NoneType] = None"},{name:"bos_token_id",val:": typing.Optional[int] = None"},{name:"pad_token_id",val:": typing.Optional[int] = None"},{name:"eos_token_id",val:": typing.Optional[int] = None"},{name:"length_penalty",val:": typing.Optional[float] = None"},{name:"no_repeat_ngram_size",val:": typing.Optional[int] = None"},{name:"encoder_no_repeat_ngram_size",val:": typing.Optional[int] = None"},{name:"num_return_sequences",val:": typing.Optional[int] = None"},{name:"max_time",val:": typing.Optional[float] = None"},{name:"max_new_tokens",val:": typing.Optional[int] = None"},{name:"decoder_start_token_id",val:": typing.Optional[int] = None"},{name:"use_cache",val:": typing.Optional[bool] = None"},{name:"num_beam_groups",val:": typing.Optional[int] = None"},{name:"diversity_penalty",val:": typing.Optional[float] = None"},{name:"prefix_allowed_tokens_fn",val:": typing.Union[typing.Callable[[int, torch.Tensor], typing.List[int]], NoneType] = None"},{name:"logits_processor",val:": typing.Optional[transformers.generation_logits_process.LogitsProcessorList] = []"},{name:"stopping_criteria",val:": typing.Optional[transformers.generation_stopping_criteria.StoppingCriteriaList] = []"},{name:"constraints",val:": typing.Optional[typing.List[transformers.generation_beam_constraints.Constraint]] = None"},{name:"output_attentions",val:": typing.Optional[bool] = None"},{name:"output_hidden_states",val:": typing.Optional[bool] = None"},{name:"output_scores",val:": typing.Optional[bool] = None"},{name:"return_dict_in_generate",val:": typing.Optional[bool] = None"},{name:"forced_bos_token_id",val:": typing.Optional[int] = None"},{name:"forced_eos_token_id",val:": typing.Optional[int] = None"},{name:"remove_invalid_values",val:": typing.Optional[bool] = None"},{name:"synced_gpus",val:": typing.Optional[bool] = False"},{name:"**model_kwargs",val:""}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/generation_utils.py#L806",parametersDescription:[{anchor:"transformers.generation_utils.GenerationMixin.generate.inputs",description:"<strong>inputs</strong> (<code>torch.Tensor</code> of shape <code>(batch_size, sequence_length)</code>, `(batch_size, sequence_length, &#x2014;",name:"inputs"},{anchor:"transformers.generation_utils.GenerationMixin.generate.feature_dim)`",description:`<strong>feature_dim)\`</strong> or <code>(batch_size, num_channels, height, width)</code>, <em>optional</em>) &#x2014;
The sequence used as a prompt for the generation or as model inputs to the encoder. If <code>None</code> the
method initializes it with <code>bos_token_id</code> and a batch size of 1. For decoder-only models <code>inputs</code>
should of in the format of <code>input_ids</code>. For encoder-decoder models <em>inputs</em> can represent any of
<code>input_ids</code>, <code>input_values</code>, <code>input_features</code>, or <code>pixel_values</code>.`,name:"feature_dim)`"},{anchor:"transformers.generation_utils.GenerationMixin.generate.max_length",description:`<strong>max_length</strong> (<code>int</code>, <em>optional</em>, defaults to <code>model.config.max_length</code>) &#x2014;
The maximum length of the sequence to be generated.`,name:"max_length"},{anchor:"transformers.generation_utils.GenerationMixin.generate.max_new_tokens",description:`<strong>max_new_tokens</strong> (<code>int</code>, <em>optional</em>, defaults to None) &#x2014;
The maximum numbers of tokens to generate, ignore the current number of tokens. Use either
<code>max_new_tokens</code> or <code>max_length</code> but not both, they serve the same purpose.`,name:"max_new_tokens"},{anchor:"transformers.generation_utils.GenerationMixin.generate.min_length",description:`<strong>min_length</strong> (<code>int</code>, <em>optional</em>, defaults to 10) &#x2014;
The minimum length of the sequence to be generated.`,name:"min_length"},{anchor:"transformers.generation_utils.GenerationMixin.generate.do_sample",description:`<strong>do_sample</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to use sampling ; use greedy decoding otherwise.`,name:"do_sample"},{anchor:"transformers.generation_utils.GenerationMixin.generate.early_stopping",description:`<strong>early_stopping</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether to stop the beam search when at least <code>num_beams</code> sentences are finished per batch or not.`,name:"early_stopping"},{anchor:"transformers.generation_utils.GenerationMixin.generate.num_beams",description:`<strong>num_beams</strong> (<code>int</code>, <em>optional</em>, defaults to 1) &#x2014;
Number of beams for beam search. 1 means no beam search.`,name:"num_beams"},{anchor:"transformers.generation_utils.GenerationMixin.generate.temperature",description:`<strong>temperature</strong> (<code>float</code>, <em>optional</em>, defaults to 1.0) &#x2014;
The value used to module the next token probabilities.`,name:"temperature"},{anchor:"transformers.generation_utils.GenerationMixin.generate.top_k",description:`<strong>top_k</strong> (<code>int</code>, <em>optional</em>, defaults to 50) &#x2014;
The number of highest probability vocabulary tokens to keep for top-k-filtering.`,name:"top_k"},{anchor:"transformers.generation_utils.GenerationMixin.generate.top_p",description:`<strong>top_p</strong> (<code>float</code>, <em>optional</em>, defaults to 1.0) &#x2014;
If set to float &lt; 1, only the most probable tokens with probabilities that add up to <code>top_p</code> or higher
are kept for generation.`,name:"top_p"},{anchor:"transformers.generation_utils.GenerationMixin.generate.repetition_penalty",description:`<strong>repetition_penalty</strong> (<code>float</code>, <em>optional</em>, defaults to 1.0) &#x2014;
The parameter for repetition penalty. 1.0 means no penalty. See <a href="https://arxiv.org/pdf/1909.05858.pdf" rel="nofollow">this
paper</a> for more details.`,name:"repetition_penalty"},{anchor:"transformers.generation_utils.GenerationMixin.generate.pad_token_id",description:`<strong>pad_token_id</strong> (<code>int</code>, <em>optional</em>) &#x2014;
The id of the <em>padding</em> token.`,name:"pad_token_id"},{anchor:"transformers.generation_utils.GenerationMixin.generate.bos_token_id",description:`<strong>bos_token_id</strong> (<code>int</code>, <em>optional</em>) &#x2014;
The id of the <em>beginning-of-sequence</em> token.`,name:"bos_token_id"},{anchor:"transformers.generation_utils.GenerationMixin.generate.eos_token_id",description:`<strong>eos_token_id</strong> (<code>int</code>, <em>optional</em>) &#x2014;
The id of the <em>end-of-sequence</em> token.`,name:"eos_token_id"},{anchor:"transformers.generation_utils.GenerationMixin.generate.length_penalty",description:`<strong>length_penalty</strong> (<code>float</code>, <em>optional</em>, defaults to 1.0) &#x2014;
Exponential penalty to the length. 1.0 means no penalty. Set to values &lt; 1.0 in order to encourage the
model to generate shorter sequences, to a value &gt; 1.0 in order to encourage the model to produce longer
sequences.`,name:"length_penalty"},{anchor:"transformers.generation_utils.GenerationMixin.generate.no_repeat_ngram_size",description:`<strong>no_repeat_ngram_size</strong> (<code>int</code>, <em>optional</em>, defaults to 0) &#x2014;
If set to int &gt; 0, all ngrams of that size can only occur once.`,name:"no_repeat_ngram_size"},{anchor:"transformers.generation_utils.GenerationMixin.generate.encoder_no_repeat_ngram_size",description:`<strong>encoder_no_repeat_ngram_size</strong> (<code>int</code>, <em>optional</em>, defaults to 0) &#x2014;
If set to int &gt; 0, all ngrams of that size that occur in the <code>encoder_input_ids</code> cannot occur in the
<code>decoder_input_ids</code>.`,name:"encoder_no_repeat_ngram_size"},{anchor:"transformers.generation_utils.GenerationMixin.generate.bad_words_ids(List[List[int]],",description:`<strong>bad_words_ids(<code>List[List[int]]</code>,</strong> <em>optional</em>) &#x2014;
List of token ids that are not allowed to be generated. In order to get the token ids of the words that
should not appear in the generated text, use <code>tokenizer(bad_words, add_prefix_space=True, add_special_tokens=False).input_ids</code>.`,name:"bad_words_ids(List[List[int]],"},{anchor:"transformers.generation_utils.GenerationMixin.generate.force_words_ids(List[List[int]]",description:`<strong>force_words_ids(<code>List[List[int]]</code></strong> or <code>List[List[List[int]]]</code>, <em>optional</em>) &#x2014;
List of token ids that must be generated. If given a <code>List[List[int]]</code>, this is treated as a simple
list of words that must be included, the opposite to <code>bad_words_ids</code>. If given <code>List[List[List[int]]]</code>,
this triggers a <a href="https://github.com/huggingface/transformers/issues/14081" rel="nofollow">disjunctive constraint</a>,
where one can allow different forms of each word.`,name:"force_words_ids(List[List[int]]"},{anchor:"transformers.generation_utils.GenerationMixin.generate.num_return_sequences(int,",description:`<strong>num_return_sequences(<code>int</code>,</strong> <em>optional</em>, defaults to 1) &#x2014;
The number of independently computed returned sequences for each element in the batch.`,name:"num_return_sequences(int,"},{anchor:"transformers.generation_utils.GenerationMixin.generate.max_time(float,",description:`<strong>max_time(<code>float</code>,</strong> <em>optional</em>, defaults to None) &#x2014;
The maximum amount of time you allow the computation to run for in seconds. generation will still
finish the current pass after allocated time has been passed.`,name:"max_time(float,"},{anchor:"transformers.generation_utils.GenerationMixin.generate.attention_mask",description:`<strong>attention_mask</strong> (<code>torch.LongTensor</code> of shape <code>(batch_size, sequence_length)</code>, <em>optional</em>) &#x2014;
Mask to avoid performing attention on padding token indices. Mask values are in <code>[0, 1]</code>, 1 for tokens
that are not masked, and 0 for masked tokens. If not provided, will default to a tensor the same shape
as <code>input_ids</code> that masks the pad token. <a href="../glossary#attention-mask">What are attention masks?</a>`,name:"attention_mask"},{anchor:"transformers.generation_utils.GenerationMixin.generate.decoder_start_token_id",description:`<strong>decoder_start_token_id</strong> (<code>int</code>, <em>optional</em>) &#x2014;
If an encoder-decoder model starts decoding with a different token than <em>bos</em>, the id of that token.
use_cache &#x2014; (<code>bool</code>, <em>optional</em>, defaults to <code>True</code>):
Whether or not the model should use the past last key/values attentions (if applicable to the model) to
speed up decoding.`,name:"decoder_start_token_id"},{anchor:"transformers.generation_utils.GenerationMixin.generate.num_beam_groups",description:`<strong>num_beam_groups</strong> (<code>int</code>, <em>optional</em>, defaults to 1) &#x2014;
Number of groups to divide <code>num_beams</code> into in order to ensure diversity among different groups of
beams. <a href="https://arxiv.org/pdf/1610.02424.pdf" rel="nofollow">this paper</a> for more details.`,name:"num_beam_groups"},{anchor:"transformers.generation_utils.GenerationMixin.generate.diversity_penalty",description:`<strong>diversity_penalty</strong> (<code>float</code>, <em>optional</em>, defaults to 0.0) &#x2014;
This value is subtracted from a beam&#x2019;s score if it generates a token same as any beam from other group
at a particular time. Note that <code>diversity_penalty</code> is only effective if <code>group beam search</code> is
enabled.
prefix_allowed_tokens_fn &#x2014; (<code>Callable[[int, torch.Tensor], List[int]]</code>, <em>optional</em>):
If provided, this function constraints the beam search to allowed tokens only at each step. If not
provided no constraint is applied. This function takes 2 arguments: the batch ID <code>batch_id</code> and
<code>input_ids</code>. It has to return a list with the allowed tokens for the next generation step conditioned
on the batch ID <code>batch_id</code> and the previously generated tokens <code>inputs_ids</code>. This argument is useful
for constrained generation conditioned on the prefix, as described in <a href="https://arxiv.org/abs/2010.00904" rel="nofollow">Autoregressive Entity
Retrieval</a>.`,name:"diversity_penalty"},{anchor:"transformers.generation_utils.GenerationMixin.generate.logits_processor",description:`<strong>logits_processor</strong> (<code>LogitsProcessorList</code>, <em>optional</em>) &#x2014;
Custom logits processors that complement the default logits processors built from arguments and a
model&#x2019;s config. If a logit processor is passed that is already created with the arguments or a model&#x2019;s
config an error is thrown. This feature is intended for advanced users.`,name:"logits_processor"},{anchor:"transformers.generation_utils.GenerationMixin.generate.stopping_criteria",description:`<strong>stopping_criteria</strong> (<code>StoppingCriteriaList</code>, <em>optional</em>) &#x2014;
Custom stopping criteria that complement the default stopping criteria built from arguments and a
model&#x2019;s config. If a stopping criteria is passed that is already created with the arguments or a
model&#x2019;s config an error is thrown. This feature is intended for advanced users.`,name:"stopping_criteria"},{anchor:"transformers.generation_utils.GenerationMixin.generate.constraints",description:`<strong>constraints</strong> (<code>List[Constraint]</code>, <em>optional</em>) &#x2014;
Custom constraints that can be added to the generation to ensure that the output will contain the use
of certain tokens as defined by <code>Constraint</code> objects, in the most sensible way possible.`,name:"constraints"},{anchor:"transformers.generation_utils.GenerationMixin.generate.output_attentions",description:`<strong>output_attentions</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to return the attentions tensors of all attention layers. See <code>attentions</code> under
returned tensors for more details.`,name:"output_attentions"},{anchor:"transformers.generation_utils.GenerationMixin.generate.output_hidden_states",description:`<strong>output_hidden_states</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to return the hidden states of all layers. See <code>hidden_states</code> under returned tensors
for more details.`,name:"output_hidden_states"},{anchor:"transformers.generation_utils.GenerationMixin.generate.output_scores",description:`<strong>output_scores</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to return the prediction scores. See <code>scores</code> under returned tensors for more details.`,name:"output_scores"},{anchor:"transformers.generation_utils.GenerationMixin.generate.return_dict_in_generate",description:`<strong>return_dict_in_generate</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to return a <a href="/docs/transformers/pr_15984/en/main_classes/output#transformers.file_utils.ModelOutput">ModelOutput</a> instead of a plain tuple.`,name:"return_dict_in_generate"},{anchor:"transformers.generation_utils.GenerationMixin.generate.forced_bos_token_id",description:`<strong>forced_bos_token_id</strong> (<code>int</code>, <em>optional</em>) &#x2014;
The id of the token to force as the first generated token after the <code>decoder_start_token_id</code>. Useful
for multilingual models like <a href="../model_doc/mbart">mBART</a> where the first generated token needs to be
the target language token.`,name:"forced_bos_token_id"},{anchor:"transformers.generation_utils.GenerationMixin.generate.forced_eos_token_id",description:`<strong>forced_eos_token_id</strong> (<code>int</code>, <em>optional</em>) &#x2014;
The id of the token to force as the last generated token when <code>max_length</code> is reached.`,name:"forced_eos_token_id"},{anchor:"transformers.generation_utils.GenerationMixin.generate.remove_invalid_values",description:`<strong>remove_invalid_values</strong> (<code>bool</code>, <em>optional</em>) &#x2014;
Whether to remove possible <em>nan</em> and <em>inf</em> outputs of the model to prevent the generation method to
crash. Note that using <code>remove_invalid_values</code> can slow down generation.`,name:"remove_invalid_values"},{anchor:"transformers.generation_utils.GenerationMixin.generate.synced_gpus",description:`<strong>synced_gpus</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether to continue running the while loop until max<em>length (needed for ZeRO stage 3)
model_kwargs &#x2014;
Additional model specific kwargs will be forwarded to the <code>forward</code> function of the model. If the model
is an encoder-decoder model, encoder specific kwargs should not be prefixed and decoder specific kwargs
should be prefixed with *decoder</em>*.`,name:"synced_gpus"}],returnDescription:`
<p>A <a
  href="/docs/transformers/pr_15984/en/main_classes/output#transformers.file_utils.ModelOutput"
>ModelOutput</a> (if
<code>return_dict_in_generate=True</code> or when <code>config.return_dict_in_generate=True</code>) or a <code>torch.FloatTensor</code>.</p>
<p>If the model is <em>not</em> an encoder-decoder model (<code>model.config.is_encoder_decoder=False</code>), the possible
<a
  href="/docs/transformers/pr_15984/en/main_classes/output#transformers.file_utils.ModelOutput"
>ModelOutput</a> types are:</p>
<ul>
<li><a
  href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.generation_utils.GreedySearchDecoderOnlyOutput"
>GreedySearchDecoderOnlyOutput</a>,</li>
<li><a
  href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.generation_utils.SampleDecoderOnlyOutput"
>SampleDecoderOnlyOutput</a>,</li>
<li><a
  href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.generation_utils.BeamSearchDecoderOnlyOutput"
>BeamSearchDecoderOnlyOutput</a>,</li>
<li><a
  href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.generation_utils.BeamSampleDecoderOnlyOutput"
>BeamSampleDecoderOnlyOutput</a></li>
</ul>
<p>If the model is an encoder-decoder model (<code>model.config.is_encoder_decoder=True</code>), the possible
<a
  href="/docs/transformers/pr_15984/en/main_classes/output#transformers.file_utils.ModelOutput"
>ModelOutput</a> types are:</p>
<ul>
<li><a
  href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.generation_utils.GreedySearchEncoderDecoderOutput"
>GreedySearchEncoderDecoderOutput</a>,</li>
<li><a
  href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.generation_utils.SampleEncoderDecoderOutput"
>SampleEncoderDecoderOutput</a>,</li>
<li><a
  href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.generation_utils.BeamSearchEncoderDecoderOutput"
>BeamSearchEncoderDecoderOutput</a>,</li>
<li><a
  href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.generation_utils.BeamSampleEncoderDecoderOutput"
>BeamSampleEncoderDecoderOutput</a></li>
</ul>
`}}),Ys=new O({props:{code:`from transformers import AutoTokenizer, AutoModelForCausalLM, AutoModelForSeq2SeqLM

tokenizer = AutoTokenizer.from_pretrained("distilgpt2")
model = AutoModelForCausalLM.from_pretrained("distilgpt2")
# do greedy decoding without providing a prompt
outputs = model.generate(max_length=40)
print("Generated:", tokenizer.decode(outputs[0], skip_special_tokens=True))

tokenizer = AutoTokenizer.from_pretrained("t5-base")
model = AutoModelForSeq2SeqLM.from_pretrained("t5-base")
document = (
    "at least two people were killed in a suspected bomb attack on a passenger bus "
    "in the strife-torn southern philippines on monday , the military said."
)
# encode input context
input_ids = tokenizer(document, return_tensors="pt").input_ids
# generate 3 independent sequences using beam search decoding (5 beams)
# with T5 encoder-decoder model conditioned on short news article.
outputs = model.generate(input_ids=input_ids, num_beams=5, num_return_sequences=3)
print("Generated:", tokenizer.batch_decode(outputs, skip_special_tokens=True))

tokenizer = AutoTokenizer.from_pretrained("distilgpt2")
model = AutoModelForCausalLM.from_pretrained("distilgpt2")
input_context = "The dog"
# encode input context
input_ids = tokenizer(input_context, return_tensors="pt").input_ids
# generate 3 candidates using sampling
outputs = model.generate(input_ids=input_ids, max_length=20, num_return_sequences=3, do_sample=True)
print("Generated:", tokenizer.batch_decode(outputs, skip_special_tokens=True))

tokenizer = AutoTokenizer.from_pretrained("ctrl")
model = AutoModelForCausalLM.from_pretrained("ctrl")
# "Legal" is one of the control codes for ctrl
input_context = "Legal My neighbor is"
# encode input context
input_ids = tokenizer(input_context, return_tensors="pt").input_ids
outputs = model.generate(input_ids=input_ids, max_length=20, repetition_penalty=1.2)
print("Generated:", tokenizer.decode(outputs[0], skip_special_tokens=True))

tokenizer = AutoTokenizer.from_pretrained("gpt2", use_fast=False)
model = AutoModelForCausalLM.from_pretrained("gpt2")
input_context = "My cute dog"
# get tokens of words that should not be generated
bad_words_ids = tokenizer(
    ["idiot", "stupid", "shut up"], add_prefix_space=True, add_special_tokens=False
).input_ids
# get tokens of words that we want generated
force_words_ids = tokenizer(["runs", "loves"], add_prefix_space=True, add_special_tokens=False).input_ids
# encode input context
input_ids = tokenizer(input_context, return_tensors="pt").input_ids
# generate sequences without allowing bad_words to be generated
outputs = model.generate(
    input_ids=input_ids,
    max_length=20,
    do_sample=True,
    bad_words_ids=bad_words_ids,
    force_words_ids=force_words_ids,
)
print("Generated:", tokenizer.decode(outputs[0], skip_special_tokens=True))`,highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> AutoTokenizer, AutoModelForCausalLM, AutoModelForSeq2SeqLM

<span class="hljs-meta">&gt;&gt;&gt; </span>tokenizer = AutoTokenizer.from_pretrained(<span class="hljs-string">&quot;distilgpt2&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>model = AutoModelForCausalLM.from_pretrained(<span class="hljs-string">&quot;distilgpt2&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># do greedy decoding without providing a prompt</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>outputs = model.generate(max_length=<span class="hljs-number">40</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Generated:&quot;</span>, tokenizer.decode(outputs[<span class="hljs-number">0</span>], skip_special_tokens=<span class="hljs-literal">True</span>))

<span class="hljs-meta">&gt;&gt;&gt; </span>tokenizer = AutoTokenizer.from_pretrained(<span class="hljs-string">&quot;t5-base&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>model = AutoModelForSeq2SeqLM.from_pretrained(<span class="hljs-string">&quot;t5-base&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>document = (
<span class="hljs-meta">... </span>    <span class="hljs-string">&quot;at least two people were killed in a suspected bomb attack on a passenger bus &quot;</span>
<span class="hljs-meta">... </span>    <span class="hljs-string">&quot;in the strife-torn southern philippines on monday , the military said.&quot;</span>
<span class="hljs-meta">... </span>)
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># encode input context</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>input_ids = tokenizer(document, return_tensors=<span class="hljs-string">&quot;pt&quot;</span>).input_ids
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># generate 3 independent sequences using beam search decoding (5 beams)</span>
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># with T5 encoder-decoder model conditioned on short news article.</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>outputs = model.generate(input_ids=input_ids, num_beams=<span class="hljs-number">5</span>, num_return_sequences=<span class="hljs-number">3</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Generated:&quot;</span>, tokenizer.batch_decode(outputs, skip_special_tokens=<span class="hljs-literal">True</span>))

<span class="hljs-meta">&gt;&gt;&gt; </span>tokenizer = AutoTokenizer.from_pretrained(<span class="hljs-string">&quot;distilgpt2&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>model = AutoModelForCausalLM.from_pretrained(<span class="hljs-string">&quot;distilgpt2&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>input_context = <span class="hljs-string">&quot;The dog&quot;</span>
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># encode input context</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>input_ids = tokenizer(input_context, return_tensors=<span class="hljs-string">&quot;pt&quot;</span>).input_ids
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># generate 3 candidates using sampling</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>outputs = model.generate(input_ids=input_ids, max_length=<span class="hljs-number">20</span>, num_return_sequences=<span class="hljs-number">3</span>, do_sample=<span class="hljs-literal">True</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Generated:&quot;</span>, tokenizer.batch_decode(outputs, skip_special_tokens=<span class="hljs-literal">True</span>))

<span class="hljs-meta">&gt;&gt;&gt; </span>tokenizer = AutoTokenizer.from_pretrained(<span class="hljs-string">&quot;ctrl&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>model = AutoModelForCausalLM.from_pretrained(<span class="hljs-string">&quot;ctrl&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># &quot;Legal&quot; is one of the control codes for ctrl</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>input_context = <span class="hljs-string">&quot;Legal My neighbor is&quot;</span>
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># encode input context</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>input_ids = tokenizer(input_context, return_tensors=<span class="hljs-string">&quot;pt&quot;</span>).input_ids
<span class="hljs-meta">&gt;&gt;&gt; </span>outputs = model.generate(input_ids=input_ids, max_length=<span class="hljs-number">20</span>, repetition_penalty=<span class="hljs-number">1.2</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Generated:&quot;</span>, tokenizer.decode(outputs[<span class="hljs-number">0</span>], skip_special_tokens=<span class="hljs-literal">True</span>))

<span class="hljs-meta">&gt;&gt;&gt; </span>tokenizer = AutoTokenizer.from_pretrained(<span class="hljs-string">&quot;gpt2&quot;</span>, use_fast=<span class="hljs-literal">False</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>model = AutoModelForCausalLM.from_pretrained(<span class="hljs-string">&quot;gpt2&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>input_context = <span class="hljs-string">&quot;My cute dog&quot;</span>
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># get tokens of words that should not be generated</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>bad_words_ids = tokenizer(
<span class="hljs-meta">... </span>    [<span class="hljs-string">&quot;idiot&quot;</span>, <span class="hljs-string">&quot;stupid&quot;</span>, <span class="hljs-string">&quot;shut up&quot;</span>], add_prefix_space=<span class="hljs-literal">True</span>, add_special_tokens=<span class="hljs-literal">False</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>).input_ids
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># get tokens of words that we want generated</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>force_words_ids = tokenizer([<span class="hljs-string">&quot;runs&quot;</span>, <span class="hljs-string">&quot;loves&quot;</span>], add_prefix_space=<span class="hljs-literal">True</span>, add_special_tokens=<span class="hljs-literal">False</span>).input_ids
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># encode input context</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>input_ids = tokenizer(input_context, return_tensors=<span class="hljs-string">&quot;pt&quot;</span>).input_ids
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># generate sequences without allowing bad_words to be generated</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>outputs = model.generate(
<span class="hljs-meta">... </span>    input_ids=input_ids,
<span class="hljs-meta">... </span>    max_length=<span class="hljs-number">20</span>,
<span class="hljs-meta">... </span>    do_sample=<span class="hljs-literal">True</span>,
<span class="hljs-meta">... </span>    bad_words_ids=bad_words_ids,
<span class="hljs-meta">... </span>    force_words_ids=force_words_ids,
<span class="hljs-meta">... </span>)
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Generated:&quot;</span>, tokenizer.decode(outputs[<span class="hljs-number">0</span>], skip_special_tokens=<span class="hljs-literal">True</span>))`}}),Ks=new f({props:{name:"greedy_search",anchor:"transformers.generation_utils.GenerationMixin.greedy_search",parameters:[{name:"input_ids",val:": LongTensor"},{name:"logits_processor",val:": typing.Optional[transformers.generation_logits_process.LogitsProcessorList] = None"},{name:"stopping_criteria",val:": typing.Optional[transformers.generation_stopping_criteria.StoppingCriteriaList] = None"},{name:"max_length",val:": typing.Optional[int] = None"},{name:"pad_token_id",val:": typing.Optional[int] = None"},{name:"eos_token_id",val:": typing.Optional[int] = None"},{name:"output_attentions",val:": typing.Optional[bool] = None"},{name:"output_hidden_states",val:": typing.Optional[bool] = None"},{name:"output_scores",val:": typing.Optional[bool] = None"},{name:"return_dict_in_generate",val:": typing.Optional[bool] = None"},{name:"synced_gpus",val:": typing.Optional[bool] = False"},{name:"**model_kwargs",val:""}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/generation_utils.py#L1444",parametersDescription:[{anchor:"transformers.generation_utils.GenerationMixin.greedy_search.input_ids",description:`<strong>input_ids</strong> (<code>torch.LongTensor</code> of shape <code>(batch_size, sequence_length)</code>) &#x2014;
The sequence used as a prompt for the generation.`,name:"input_ids"},{anchor:"transformers.generation_utils.GenerationMixin.greedy_search.logits_processor",description:`<strong>logits_processor</strong> (<code>LogitsProcessorList</code>, <em>optional</em>) &#x2014;
An instance of <a href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.LogitsProcessorList">LogitsProcessorList</a>. List of instances of class derived from <a href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.LogitsProcessor">LogitsProcessor</a>
used to modify the prediction scores of the language modeling head applied at each generation step.`,name:"logits_processor"},{anchor:"transformers.generation_utils.GenerationMixin.greedy_search.stopping_criteria",description:`<strong>stopping_criteria</strong> (<code>StoppingCriteriaList</code>, <em>optional</em>) &#x2014;
An instance of <a href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.StoppingCriteriaList">StoppingCriteriaList</a>. List of instances of class derived from <a href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.StoppingCriteria">StoppingCriteria</a>
used to tell if the generation loop should stop.`,name:"stopping_criteria"},{anchor:"transformers.generation_utils.GenerationMixin.greedy_search.max_length",description:`<strong>max_length</strong> (<code>int</code>, <em>optional</em>, defaults to 20) &#x2014;
<strong>DEPRECATED</strong>. Use <code>logits_processor</code> or <code>stopping_criteria</code> directly to cap the number of generated
tokens. The maximum length of the sequence to be generated.`,name:"max_length"},{anchor:"transformers.generation_utils.GenerationMixin.greedy_search.pad_token_id",description:`<strong>pad_token_id</strong> (<code>int</code>, <em>optional</em>) &#x2014;
The id of the <em>padding</em> token.`,name:"pad_token_id"},{anchor:"transformers.generation_utils.GenerationMixin.greedy_search.eos_token_id",description:`<strong>eos_token_id</strong> (<code>int</code>, <em>optional</em>) &#x2014;
The id of the <em>end-of-sequence</em> token.`,name:"eos_token_id"},{anchor:"transformers.generation_utils.GenerationMixin.greedy_search.output_attentions",description:`<strong>output_attentions</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to return the attentions tensors of all attention layers. See <code>attentions</code> under
returned tensors for more details.`,name:"output_attentions"},{anchor:"transformers.generation_utils.GenerationMixin.greedy_search.output_hidden_states",description:`<strong>output_hidden_states</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to return the hidden states of all layers. See <code>hidden_states</code> under returned tensors
for more details.`,name:"output_hidden_states"},{anchor:"transformers.generation_utils.GenerationMixin.greedy_search.output_scores",description:`<strong>output_scores</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to return the prediction scores. See <code>scores</code> under returned tensors for more details.`,name:"output_scores"},{anchor:"transformers.generation_utils.GenerationMixin.greedy_search.return_dict_in_generate",description:`<strong>return_dict_in_generate</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to return a <a href="/docs/transformers/pr_15984/en/main_classes/output#transformers.file_utils.ModelOutput">ModelOutput</a> instead of a plain tuple.`,name:"return_dict_in_generate"},{anchor:"transformers.generation_utils.GenerationMixin.greedy_search.synced_gpus",description:`<strong>synced_gpus</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether to continue running the while loop until max_length (needed for ZeRO stage 3)
model_kwargs &#x2014;
Additional model specific keyword arguments will be forwarded to the <code>forward</code> function of the model.
If model is an encoder-decoder model the kwargs should include <code>encoder_outputs</code>.`,name:"synced_gpus"}],returnDescription:`
<p><a
  href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.generation_utils.GreedySearchDecoderOnlyOutput"
>GreedySearchDecoderOnlyOutput</a>, <a
  href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.generation_utils.GreedySearchEncoderDecoderOutput"
>GreedySearchEncoderDecoderOutput</a>
A <code>torch.LongTensor</code> containing the generated tokens (default behaviour) or a
<a
  href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.generation_utils.GreedySearchDecoderOnlyOutput"
>GreedySearchDecoderOnlyOutput</a> if <code>model.config.is_encoder_decoder=False</code> and
<code>return_dict_in_generate=True</code> or a <a
  href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.generation_utils.GreedySearchEncoderDecoderOutput"
>GreedySearchEncoderDecoderOutput</a> if
<code>model.config.is_encoder_decoder=True</code>.</p>
`}}),Zs=new O({props:{code:`from transformers import (
    AutoTokenizer,
    AutoModelForCausalLM,
    LogitsProcessorList,
    MinLengthLogitsProcessor,
)

tokenizer = AutoTokenizer.from_pretrained("gpt2")
model = AutoModelForCausalLM.from_pretrained("gpt2")

# set pad_token_id to eos_token_id because GPT2 does not have a EOS token
model.config.pad_token_id = model.config.eos_token_id

input_prompt = "Today is a beautiful day, and"
input_ids = tokenizer(input_prompt, return_tensors="pt").input_ids

# instantiate logits processors
logits_processor = LogitsProcessorList(
    [
        MinLengthLogitsProcessor(15, eos_token_id=model.config.eos_token_id),
    ]
)

outputs = model.greedy_search(input_ids, logits_processor=logits_processor)

print("Generated:", tokenizer.batch_decode(outputs, skip_special_tokens=True))`,highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> (
<span class="hljs-meta">... </span>    AutoTokenizer,
<span class="hljs-meta">... </span>    AutoModelForCausalLM,
<span class="hljs-meta">... </span>    LogitsProcessorList,
<span class="hljs-meta">... </span>    MinLengthLogitsProcessor,
<span class="hljs-meta">... </span>)

<span class="hljs-meta">&gt;&gt;&gt; </span>tokenizer = AutoTokenizer.from_pretrained(<span class="hljs-string">&quot;gpt2&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>model = AutoModelForCausalLM.from_pretrained(<span class="hljs-string">&quot;gpt2&quot;</span>)

<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># set pad_token_id to eos_token_id because GPT2 does not have a EOS token</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>model.config.pad_token_id = model.config.eos_token_id

<span class="hljs-meta">&gt;&gt;&gt; </span>input_prompt = <span class="hljs-string">&quot;Today is a beautiful day, and&quot;</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>input_ids = tokenizer(input_prompt, return_tensors=<span class="hljs-string">&quot;pt&quot;</span>).input_ids

<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># instantiate logits processors</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>logits_processor = LogitsProcessorList(
<span class="hljs-meta">... </span>    [
<span class="hljs-meta">... </span>        MinLengthLogitsProcessor(<span class="hljs-number">15</span>, eos_token_id=model.config.eos_token_id),
<span class="hljs-meta">... </span>    ]
<span class="hljs-meta">... </span>)

<span class="hljs-meta">&gt;&gt;&gt; </span>outputs = model.greedy_search(input_ids, logits_processor=logits_processor)

<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Generated:&quot;</span>, tokenizer.batch_decode(outputs, skip_special_tokens=<span class="hljs-literal">True</span>))`}}),Js=new f({props:{name:"group_beam_search",anchor:"transformers.generation_utils.GenerationMixin.group_beam_search",parameters:[{name:"input_ids",val:": LongTensor"},{name:"beam_scorer",val:": BeamScorer"},{name:"logits_processor",val:": typing.Optional[transformers.generation_logits_process.LogitsProcessorList] = None"},{name:"stopping_criteria",val:": typing.Optional[transformers.generation_stopping_criteria.StoppingCriteriaList] = None"},{name:"max_length",val:": typing.Optional[int] = None"},{name:"pad_token_id",val:": typing.Optional[int] = None"},{name:"eos_token_id",val:": typing.Optional[int] = None"},{name:"output_attentions",val:": typing.Optional[bool] = None"},{name:"output_hidden_states",val:": typing.Optional[bool] = None"},{name:"output_scores",val:": typing.Optional[bool] = None"},{name:"return_dict_in_generate",val:": typing.Optional[bool] = None"},{name:"synced_gpus",val:": typing.Optional[bool] = False"},{name:"**model_kwargs",val:""}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/generation_utils.py#L2542",parametersDescription:[{anchor:"transformers.generation_utils.GenerationMixin.group_beam_search.input_ids",description:`<strong>input_ids</strong> (<code>torch.LongTensor</code> of shape <code>(batch_size, sequence_length)</code>) &#x2014;
The sequence used as a prompt for the generation.`,name:"input_ids"},{anchor:"transformers.generation_utils.GenerationMixin.group_beam_search.beam_scorer",description:`<strong>beam_scorer</strong> (<code>BeamScorer</code>) &#x2014;
An derived instance of <a href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.BeamScorer">BeamScorer</a> that defines how beam hypotheses are constructed, stored and
sorted during generation. For more information, the documentation of <a href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.BeamScorer">BeamScorer</a> should be read.`,name:"beam_scorer"},{anchor:"transformers.generation_utils.GenerationMixin.group_beam_search.logits_processor",description:`<strong>logits_processor</strong> (<code>LogitsProcessorList</code>, <em>optional</em>) &#x2014;
An instance of <a href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.LogitsProcessorList">LogitsProcessorList</a>. List of instances of class derived from <a href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.LogitsProcessor">LogitsProcessor</a>
used to modify the prediction scores of the language modeling head applied at each generation step.`,name:"logits_processor"},{anchor:"transformers.generation_utils.GenerationMixin.group_beam_search.stopping_criteria",description:`<strong>stopping_criteria</strong> (<code>StoppingCriteriaList</code>, <em>optional</em>) &#x2014;
An instance of <a href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.StoppingCriteriaList">StoppingCriteriaList</a>. List of instances of class derived from <a href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.StoppingCriteria">StoppingCriteria</a>
used to tell if the generation loop should stop.`,name:"stopping_criteria"},{anchor:"transformers.generation_utils.GenerationMixin.group_beam_search.max_length",description:`<strong>max_length</strong> (<code>int</code>, <em>optional</em>, defaults to 20) &#x2014;
<strong>DEPRECATED</strong>. Use <code>logits_processor</code> or <code>stopping_criteria</code> directly to cap the number of generated
tokens. The maximum length of the sequence to be generated.`,name:"max_length"},{anchor:"transformers.generation_utils.GenerationMixin.group_beam_search.pad_token_id",description:`<strong>pad_token_id</strong> (<code>int</code>, <em>optional</em>) &#x2014;
The id of the <em>padding</em> token.`,name:"pad_token_id"},{anchor:"transformers.generation_utils.GenerationMixin.group_beam_search.eos_token_id",description:`<strong>eos_token_id</strong> (<code>int</code>, <em>optional</em>) &#x2014;
The id of the <em>end-of-sequence</em> token.`,name:"eos_token_id"},{anchor:"transformers.generation_utils.GenerationMixin.group_beam_search.output_attentions",description:`<strong>output_attentions</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to return the attentions tensors of all attention layers. See <code>attentions</code> under
returned tensors for more details.`,name:"output_attentions"},{anchor:"transformers.generation_utils.GenerationMixin.group_beam_search.output_hidden_states",description:`<strong>output_hidden_states</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to return the hidden states of all layers. See <code>hidden_states</code> under returned tensors
for more details.`,name:"output_hidden_states"},{anchor:"transformers.generation_utils.GenerationMixin.group_beam_search.output_scores",description:`<strong>output_scores</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to return the prediction scores. See <code>scores</code> under returned tensors for more details.`,name:"output_scores"},{anchor:"transformers.generation_utils.GenerationMixin.group_beam_search.return_dict_in_generate",description:`<strong>return_dict_in_generate</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to return a <a href="/docs/transformers/pr_15984/en/main_classes/output#transformers.file_utils.ModelOutput">ModelOutput</a> instead of a plain tuple.`,name:"return_dict_in_generate"},{anchor:"transformers.generation_utils.GenerationMixin.group_beam_search.synced_gpus",description:`<strong>synced_gpus</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether to continue running the while loop until max_length (needed for ZeRO stage 3)</p>
<p>model_kwargs &#x2014;
Additional model specific kwargs that will be forwarded to the <code>forward</code> function of the model. If
model is an encoder-decoder model the kwargs should include <code>encoder_outputs</code>.`,name:"synced_gpus"}],returnDescription:`
<p><a
  href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.generation_utils.BeamSearchDecoderOnlyOutput"
>BeamSearchDecoderOnlyOutput</a>, <a
  href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.generation_utils.BeamSearchEncoderDecoderOutput"
>BeamSearchEncoderDecoderOutput</a> or
A <code>torch.LongTensor</code> containing the generated tokens (default behaviour) or a
<a
  href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.generation_utils.BeamSearchDecoderOnlyOutput"
>BeamSearchDecoderOnlyOutput</a> if <a
  href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.generation_utils.BeamSearchDecoderOnlyOutput"
>BeamSearchDecoderOnlyOutput</a> if
<code>model.config.is_encoder_decoder=False</code> and <code>return_dict_in_generate=True</code> or a
<a
  href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.generation_utils.BeamSearchEncoderDecoderOutput"
>BeamSearchEncoderDecoderOutput</a> if <code>model.config.is_encoder_decoder=True</code>.</p>
`}}),Qs=new O({props:{code:`from transformers import (
    AutoTokenizer,
    AutoModelForSeq2SeqLM,
    LogitsProcessorList,
    MinLengthLogitsProcessor,
    HammingDiversityLogitsProcessor,
    BeamSearchScorer,
)
import torch

tokenizer = AutoTokenizer.from_pretrained("t5-base")
model = AutoModelForSeq2SeqLM.from_pretrained("t5-base")

encoder_input_str = "translate English to German: How old are you?"
encoder_input_ids = tokenizer(encoder_input_str, return_tensors="pt").input_ids


# lets run diverse beam search using 6 beams
num_beams = 6
# define decoder start token ids
input_ids = torch.ones((num_beams, 1), device=model.device, dtype=torch.long)
input_ids = input_ids * model.config.decoder_start_token_id

# add encoder_outputs to model keyword arguments
model_kwargs = {
    "encoder_outputs": model.get_encoder()(
        encoder_input_ids.repeat_interleave(num_beams, dim=0), return_dict=True
    )
}

# instantiate beam scorer
beam_scorer = BeamSearchScorer(
    batch_size=1,
    max_length=model.config.max_length,
    num_beams=num_beams,
    device=model.device,
    num_beam_groups=3,
)

# instantiate logits processors
logits_processor = LogitsProcessorList(
    [
        HammingDiversityLogitsProcessor(5.5, num_beams=6, num_beam_groups=3),
        MinLengthLogitsProcessor(5, eos_token_id=model.config.eos_token_id),
    ]
)

outputs = model.group_beam_search(
    input_ids, beam_scorer, logits_processor=logits_processor, **model_kwargs
)

print("Generated:", tokenizer.batch_decode(outputs, skip_special_tokens=True))`,highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> (
<span class="hljs-meta">... </span>    AutoTokenizer,
<span class="hljs-meta">... </span>    AutoModelForSeq2SeqLM,
<span class="hljs-meta">... </span>    LogitsProcessorList,
<span class="hljs-meta">... </span>    MinLengthLogitsProcessor,
<span class="hljs-meta">... </span>    HammingDiversityLogitsProcessor,
<span class="hljs-meta">... </span>    BeamSearchScorer,
<span class="hljs-meta">... </span>)
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> torch

<span class="hljs-meta">&gt;&gt;&gt; </span>tokenizer = AutoTokenizer.from_pretrained(<span class="hljs-string">&quot;t5-base&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>model = AutoModelForSeq2SeqLM.from_pretrained(<span class="hljs-string">&quot;t5-base&quot;</span>)

<span class="hljs-meta">&gt;&gt;&gt; </span>encoder_input_str = <span class="hljs-string">&quot;translate English to German: How old are you?&quot;</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>encoder_input_ids = tokenizer(encoder_input_str, return_tensors=<span class="hljs-string">&quot;pt&quot;</span>).input_ids


<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># lets run diverse beam search using 6 beams</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>num_beams = <span class="hljs-number">6</span>
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># define decoder start token ids</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>input_ids = torch.ones((num_beams, <span class="hljs-number">1</span>), device=model.device, dtype=torch.long)
<span class="hljs-meta">&gt;&gt;&gt; </span>input_ids = input_ids * model.config.decoder_start_token_id

<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># add encoder_outputs to model keyword arguments</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>model_kwargs = {
<span class="hljs-meta">... </span>    <span class="hljs-string">&quot;encoder_outputs&quot;</span>: model.get_encoder()(
<span class="hljs-meta">... </span>        encoder_input_ids.repeat_interleave(num_beams, dim=<span class="hljs-number">0</span>), return_dict=<span class="hljs-literal">True</span>
<span class="hljs-meta">... </span>    )
<span class="hljs-meta">... </span>}

<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># instantiate beam scorer</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>beam_scorer = BeamSearchScorer(
<span class="hljs-meta">... </span>    batch_size=<span class="hljs-number">1</span>,
<span class="hljs-meta">... </span>    max_length=model.config.max_length,
<span class="hljs-meta">... </span>    num_beams=num_beams,
<span class="hljs-meta">... </span>    device=model.device,
<span class="hljs-meta">... </span>    num_beam_groups=<span class="hljs-number">3</span>,
<span class="hljs-meta">... </span>)

<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># instantiate logits processors</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>logits_processor = LogitsProcessorList(
<span class="hljs-meta">... </span>    [
<span class="hljs-meta">... </span>        HammingDiversityLogitsProcessor(<span class="hljs-number">5.5</span>, num_beams=<span class="hljs-number">6</span>, num_beam_groups=<span class="hljs-number">3</span>),
<span class="hljs-meta">... </span>        MinLengthLogitsProcessor(<span class="hljs-number">5</span>, eos_token_id=model.config.eos_token_id),
<span class="hljs-meta">... </span>    ]
<span class="hljs-meta">... </span>)

<span class="hljs-meta">&gt;&gt;&gt; </span>outputs = model.group_beam_search(
<span class="hljs-meta">... </span>    input_ids, beam_scorer, logits_processor=logits_processor, **model_kwargs
<span class="hljs-meta">... </span>)

<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Generated:&quot;</span>, tokenizer.batch_decode(outputs, skip_special_tokens=<span class="hljs-literal">True</span>))`}}),ea=new f({props:{name:"prepare_inputs_for_generation",anchor:"transformers.generation_utils.GenerationMixin.prepare_inputs_for_generation",parameters:[{name:"input_ids",val:": LongTensor"},{name:"**kwargs",val:""}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/generation_utils.py#L451"}}),na=new f({props:{name:"sample",anchor:"transformers.generation_utils.GenerationMixin.sample",parameters:[{name:"input_ids",val:": LongTensor"},{name:"logits_processor",val:": typing.Optional[transformers.generation_logits_process.LogitsProcessorList] = None"},{name:"stopping_criteria",val:": typing.Optional[transformers.generation_stopping_criteria.StoppingCriteriaList] = None"},{name:"logits_warper",val:": typing.Optional[transformers.generation_logits_process.LogitsProcessorList] = None"},{name:"max_length",val:": typing.Optional[int] = None"},{name:"pad_token_id",val:": typing.Optional[int] = None"},{name:"eos_token_id",val:": typing.Optional[int] = None"},{name:"output_attentions",val:": typing.Optional[bool] = None"},{name:"output_hidden_states",val:": typing.Optional[bool] = None"},{name:"output_scores",val:": typing.Optional[bool] = None"},{name:"return_dict_in_generate",val:": typing.Optional[bool] = None"},{name:"synced_gpus",val:": typing.Optional[bool] = False"},{name:"**model_kwargs",val:""}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/generation_utils.py#L1669",parametersDescription:[{anchor:"transformers.generation_utils.GenerationMixin.sample.input_ids",description:`<strong>input_ids</strong> (<code>torch.LongTensor</code> of shape <code>(batch_size, sequence_length)</code>) &#x2014;
The sequence used as a prompt for the generation.`,name:"input_ids"},{anchor:"transformers.generation_utils.GenerationMixin.sample.logits_processor",description:`<strong>logits_processor</strong> (<code>LogitsProcessorList</code>, <em>optional</em>) &#x2014;
An instance of <a href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.LogitsProcessorList">LogitsProcessorList</a>. List of instances of class derived from <a href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.LogitsProcessor">LogitsProcessor</a>
used to modify the prediction scores of the language modeling head applied at each generation step.`,name:"logits_processor"},{anchor:"transformers.generation_utils.GenerationMixin.sample.stopping_criteria",description:`<strong>stopping_criteria</strong> (<code>StoppingCriteriaList</code>, <em>optional</em>) &#x2014;
An instance of <a href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.StoppingCriteriaList">StoppingCriteriaList</a>. List of instances of class derived from <a href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.StoppingCriteria">StoppingCriteria</a>
used to tell if the generation loop should stop.`,name:"stopping_criteria"},{anchor:"transformers.generation_utils.GenerationMixin.sample.logits_warper",description:`<strong>logits_warper</strong> (<code>LogitsProcessorList</code>, <em>optional</em>) &#x2014;
An instance of <a href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.LogitsProcessorList">LogitsProcessorList</a>. List of instances of class derived from <a href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.LogitsWarper">LogitsWarper</a> used
to warp the prediction score distribution of the language modeling head applied before multinomial
sampling at each generation step.`,name:"logits_warper"},{anchor:"transformers.generation_utils.GenerationMixin.sample.max_length",description:`<strong>max_length</strong> (<code>int</code>, <em>optional</em>, defaults to 20) &#x2014;
<strong>DEPRECATED</strong>. Use <code>logits_processor</code> or <code>stopping_criteria</code> directly to cap the number of generated
tokens. The maximum length of the sequence to be generated.`,name:"max_length"},{anchor:"transformers.generation_utils.GenerationMixin.sample.pad_token_id",description:`<strong>pad_token_id</strong> (<code>int</code>, <em>optional</em>) &#x2014;
The id of the <em>padding</em> token.`,name:"pad_token_id"},{anchor:"transformers.generation_utils.GenerationMixin.sample.eos_token_id",description:`<strong>eos_token_id</strong> (<code>int</code>, <em>optional</em>) &#x2014;
The id of the <em>end-of-sequence</em> token.`,name:"eos_token_id"},{anchor:"transformers.generation_utils.GenerationMixin.sample.output_attentions",description:`<strong>output_attentions</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to return the attentions tensors of all attention layers. See <code>attentions</code> under
returned tensors for more details.`,name:"output_attentions"},{anchor:"transformers.generation_utils.GenerationMixin.sample.output_hidden_states",description:`<strong>output_hidden_states</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to return the hidden states of all layers. See <code>hidden_states</code> under returned tensors
for more details.`,name:"output_hidden_states"},{anchor:"transformers.generation_utils.GenerationMixin.sample.output_scores",description:`<strong>output_scores</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to return the prediction scores. See <code>scores</code> under returned tensors for more details.`,name:"output_scores"},{anchor:"transformers.generation_utils.GenerationMixin.sample.return_dict_in_generate",description:`<strong>return_dict_in_generate</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to return a <a href="/docs/transformers/pr_15984/en/main_classes/output#transformers.file_utils.ModelOutput">ModelOutput</a> instead of a plain tuple.`,name:"return_dict_in_generate"},{anchor:"transformers.generation_utils.GenerationMixin.sample.synced_gpus",description:`<strong>synced_gpus</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether to continue running the while loop until max_length (needed for ZeRO stage 3)
model_kwargs &#x2014;
Additional model specific kwargs will be forwarded to the <code>forward</code> function of the model. If model is
an encoder-decoder model the kwargs should include <code>encoder_outputs</code>.`,name:"synced_gpus"}],returnDescription:`
<p><a
  href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.generation_utils.SampleDecoderOnlyOutput"
>SampleDecoderOnlyOutput</a>, <a
  href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.generation_utils.SampleEncoderDecoderOutput"
>SampleEncoderDecoderOutput</a> or
A <code>torch.LongTensor</code> containing the generated tokens (default behaviour) or a
<a
  href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.generation_utils.SampleDecoderOnlyOutput"
>SampleDecoderOnlyOutput</a> if <code>model.config.is_encoder_decoder=False</code> and
<code>return_dict_in_generate=True</code> or a <a
  href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.generation_utils.SampleEncoderDecoderOutput"
>SampleEncoderDecoderOutput</a> if
<code>model.config.is_encoder_decoder=True</code>.</p>
`}}),oa=new O({props:{code:`from transformers import (
    AutoTokenizer,
    AutoModelForCausalLM,
    LogitsProcessorList,
    MinLengthLogitsProcessor,
    TopKLogitsWarper,
    TemperatureLogitsWarper,
)

tokenizer = AutoTokenizer.from_pretrained("gpt2")
model = AutoModelForCausalLM.from_pretrained("gpt2")

# set pad_token_id to eos_token_id because GPT2 does not have a EOS token
model.config.pad_token_id = model.config.eos_token_id

input_prompt = "Today is a beautiful day, and"
input_ids = tokenizer(input_prompt, return_tensors="pt").input_ids

# instantiate logits processors
logits_processor = LogitsProcessorList(
    [
        MinLengthLogitsProcessor(15, eos_token_id=model.config.eos_token_id),
    ]
)
# instantiate logits processors
logits_warper = LogitsProcessorList(
    [
        TopKLogitsWarper(50),
        TemperatureLogitsWarper(0.7),
    ]
)

outputs = model.sample(input_ids, logits_processor=logits_processor, logits_warper=logits_warper)

print("Generated:", tokenizer.batch_decode(outputs, skip_special_tokens=True))`,highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> (
<span class="hljs-meta">... </span>    AutoTokenizer,
<span class="hljs-meta">... </span>    AutoModelForCausalLM,
<span class="hljs-meta">... </span>    LogitsProcessorList,
<span class="hljs-meta">... </span>    MinLengthLogitsProcessor,
<span class="hljs-meta">... </span>    TopKLogitsWarper,
<span class="hljs-meta">... </span>    TemperatureLogitsWarper,
<span class="hljs-meta">... </span>)

<span class="hljs-meta">&gt;&gt;&gt; </span>tokenizer = AutoTokenizer.from_pretrained(<span class="hljs-string">&quot;gpt2&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>model = AutoModelForCausalLM.from_pretrained(<span class="hljs-string">&quot;gpt2&quot;</span>)

<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># set pad_token_id to eos_token_id because GPT2 does not have a EOS token</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>model.config.pad_token_id = model.config.eos_token_id

<span class="hljs-meta">&gt;&gt;&gt; </span>input_prompt = <span class="hljs-string">&quot;Today is a beautiful day, and&quot;</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>input_ids = tokenizer(input_prompt, return_tensors=<span class="hljs-string">&quot;pt&quot;</span>).input_ids

<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># instantiate logits processors</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>logits_processor = LogitsProcessorList(
<span class="hljs-meta">... </span>    [
<span class="hljs-meta">... </span>        MinLengthLogitsProcessor(<span class="hljs-number">15</span>, eos_token_id=model.config.eos_token_id),
<span class="hljs-meta">... </span>    ]
<span class="hljs-meta">... </span>)
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># instantiate logits processors</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>logits_warper = LogitsProcessorList(
<span class="hljs-meta">... </span>    [
<span class="hljs-meta">... </span>        TopKLogitsWarper(<span class="hljs-number">50</span>),
<span class="hljs-meta">... </span>        TemperatureLogitsWarper(<span class="hljs-number">0.7</span>),
<span class="hljs-meta">... </span>    ]
<span class="hljs-meta">... </span>)

<span class="hljs-meta">&gt;&gt;&gt; </span>outputs = model.sample(input_ids, logits_processor=logits_processor, logits_warper=logits_warper)

<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Generated:&quot;</span>, tokenizer.batch_decode(outputs, skip_special_tokens=<span class="hljs-literal">True</span>))`}}),sa=new f({props:{name:"class transformers.generation_tf_utils.TFGenerationMixin",anchor:"transformers.generation_tf_utils.TFGenerationMixin",parameters:[],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/generation_tf_utils.py#L342"}}),ra=new f({props:{name:"adjust_logits_during_generation",anchor:"transformers.generation_tf_utils.TFGenerationMixin.adjust_logits_during_generation",parameters:[{name:"logits",val:""},{name:"cur_len",val:""},{name:"max_length",val:""},{name:"forced_bos_token_id",val:""},{name:"forced_eos_token_id",val:""},{name:"**kwargs",val:""}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/generation_tf_utils.py#L1245"}}),la=new f({props:{name:"generate",anchor:"transformers.generation_tf_utils.TFGenerationMixin.generate",parameters:[{name:"input_ids",val:" = None"},{name:"max_length",val:" = None"},{name:"min_length",val:" = None"},{name:"do_sample",val:" = None"},{name:"early_stopping",val:" = None"},{name:"num_beams",val:" = None"},{name:"temperature",val:" = None"},{name:"top_k",val:" = None"},{name:"top_p",val:" = None"},{name:"repetition_penalty",val:" = None"},{name:"bad_words_ids",val:" = None"},{name:"bos_token_id",val:" = None"},{name:"pad_token_id",val:" = None"},{name:"eos_token_id",val:" = None"},{name:"length_penalty",val:" = None"},{name:"no_repeat_ngram_size",val:" = None"},{name:"num_return_sequences",val:" = None"},{name:"attention_mask",val:" = None"},{name:"decoder_start_token_id",val:" = None"},{name:"use_cache",val:" = None"},{name:"output_scores",val:" = None"},{name:"output_attentions",val:" = None"},{name:"output_hidden_states",val:" = None"},{name:"return_dict_in_generate",val:" = None"},{name:"forced_bos_token_id",val:" = None"},{name:"forced_eos_token_id",val:" = None"},{name:"**model_kwargs",val:""}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/generation_tf_utils.py#L362",parametersDescription:[{anchor:"transformers.generation_tf_utils.TFGenerationMixin.generate.input_ids",description:"<strong>input_ids</strong> (<code>tf.Tensor</code> of shape <code>(batch_size, sequence_length)</code>, `(batch_size, sequence_length, &#x2014;",name:"input_ids"},{anchor:"transformers.generation_tf_utils.TFGenerationMixin.generate.feature_dim)`",description:`<strong>feature_dim)\`</strong> or <code>(batch_size, num_channels, height, width)</code>, <em>optional</em>) &#x2014;
The sequence used as a prompt for the generation or as model inputs to the encoder. If <code>None</code> the
method initializes it with <code>bos_token_id</code> and a batch size of 1. For decoder-only models <code>inputs</code>
should of in the format of <code>input_ids</code>. For encoder-decoder models <em>inputs</em> can represent any of
<code>input_ids</code>, <code>input_values</code>, <code>input_features</code>, or <code>pixel_values</code>.`,name:"feature_dim)`"},{anchor:"transformers.generation_tf_utils.TFGenerationMixin.generate.max_length",description:`<strong>max_length</strong> (<code>int</code>, <em>optional</em>, defaults to 20) &#x2014;
The maximum length of the sequence to be generated.`,name:"max_length"},{anchor:"transformers.generation_tf_utils.TFGenerationMixin.generate.min_length",description:`<strong>min_length</strong> (<code>int</code>, <em>optional</em>, defaults to 10) &#x2014;
The minimum length of the sequence to be generated.`,name:"min_length"},{anchor:"transformers.generation_tf_utils.TFGenerationMixin.generate.do_sample",description:`<strong>do_sample</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to use sampling ; use greedy decoding otherwise.`,name:"do_sample"},{anchor:"transformers.generation_tf_utils.TFGenerationMixin.generate.early_stopping",description:`<strong>early_stopping</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether to stop the beam search when at least <code>num_beams</code> sentences are finished per batch or not.`,name:"early_stopping"},{anchor:"transformers.generation_tf_utils.TFGenerationMixin.generate.num_beams",description:`<strong>num_beams</strong> (<code>int</code>, <em>optional</em>, defaults to 1) &#x2014;
Number of beams for beam search. 1 means no beam search.`,name:"num_beams"},{anchor:"transformers.generation_tf_utils.TFGenerationMixin.generate.temperature",description:`<strong>temperature</strong> (<code>float</code>, <em>optional</em>, defaults to 1.0) &#x2014;
The value used to module the next token probabilities.`,name:"temperature"},{anchor:"transformers.generation_tf_utils.TFGenerationMixin.generate.top_k",description:`<strong>top_k</strong> (<code>int</code>, <em>optional</em>, defaults to 50) &#x2014;
The number of highest probability vocabulary tokens to keep for top-k-filtering.`,name:"top_k"},{anchor:"transformers.generation_tf_utils.TFGenerationMixin.generate.top_p",description:`<strong>top_p</strong> (<code>float</code>, <em>optional</em>, defaults to 1.0) &#x2014;
If set to float &lt; 1, only the most probable tokens with probabilities that add up to <code>top_p</code> or higher
are kept for generation.`,name:"top_p"},{anchor:"transformers.generation_tf_utils.TFGenerationMixin.generate.repetition_penalty",description:`<strong>repetition_penalty</strong> (<code>float</code>, <em>optional</em>, defaults to 1.0) &#x2014;
The parameter for repetition penalty. 1.0 means no penalty. See <a href="https://arxiv.org/pdf/1909.05858.pdf" rel="nofollow">this
paper</a> for more details.`,name:"repetition_penalty"},{anchor:"transformers.generation_tf_utils.TFGenerationMixin.generate.pad_token_id",description:`<strong>pad_token_id</strong> (<code>int</code>, <em>optional</em>) &#x2014;
The id of the <em>padding</em> token.`,name:"pad_token_id"},{anchor:"transformers.generation_tf_utils.TFGenerationMixin.generate.bos_token_id",description:`<strong>bos_token_id</strong> (<code>int</code>, <em>optional</em>) &#x2014;
The id of the <em>beginning-of-sequence</em> token.`,name:"bos_token_id"},{anchor:"transformers.generation_tf_utils.TFGenerationMixin.generate.eos_token_id",description:`<strong>eos_token_id</strong> (<code>int</code>, <em>optional</em>) &#x2014;
The id of the <em>end-of-sequence</em> token.`,name:"eos_token_id"},{anchor:"transformers.generation_tf_utils.TFGenerationMixin.generate.length_penalty",description:`<strong>length_penalty</strong> (<code>float</code>, <em>optional</em>, defaults to 1.0) &#x2014;
Exponential penalty to the length. 1.0 means no penalty.</p>
<p>Set to values &lt; 1.0 in order to encourage the model to generate shorter sequences, to a value &gt; 1.0 in
order to encourage the model to produce longer sequences.`,name:"length_penalty"},{anchor:"transformers.generation_tf_utils.TFGenerationMixin.generate.no_repeat_ngram_size",description:`<strong>no_repeat_ngram_size</strong> (<code>int</code>, <em>optional</em>, defaults to 0) &#x2014;
If set to int &gt; 0, all ngrams of that size can only occur once.`,name:"no_repeat_ngram_size"},{anchor:"transformers.generation_tf_utils.TFGenerationMixin.generate.bad_words_ids(List[int],",description:`<strong>bad_words_ids(<code>List[int]</code>,</strong> <em>optional</em>) &#x2014;
List of token ids that are not allowed to be generated. In order to get the tokens of the words that
should not appear in the generated text, use <code>tokenizer.encode(bad_word, add_prefix_space=True)</code>.`,name:"bad_words_ids(List[int],"},{anchor:"transformers.generation_tf_utils.TFGenerationMixin.generate.num_return_sequences(int,",description:`<strong>num_return_sequences(<code>int</code>,</strong> <em>optional</em>, defaults to 1) &#x2014;
The number of independently computed returned sequences for each element in the batch.`,name:"num_return_sequences(int,"},{anchor:"transformers.generation_tf_utils.TFGenerationMixin.generate.attention_mask",description:`<strong>attention_mask</strong> (<code>tf.Tensor</code> of <code>dtype=tf.int32</code> and shape <code>(batch_size, sequence_length)</code>, <em>optional</em>) &#x2014;
Mask to avoid performing attention on padding token indices. Mask values are in <code>[0, 1]</code>, 1 for tokens
that are not masked, and 0 for masked tokens.</p>
<p>If not provided, will default to a tensor the same shape as <code>input_ids</code> that masks the pad token.</p>
<p><a href="../glossary#attention-mask">What are attention masks?</a>`,name:"attention_mask"},{anchor:"transformers.generation_tf_utils.TFGenerationMixin.generate.decoder_start_token_id",description:`<strong>decoder_start_token_id</strong> (<code>int</code>, <em>optional</em>) &#x2014;
If an encoder-decoder model starts decoding with a different token than <em>bos</em>, the id of that token.
use_cache &#x2014; (<code>bool</code>, <em>optional</em>, defaults to <code>True</code>):
Whether or not the model should use the past last key/values attentions (if applicable to the model) to
speed up decoding.`,name:"decoder_start_token_id"},{anchor:"transformers.generation_tf_utils.TFGenerationMixin.generate.output_attentions",description:`<strong>output_attentions</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to return the attentions tensors of all attention layers. See <code>attentions</code> under
returned tensors for more details.`,name:"output_attentions"},{anchor:"transformers.generation_tf_utils.TFGenerationMixin.generate.output_hidden_states",description:`<strong>output_hidden_states</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to return the hidden states of all layers. See <code>hidden_states</code> under returned tensors
for more details.`,name:"output_hidden_states"},{anchor:"transformers.generation_tf_utils.TFGenerationMixin.generate.output_scores",description:`<strong>output_scores</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to return the prediction scores. See <code>scores</code> under returned tensors for more details.`,name:"output_scores"},{anchor:"transformers.generation_tf_utils.TFGenerationMixin.generate.return_dict_in_generate",description:`<strong>return_dict_in_generate</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to return a <a href="/docs/transformers/pr_15984/en/main_classes/output#transformers.file_utils.ModelOutput">ModelOutput</a> instead of a plain tuple.`,name:"return_dict_in_generate"},{anchor:"transformers.generation_tf_utils.TFGenerationMixin.generate.forced_bos_token_id",description:`<strong>forced_bos_token_id</strong> (<code>int</code>, <em>optional</em>) &#x2014;
The id of the token to force as the first generated token after the <code>decoder_start_token_id</code>. Useful
for multilingual models like <a href="../model_doc/mbart">mBART</a> where the first generated token needs to be
the target language token.`,name:"forced_bos_token_id"},{anchor:"transformers.generation_tf_utils.TFGenerationMixin.generate.forced_eos_token_id",description:`<strong>forced_eos_token_id</strong> (<code>int</code>, <em>optional</em>) &#x2014;
The id of the token to force as the last generated token when <code>max_length</code> is reached.
model_specific_kwargs &#x2014;
Additional model specific kwargs will be forwarded to the <code>forward</code> function of the model.`,name:"forced_eos_token_id"}]}}),ua=new O({props:{code:`tokenizer = AutoTokenizer.from_pretrained("distilgpt2")  # Initialize tokenizer
model = TFAutoModelWithLMHead.from_pretrained(
    "distilgpt2"
)  # Download model and configuration from huggingface.co and cache.
outputs = model.generate(max_length=40)  # do greedy decoding
print(f"Generated: {tokenizer.decode(outputs[0], skip_special_tokens=True)}")

tokenizer = AutoTokenizer.from_pretrained("openai-gpt")  # Initialize tokenizer
model = TFAutoModelWithLMHead.from_pretrained(
    "openai-gpt"
)  # Download model and configuration from huggingface.co and cache.
input_context = "The dog"
input_ids = tokenizer.encode(input_context, return_tensors="tf")  # encode input context
outputs = model.generate(
    input_ids=input_ids, num_beams=5, num_return_sequences=3, temperature=1.5
)  # generate 3 independent sequences using beam search decoding (5 beams) with sampling from initial context 'The dog'
for i in range(3):  #  3 output sequences were generated
    print(f"Generated {i}: {tokenizer.decode(outputs[i], skip_special_tokens=True)}")

tokenizer = AutoTokenizer.from_pretrained("distilgpt2")  # Initialize tokenizer
model = TFAutoModelWithLMHead.from_pretrained(
    "distilgpt2"
)  # Download model and configuration from huggingface.co and cache.
input_context = "The dog"
input_ids = tokenizer.encode(input_context, return_tensors="tf")  # encode input context
outputs = model.generate(
    input_ids=input_ids, max_length=40, temperature=0.7, num_return_sequences=3, do_sample=True
)  # generate 3 candidates using sampling
for i in range(3):  #  3 output sequences were generated
    print(f"Generated {i}: {tokenizer.decode(outputs[i], skip_special_tokens=True)}")

tokenizer = AutoTokenizer.from_pretrained("ctrl")  # Initialize tokenizer
model = TFAutoModelWithLMHead.from_pretrained(
    "ctrl"
)  # Download model and configuration from huggingface.co and cache.
input_context = "Legal My neighbor is"  # "Legal" is one of the control codes for ctrl
input_ids = tokenizer.encode(input_context, return_tensors="tf")  # encode input context
outputs = model.generate(
    input_ids=input_ids, max_length=50, temperature=0.7, repetition_penalty=1.2
)  # generate sequences
print(f"Generated: {tokenizer.decode(outputs[0], skip_special_tokens=True)}")

tokenizer = AutoTokenizer.from_pretrained("gpt2")  # Initialize tokenizer
model = TFAutoModelWithLMHead.from_pretrained(
    "gpt2"
)  # Download model and configuration from huggingface.co and cache.
input_context = "My cute dog"
bad_words_ids = [
    tokenizer.encode(bad_word, add_prefix_space=True) for bad_word in ["idiot", "stupid", "shut up"]
]
input_ids = tokenizer.encode(input_context, return_tensors="tf")  # encode input context
outputs = model.generate(
    input_ids=input_ids, max_length=100, do_sample=True, bad_words_ids=bad_words_ids
)  # generate sequences without allowing bad_words to be generated`,highlighted:`tokenizer = AutoTokenizer.from_pretrained(<span class="hljs-string">&quot;distilgpt2&quot;</span>)  <span class="hljs-comment"># Initialize tokenizer</span>
model = TFAutoModelWithLMHead.from_pretrained(
    <span class="hljs-string">&quot;distilgpt2&quot;</span>
)  <span class="hljs-comment"># Download model and configuration from huggingface.co and cache.</span>
outputs = model.generate(max_length=<span class="hljs-number">40</span>)  <span class="hljs-comment"># do greedy decoding</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Generated: <span class="hljs-subst">{tokenizer.decode(outputs[<span class="hljs-number">0</span>], skip_special_tokens=<span class="hljs-literal">True</span>)}</span>&quot;</span>)

tokenizer = AutoTokenizer.from_pretrained(<span class="hljs-string">&quot;openai-gpt&quot;</span>)  <span class="hljs-comment"># Initialize tokenizer</span>
model = TFAutoModelWithLMHead.from_pretrained(
    <span class="hljs-string">&quot;openai-gpt&quot;</span>
)  <span class="hljs-comment"># Download model and configuration from huggingface.co and cache.</span>
input_context = <span class="hljs-string">&quot;The dog&quot;</span>
input_ids = tokenizer.encode(input_context, return_tensors=<span class="hljs-string">&quot;tf&quot;</span>)  <span class="hljs-comment"># encode input context</span>
outputs = model.generate(
    input_ids=input_ids, num_beams=<span class="hljs-number">5</span>, num_return_sequences=<span class="hljs-number">3</span>, temperature=<span class="hljs-number">1.5</span>
)  <span class="hljs-comment"># generate 3 independent sequences using beam search decoding (5 beams) with sampling from initial context &#x27;The dog&#x27;</span>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">3</span>):  <span class="hljs-comment">#  3 output sequences were generated</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Generated <span class="hljs-subst">{i}</span>: <span class="hljs-subst">{tokenizer.decode(outputs[i], skip_special_tokens=<span class="hljs-literal">True</span>)}</span>&quot;</span>)

tokenizer = AutoTokenizer.from_pretrained(<span class="hljs-string">&quot;distilgpt2&quot;</span>)  <span class="hljs-comment"># Initialize tokenizer</span>
model = TFAutoModelWithLMHead.from_pretrained(
    <span class="hljs-string">&quot;distilgpt2&quot;</span>
)  <span class="hljs-comment"># Download model and configuration from huggingface.co and cache.</span>
input_context = <span class="hljs-string">&quot;The dog&quot;</span>
input_ids = tokenizer.encode(input_context, return_tensors=<span class="hljs-string">&quot;tf&quot;</span>)  <span class="hljs-comment"># encode input context</span>
outputs = model.generate(
    input_ids=input_ids, max_length=<span class="hljs-number">40</span>, temperature=<span class="hljs-number">0.7</span>, num_return_sequences=<span class="hljs-number">3</span>, do_sample=<span class="hljs-literal">True</span>
)  <span class="hljs-comment"># generate 3 candidates using sampling</span>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">3</span>):  <span class="hljs-comment">#  3 output sequences were generated</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Generated <span class="hljs-subst">{i}</span>: <span class="hljs-subst">{tokenizer.decode(outputs[i], skip_special_tokens=<span class="hljs-literal">True</span>)}</span>&quot;</span>)

tokenizer = AutoTokenizer.from_pretrained(<span class="hljs-string">&quot;ctrl&quot;</span>)  <span class="hljs-comment"># Initialize tokenizer</span>
model = TFAutoModelWithLMHead.from_pretrained(
    <span class="hljs-string">&quot;ctrl&quot;</span>
)  <span class="hljs-comment"># Download model and configuration from huggingface.co and cache.</span>
input_context = <span class="hljs-string">&quot;Legal My neighbor is&quot;</span>  <span class="hljs-comment"># &quot;Legal&quot; is one of the control codes for ctrl</span>
input_ids = tokenizer.encode(input_context, return_tensors=<span class="hljs-string">&quot;tf&quot;</span>)  <span class="hljs-comment"># encode input context</span>
outputs = model.generate(
    input_ids=input_ids, max_length=<span class="hljs-number">50</span>, temperature=<span class="hljs-number">0.7</span>, repetition_penalty=<span class="hljs-number">1.2</span>
)  <span class="hljs-comment"># generate sequences</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Generated: <span class="hljs-subst">{tokenizer.decode(outputs[<span class="hljs-number">0</span>], skip_special_tokens=<span class="hljs-literal">True</span>)}</span>&quot;</span>)

tokenizer = AutoTokenizer.from_pretrained(<span class="hljs-string">&quot;gpt2&quot;</span>)  <span class="hljs-comment"># Initialize tokenizer</span>
model = TFAutoModelWithLMHead.from_pretrained(
    <span class="hljs-string">&quot;gpt2&quot;</span>
)  <span class="hljs-comment"># Download model and configuration from huggingface.co and cache.</span>
input_context = <span class="hljs-string">&quot;My cute dog&quot;</span>
bad_words_ids = [
    tokenizer.encode(bad_word, add_prefix_space=<span class="hljs-literal">True</span>) <span class="hljs-keyword">for</span> bad_word <span class="hljs-keyword">in</span> [<span class="hljs-string">&quot;idiot&quot;</span>, <span class="hljs-string">&quot;stupid&quot;</span>, <span class="hljs-string">&quot;shut up&quot;</span>]
]
input_ids = tokenizer.encode(input_context, return_tensors=<span class="hljs-string">&quot;tf&quot;</span>)  <span class="hljs-comment"># encode input context</span>
outputs = model.generate(
    input_ids=input_ids, max_length=<span class="hljs-number">100</span>, do_sample=<span class="hljs-literal">True</span>, bad_words_ids=bad_words_ids
)  <span class="hljs-comment"># generate sequences without allowing bad_words to be generated</span>`}}),ga=new f({props:{name:"greedy_search",anchor:"transformers.generation_tf_utils.TFGenerationMixin.greedy_search",parameters:[{name:"input_ids",val:": Tensor"},{name:"max_length",val:": typing.Optional[int] = None"},{name:"pad_token_id",val:": typing.Optional[int] = None"},{name:"eos_token_id",val:": typing.Optional[int] = None"},{name:"logits_processor",val:": typing.Optional[transformers.generation_tf_logits_process.TFLogitsProcessorList] = None"},{name:"output_attentions",val:": typing.Optional[bool] = None"},{name:"output_hidden_states",val:": typing.Optional[bool] = None"},{name:"output_scores",val:": typing.Optional[bool] = None"},{name:"return_dict_in_generate",val:": typing.Optional[bool] = None"},{name:"**model_kwargs",val:""}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/generation_tf_utils.py#L1781",parametersDescription:[{anchor:"transformers.generation_tf_utils.TFGenerationMixin.greedy_search.input_ids",description:`<strong>input_ids</strong> (<code>tf.Tensor</code> of shape <code>(batch_size, sequence_length)</code>) &#x2014;
The sequence used as a prompt for the generation.`,name:"input_ids"},{anchor:"transformers.generation_tf_utils.TFGenerationMixin.greedy_search.logits_processor",description:`<strong>logits_processor</strong> (<code>TFLogitsProcessorList</code>, <em>optional</em>) &#x2014;
An instance of <a href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.TFLogitsProcessorList">TFLogitsProcessorList</a>. List of instances of class derived from <a href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.TFLogitsProcessor">TFLogitsProcessor</a>
used to modify the prediction scores of the language modeling head applied at each generation step.`,name:"logits_processor"},{anchor:"transformers.generation_tf_utils.TFGenerationMixin.greedy_search.max_length",description:`<strong>max_length</strong> (<code>int</code>, <em>optional</em>, defaults to 20) &#x2014;
The maximum length of the sequence to be generated.`,name:"max_length"},{anchor:"transformers.generation_tf_utils.TFGenerationMixin.greedy_search.pad_token_id",description:`<strong>pad_token_id</strong> (<code>int</code>, <em>optional</em>) &#x2014;
The id of the <em>padding</em> token.`,name:"pad_token_id"},{anchor:"transformers.generation_tf_utils.TFGenerationMixin.greedy_search.eos_token_id",description:`<strong>eos_token_id</strong> (<code>int</code>, <em>optional</em>) &#x2014;
The id of the <em>end-of-sequence</em> token.`,name:"eos_token_id"},{anchor:"transformers.generation_tf_utils.TFGenerationMixin.greedy_search.output_attentions",description:`<strong>output_attentions</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to return the attentions tensors of all attention layers. See <code>attentions</code> under
returned tensors for more details.`,name:"output_attentions"},{anchor:"transformers.generation_tf_utils.TFGenerationMixin.greedy_search.output_hidden_states",description:`<strong>output_hidden_states</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to return the hidden states of all layers. See <code>hidden_states</code> under returned tensors
for more details.`,name:"output_hidden_states"},{anchor:"transformers.generation_tf_utils.TFGenerationMixin.greedy_search.output_scores",description:`<strong>output_scores</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to return the prediction scores. See <code>scores</code> under returned tensors for more details.`,name:"output_scores"},{anchor:"transformers.generation_tf_utils.TFGenerationMixin.greedy_search.return_dict_in_generate",description:`<strong>return_dict_in_generate</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to return a <a href="/docs/transformers/pr_15984/en/main_classes/output#transformers.file_utils.ModelOutput">ModelOutput</a> instead of a plain tuple.
model_kwargs &#x2014;
Additional model specific keyword arguments will be forwarded to the <code>call</code> function of the model. If
model is an encoder-decoder model the kwargs should include <code>encoder_outputs</code>.`,name:"return_dict_in_generate"}],returnDescription:`
<p><code>TFGreedySearchDecoderOnlyOutput</code>
A <code>tf.Tensor</code> containing the
generated tokens (default behaviour) or a <code>TFGreedySearchDecoderOnlyOutput</code>if
<code>model.config.is_encoder_decoder=False</code> and <code>return_dict_in_generate=True</code> or a
<code>TFGreedySearchEncoderDecoderOutput</code>if <code>model.config.is_encoder_decoder=True</code>.</p>
`}}),ha=new O({props:{code:`from transformers import (
    AutoTokenizer,
    TFAutoModelForCausalLM,
    TFLogitsProcessorList,
    TFMinLengthLogitsProcessor,
)

tokenizer = AutoTokenizer.from_pretrained("gpt2")
model = TFAutoModelForCausalLM.from_pretrained("gpt2")

# set pad_token_id to eos_token_id because GPT2 does not have a EOS token
model.config.pad_token_id = model.config.eos_token_id

input_prompt = "Today is a beautiful day, and"
input_ids = tokenizer(input_prompt, return_tensors="tf").input_ids

# instantiate logits processors
logits_processor = TFLogitsProcessorList(
    [
        TFMinLengthLogitsProcessor(15, eos_token_id=model.config.eos_token_id),
    ]
)

outputs = model.greedy_search(input_ids, logits_processor=logits_processor)

print("Generated:", tokenizer.batch_decode(outputs, skip_special_tokens=True))`,highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> (
<span class="hljs-meta">... </span>    AutoTokenizer,
<span class="hljs-meta">... </span>    TFAutoModelForCausalLM,
<span class="hljs-meta">... </span>    TFLogitsProcessorList,
<span class="hljs-meta">... </span>    TFMinLengthLogitsProcessor,
<span class="hljs-meta">... </span>)

<span class="hljs-meta">&gt;&gt;&gt; </span>tokenizer = AutoTokenizer.from_pretrained(<span class="hljs-string">&quot;gpt2&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>model = TFAutoModelForCausalLM.from_pretrained(<span class="hljs-string">&quot;gpt2&quot;</span>)

<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># set pad_token_id to eos_token_id because GPT2 does not have a EOS token</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>model.config.pad_token_id = model.config.eos_token_id

<span class="hljs-meta">&gt;&gt;&gt; </span>input_prompt = <span class="hljs-string">&quot;Today is a beautiful day, and&quot;</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>input_ids = tokenizer(input_prompt, return_tensors=<span class="hljs-string">&quot;tf&quot;</span>).input_ids

<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># instantiate logits processors</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>logits_processor = TFLogitsProcessorList(
<span class="hljs-meta">... </span>    [
<span class="hljs-meta">... </span>        TFMinLengthLogitsProcessor(<span class="hljs-number">15</span>, eos_token_id=model.config.eos_token_id),
<span class="hljs-meta">... </span>    ]
<span class="hljs-meta">... </span>)

<span class="hljs-meta">&gt;&gt;&gt; </span>outputs = model.greedy_search(input_ids, logits_processor=logits_processor)

<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Generated:&quot;</span>, tokenizer.batch_decode(outputs, skip_special_tokens=<span class="hljs-literal">True</span>))`}}),_a=new f({props:{name:"prepare_inputs_for_generation",anchor:"transformers.generation_tf_utils.TFGenerationMixin.prepare_inputs_for_generation",parameters:[{name:"inputs",val:""},{name:"**kwargs",val:""}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/generation_tf_utils.py#L347"}}),ba=new f({props:{name:"sample",anchor:"transformers.generation_tf_utils.TFGenerationMixin.sample",parameters:[{name:"input_ids",val:": Tensor"},{name:"logits_processor",val:": typing.Optional[transformers.generation_tf_logits_process.TFLogitsProcessorList] = None"},{name:"logits_warper",val:": typing.Optional[transformers.generation_tf_logits_process.TFLogitsProcessorList] = None"},{name:"max_length",val:": typing.Optional[int] = None"},{name:"pad_token_id",val:": typing.Optional[int] = None"},{name:"eos_token_id",val:": typing.Optional[int] = None"},{name:"output_attentions",val:": typing.Optional[bool] = None"},{name:"output_hidden_states",val:": typing.Optional[bool] = None"},{name:"output_scores",val:": typing.Optional[bool] = None"},{name:"return_dict_in_generate",val:": typing.Optional[bool] = None"},{name:"**model_kwargs",val:""}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/generation_tf_utils.py#L1979",parametersDescription:[{anchor:"transformers.generation_tf_utils.TFGenerationMixin.sample.input_ids",description:`<strong>input_ids</strong> (<code>tf.Tensor</code> of shape <code>(batch_size, sequence_length)</code>) &#x2014;
The sequence used as a prompt for the generation.`,name:"input_ids"},{anchor:"transformers.generation_tf_utils.TFGenerationMixin.sample.logits_processor",description:`<strong>logits_processor</strong> (<code>TFLogitsProcessorList</code>, <em>optional</em>) &#x2014;
An instance of <a href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.LogitsProcessorList">LogitsProcessorList</a>. List of instances of class derived from <a href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.TFLogitsProcessor">TFLogitsProcessor</a>
used to modify the prediction scores of the language modeling head applied at each generation step.`,name:"logits_processor"},{anchor:"transformers.generation_tf_utils.TFGenerationMixin.sample.logits_warper",description:`<strong>logits_warper</strong> (<code>TFLogitsProcessorList</code>, <em>optional</em>) &#x2014;
An instance of <a href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.TFLogitsProcessorList">TFLogitsProcessorList</a>. List of instances of class derived from <a href="/docs/transformers/pr_15984/en/internal/generation_utils#transformers.TFLogitsWarper">TFLogitsWarper</a>
used to warp the prediction score distribution of the language modeling head applied before multinomial
sampling at each generation step.`,name:"logits_warper"},{anchor:"transformers.generation_tf_utils.TFGenerationMixin.sample.max_length",description:`<strong>max_length</strong> (<code>int</code>, <em>optional</em>, defaults to 20) &#x2014;
The maximum length of the sequence to be generated.`,name:"max_length"},{anchor:"transformers.generation_tf_utils.TFGenerationMixin.sample.pad_token_id",description:`<strong>pad_token_id</strong> (<code>int</code>, <em>optional</em>) &#x2014;
The id of the <em>padding</em> token.`,name:"pad_token_id"},{anchor:"transformers.generation_tf_utils.TFGenerationMixin.sample.eos_token_id",description:`<strong>eos_token_id</strong> (<code>int</code>, <em>optional</em>) &#x2014;
The id of the <em>end-of-sequence</em> token.`,name:"eos_token_id"},{anchor:"transformers.generation_tf_utils.TFGenerationMixin.sample.output_attentions",description:`<strong>output_attentions</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to return the attentions tensors of all attention layers. See <code>attentions</code> under
returned tensors for more details.`,name:"output_attentions"},{anchor:"transformers.generation_tf_utils.TFGenerationMixin.sample.output_hidden_states",description:`<strong>output_hidden_states</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to return the hidden states of all layers. See <code>hidden_states</code> under returned tensors
for more details.`,name:"output_hidden_states"},{anchor:"transformers.generation_tf_utils.TFGenerationMixin.sample.output_scores",description:`<strong>output_scores</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to return the prediction scores. See <code>scores</code> under returned tensors for more details.`,name:"output_scores"},{anchor:"transformers.generation_tf_utils.TFGenerationMixin.sample.return_dict_in_generate",description:`<strong>return_dict_in_generate</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to return a <a href="/docs/transformers/pr_15984/en/main_classes/output#transformers.file_utils.ModelOutput">ModelOutput</a> instead of a plain tuple.
model_kwargs &#x2014;
Additional model specific kwargs will be forwarded to the <code>call</code> function of the model. If model is an
encoder-decoder model the kwargs should include <code>encoder_outputs</code>.`,name:"return_dict_in_generate"}],returnDescription:`
<p><code>TFSampleDecoderOnlyOutput</code> <code>TFSampleEncoderDecoderOutput</code>A <code>tf.Tensor</code> containing the generated tokens (default behaviour) or a
<code>TFSampleDecoderOnlyOutput</code>if <code>model.config.is_encoder_decoder=False</code> and
<code>return_dict_in_generate=True</code> or a <code>TFSampleEncoderDecoderOutput</code>if
<code>model.config.is_encoder_decoder=True</code>.</p>
`}}),va=new O({props:{code:`from transformers import (
    AutoTokenizer,
    TFAutoModelForCausalLM,
    TFLogitsProcessorList,
    TFMinLengthLogitsProcessor,
    TFTopKLogitsWarper,
    TFTemperatureLogitsWarper,
)

tokenizer = AutoTokenizer.from_pretrained("gpt2")
model = TFAutoModelForCausalLM.from_pretrained("gpt2")

# set pad_token_id to eos_token_id because GPT2 does not have a EOS token
model.config.pad_token_id = model.config.eos_token_id

input_prompt = "Today is a beautiful day, and"
input_ids = tokenizer(input_prompt, return_tensors="tf").input_ids

# instantiate logits processors
logits_processor = TFLogitsProcessorList(
    [
        TFMinLengthLogitsProcessor(15, eos_token_id=model.config.eos_token_id),
    ]
)
# instantiate logits processors
logits_warper = TFLogitsProcessorList(
    [
        TFTopKLogitsWarper(50),
        TFTemperatureLogitsWarper(0.7),
    ]
)

outputs = model.sample(input_ids, logits_processor=logits_processor, logits_warper=logits_warper)

print("Generated:", tokenizer.batch_decode(outputs, skip_special_tokens=True))`,highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> (
<span class="hljs-meta">... </span>    AutoTokenizer,
<span class="hljs-meta">... </span>    TFAutoModelForCausalLM,
<span class="hljs-meta">... </span>    TFLogitsProcessorList,
<span class="hljs-meta">... </span>    TFMinLengthLogitsProcessor,
<span class="hljs-meta">... </span>    TFTopKLogitsWarper,
<span class="hljs-meta">... </span>    TFTemperatureLogitsWarper,
<span class="hljs-meta">... </span>)

<span class="hljs-meta">&gt;&gt;&gt; </span>tokenizer = AutoTokenizer.from_pretrained(<span class="hljs-string">&quot;gpt2&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>model = TFAutoModelForCausalLM.from_pretrained(<span class="hljs-string">&quot;gpt2&quot;</span>)

<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># set pad_token_id to eos_token_id because GPT2 does not have a EOS token</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>model.config.pad_token_id = model.config.eos_token_id

<span class="hljs-meta">&gt;&gt;&gt; </span>input_prompt = <span class="hljs-string">&quot;Today is a beautiful day, and&quot;</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>input_ids = tokenizer(input_prompt, return_tensors=<span class="hljs-string">&quot;tf&quot;</span>).input_ids

<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># instantiate logits processors</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>logits_processor = TFLogitsProcessorList(
<span class="hljs-meta">... </span>    [
<span class="hljs-meta">... </span>        TFMinLengthLogitsProcessor(<span class="hljs-number">15</span>, eos_token_id=model.config.eos_token_id),
<span class="hljs-meta">... </span>    ]
<span class="hljs-meta">... </span>)
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># instantiate logits processors</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>logits_warper = TFLogitsProcessorList(
<span class="hljs-meta">... </span>    [
<span class="hljs-meta">... </span>        TFTopKLogitsWarper(<span class="hljs-number">50</span>),
<span class="hljs-meta">... </span>        TFTemperatureLogitsWarper(<span class="hljs-number">0.7</span>),
<span class="hljs-meta">... </span>    ]
<span class="hljs-meta">... </span>)

<span class="hljs-meta">&gt;&gt;&gt; </span>outputs = model.sample(input_ids, logits_processor=logits_processor, logits_warper=logits_warper)

<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Generated:&quot;</span>, tokenizer.batch_decode(outputs, skip_special_tokens=<span class="hljs-literal">True</span>))`}}),ya=new f({props:{name:"class transformers.generation_flax_utils.FlaxGenerationMixin",anchor:"transformers.generation_flax_utils.FlaxGenerationMixin",parameters:[],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/generation_flax_utils.py#L119"}}),xa=new f({props:{name:"generate",anchor:"transformers.generation_flax_utils.FlaxGenerationMixin.generate",parameters:[{name:"input_ids",val:": ndarray"},{name:"max_length",val:": typing.Optional[int] = None"},{name:"pad_token_id",val:": typing.Optional[int] = None"},{name:"bos_token_id",val:": typing.Optional[int] = None"},{name:"eos_token_id",val:": typing.Optional[int] = None"},{name:"decoder_start_token_id",val:": typing.Optional[int] = None"},{name:"do_sample",val:": typing.Optional[bool] = None"},{name:"prng_key",val:": typing.Optional[jax._src.numpy.lax_numpy.ndarray] = None"},{name:"top_k",val:": typing.Optional[int] = None"},{name:"top_p",val:": typing.Optional[float] = None"},{name:"temperature",val:": typing.Optional[float] = None"},{name:"num_beams",val:": typing.Optional[int] = None"},{name:"no_repeat_ngram_size",val:": typing.Optional[int] = None"},{name:"min_length",val:": typing.Optional[int] = None"},{name:"forced_bos_token_id",val:": typing.Optional[int] = None"},{name:"forced_eos_token_id",val:": typing.Optional[int] = None"},{name:"length_penalty",val:": typing.Optional[float] = None"},{name:"early_stopping",val:": typing.Optional[bool] = None"},{name:"trace",val:": bool = True"},{name:"params",val:": typing.Union[typing.Dict[str, jax._src.numpy.lax_numpy.ndarray], NoneType] = None"},{name:"**model_kwargs",val:""}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/generation_flax_utils.py#L154",parametersDescription:[{anchor:"transformers.generation_flax_utils.FlaxGenerationMixin.generate.input_ids",description:`<strong>input_ids</strong> (<code>jnp.ndarray</code> of shape <code>(batch_size, sequence_length)</code>) &#x2014;
The sequence used as a prompt for the generation.`,name:"input_ids"},{anchor:"transformers.generation_flax_utils.FlaxGenerationMixin.generate.max_length",description:`<strong>max_length</strong> (<code>int</code>, <em>optional</em>, defaults to 20) &#x2014;
The maximum length of the sequence to be generated.`,name:"max_length"},{anchor:"transformers.generation_flax_utils.FlaxGenerationMixin.generate.do_sample",description:`<strong>do_sample</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to use sampling ; use greedy decoding otherwise.`,name:"do_sample"},{anchor:"transformers.generation_flax_utils.FlaxGenerationMixin.generate.temperature",description:`<strong>temperature</strong> (<code>float</code>, <em>optional</em>, defaults to 1.0) &#x2014;
The value used to module the next token probabilities.`,name:"temperature"},{anchor:"transformers.generation_flax_utils.FlaxGenerationMixin.generate.top_k",description:`<strong>top_k</strong> (<code>int</code>, <em>optional</em>, defaults to 50) &#x2014;
The number of highest probability vocabulary tokens to keep for top-k-filtering.`,name:"top_k"},{anchor:"transformers.generation_flax_utils.FlaxGenerationMixin.generate.top_p",description:`<strong>top_p</strong> (<code>float</code>, <em>optional</em>, defaults to 1.0) &#x2014;
If set to float &lt; 1, only the most probable tokens with probabilities that add up to <code>top_p</code> or higher
are kept for generation.`,name:"top_p"},{anchor:"transformers.generation_flax_utils.FlaxGenerationMixin.generate.pad_token_id",description:`<strong>pad_token_id</strong> (<code>int</code>, <em>optional</em>) &#x2014;
The id of the <em>padding</em> token.`,name:"pad_token_id"},{anchor:"transformers.generation_flax_utils.FlaxGenerationMixin.generate.bos_token_id",description:`<strong>bos_token_id</strong> (<code>int</code>, <em>optional</em>) &#x2014;
The id of the <em>beginning-of-sequence</em> token.`,name:"bos_token_id"},{anchor:"transformers.generation_flax_utils.FlaxGenerationMixin.generate.eos_token_id",description:`<strong>eos_token_id</strong> (<code>int</code>, <em>optional</em>) &#x2014;
The id of the <em>end-of-sequence</em> token.`,name:"eos_token_id"},{anchor:"transformers.generation_flax_utils.FlaxGenerationMixin.generate.num_beams",description:`<strong>num_beams</strong> (<code>int</code>, <em>optional</em>, defaults to 1) &#x2014;
Number of beams for beam search. 1 means no beam search.`,name:"num_beams"},{anchor:"transformers.generation_flax_utils.FlaxGenerationMixin.generate.decoder_start_token_id",description:`<strong>decoder_start_token_id</strong> (<code>int</code>, <em>optional</em>) &#x2014;
If an encoder-decoder model starts decoding with a different token than <em>bos</em>, the id of that token.`,name:"decoder_start_token_id"},{anchor:"transformers.generation_flax_utils.FlaxGenerationMixin.generate.trace",description:`<strong>trace</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>True</code>) &#x2014;
Whether to trace generation. Setting <code>trace=False</code> should only be used for debugging and will lead to a
considerably slower runtime.`,name:"trace"},{anchor:"transformers.generation_flax_utils.FlaxGenerationMixin.generate.params",description:`<strong>params</strong> (<code>Dict[str, jnp.ndarray]</code>, <em>optional</em>) &#x2014;
Optionally the model parameters can be passed. Can be useful for parallelized generation.
model<em>kwargs &#x2014;
Additional model specific kwargs will be forwarded to the <code>forward</code> function of the model. If the model
is an encoder-decoder model, encoder specific kwargs should not be prefixed and decoder specific kwargs
should be prefixed with *decoder</em>*. Also accepts <code>encoder_outputs</code> to skip encoder part.`,name:"params"}],returnDescription:`
<p><a
  href="/docs/transformers/pr_15984/en/main_classes/output#transformers.file_utils.ModelOutput"
>ModelOutput</a>.</p>
`}}),ja=new O({props:{code:`from transformers import AutoTokenizer, FlaxAutoModelForCausalLM

tokenizer = AutoTokenizer.from_pretrained("distilgpt2")
model = FlaxAutoModelForCausalLM.from_pretrained("distilgpt2")
input_context = "The dog"
# encode input context
input_ids = tokenizer(input_context, return_tensors="np").input_ids
# generate candidates using sampling
outputs = model.generate(input_ids=input_ids, max_length=20, top_k=30, do_sample=True)
print("Generated:", tokenizer.batch_decode(outputs, skip_special_tokens=True))`,highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> AutoTokenizer, FlaxAutoModelForCausalLM

<span class="hljs-meta">&gt;&gt;&gt; </span>tokenizer = AutoTokenizer.from_pretrained(<span class="hljs-string">&quot;distilgpt2&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>model = FlaxAutoModelForCausalLM.from_pretrained(<span class="hljs-string">&quot;distilgpt2&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>input_context = <span class="hljs-string">&quot;The dog&quot;</span>
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># encode input context</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>input_ids = tokenizer(input_context, return_tensors=<span class="hljs-string">&quot;np&quot;</span>).input_ids
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># generate candidates using sampling</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>outputs = model.generate(input_ids=input_ids, max_length=<span class="hljs-number">20</span>, top_k=<span class="hljs-number">30</span>, do_sample=<span class="hljs-literal">True</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Generated:&quot;</span>, tokenizer.batch_decode(outputs, skip_special_tokens=<span class="hljs-literal">True</span>))`}}),$a=new xt({}),Ma=new f({props:{name:"class transformers.file_utils.PushToHubMixin",anchor:"transformers.file_utils.PushToHubMixin",parameters:[],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/file_utils.py#L2837"}}),Pa=new f({props:{name:"push_to_hub",anchor:"transformers.file_utils.PushToHubMixin.push_to_hub",parameters:[{name:"repo_path_or_name",val:": typing.Optional[str] = None"},{name:"repo_url",val:": typing.Optional[str] = None"},{name:"use_temp_dir",val:": bool = False"},{name:"commit_message",val:": typing.Optional[str] = None"},{name:"organization",val:": typing.Optional[str] = None"},{name:"private",val:": typing.Optional[bool] = None"},{name:"use_auth_token",val:": typing.Union[bool, str, NoneType] = None"},{name:"**model_card_kwargs",val:""}],source:"https://github.com/huggingface/transformers/blob/pr_15984/src/transformers/file_utils.py#L2842",parametersDescription:[{anchor:"transformers.file_utils.PushToHubMixin.push_to_hub.repo_path_or_name",description:`<strong>repo_path_or_name</strong> (<code>str</code>, <em>optional</em>) &#x2014;
Can either be a repository name for your {object} in the Hub or a path to a local folder (in which case
the repository will have the name of that local folder). If not specified, will default to the name
given by <code>repo_url</code> and a local directory with that name will be created.`,name:"repo_path_or_name"},{anchor:"transformers.file_utils.PushToHubMixin.push_to_hub.repo_url",description:`<strong>repo_url</strong> (<code>str</code>, <em>optional</em>) &#x2014;
Specify this in case you want to push to an existing repository in the hub. If unspecified, a new
repository will be created in your namespace (unless you specify an <code>organization</code>) with <code>repo_name</code>.`,name:"repo_url"},{anchor:"transformers.file_utils.PushToHubMixin.push_to_hub.use_temp_dir",description:`<strong>use_temp_dir</strong> (<code>bool</code>, <em>optional</em>, defaults to <code>False</code>) &#x2014;
Whether or not to clone the distant repo in a temporary directory or in <code>repo_path_or_name</code> inside the
current working directory. This will slow things down if you are making changes in an existing repo
since you will need to clone the repo before every push.`,name:"use_temp_dir"},{anchor:"transformers.file_utils.PushToHubMixin.push_to_hub.commit_message",description:`<strong>commit_message</strong> (<code>str</code>, <em>optional</em>) &#x2014;
Message to commit while pushing. Will default to <code>&quot;add {object}&quot;</code>.`,name:"commit_message"},{anchor:"transformers.file_utils.PushToHubMixin.push_to_hub.organization",description:`<strong>organization</strong> (<code>str</code>, <em>optional</em>) &#x2014;
Organization in which you want to push your {object} (you must be a member of this organization).`,name:"organization"},{anchor:"transformers.file_utils.PushToHubMixin.push_to_hub.private",description:`<strong>private</strong> (<code>bool</code>, <em>optional</em>) &#x2014;
Whether or not the repository created should be private (requires a paying subscription).`,name:"private"},{anchor:"transformers.file_utils.PushToHubMixin.push_to_hub.use_auth_token",description:`<strong>use_auth_token</strong> (<code>bool</code> or <code>str</code>, <em>optional</em>) &#x2014;
The token to use as HTTP bearer authorization for remote files. If <code>True</code>, will use the token generated
when running <code>transformers-cli login</code> (stored in <code>~/.huggingface</code>). Will default to <code>True</code> if
<code>repo_url</code> is not specified.`,name:"use_auth_token"}],returnDescription:`
<p>The url of the commit of your {object} in the given repository.</p>
`,returnType:`
<p><code>str</code></p>
`}}),La=new O({props:{code:`from transformers import {object_class}

{object} = {object_class}.from_pretrained("bert-base-cased")

# Push the {object} to your namespace with the name "my-finetuned-bert" and have a local clone in the
# *my-finetuned-bert* folder.
{object}.push_to_hub("my-finetuned-bert")

# Push the {object} to your namespace with the name "my-finetuned-bert" with no local clone.
{object}.push_to_hub("my-finetuned-bert", use_temp_dir=True)

# Push the {object} to an organization with the name "my-finetuned-bert" and have a local clone in the
# *my-finetuned-bert* folder.
{object}.push_to_hub("my-finetuned-bert", organization="huggingface")

# Make a change to an existing repo that has been cloned locally in *my-finetuned-bert*.
{object}.push_to_hub("my-finetuned-bert", repo_url="https://huggingface.co/sgugger/my-finetuned-bert")`,highlighted:`<span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> {object_class}

{<span class="hljs-built_in">object</span>} = {object_class}.from_pretrained(<span class="hljs-string">&quot;bert-base-cased&quot;</span>)

<span class="hljs-comment"># Push the {object} to your namespace with the name &quot;my-finetuned-bert&quot; and have a local clone in the</span>
<span class="hljs-comment"># *my-finetuned-bert* folder.</span>
{<span class="hljs-built_in">object</span>}.push_to_hub(<span class="hljs-string">&quot;my-finetuned-bert&quot;</span>)

<span class="hljs-comment"># Push the {object} to your namespace with the name &quot;my-finetuned-bert&quot; with no local clone.</span>
{<span class="hljs-built_in">object</span>}.push_to_hub(<span class="hljs-string">&quot;my-finetuned-bert&quot;</span>, use_temp_dir=<span class="hljs-literal">True</span>)

<span class="hljs-comment"># Push the {object} to an organization with the name &quot;my-finetuned-bert&quot; and have a local clone in the</span>
<span class="hljs-comment"># *my-finetuned-bert* folder.</span>
{<span class="hljs-built_in">object</span>}.push_to_hub(<span class="hljs-string">&quot;my-finetuned-bert&quot;</span>, organization=<span class="hljs-string">&quot;huggingface&quot;</span>)

<span class="hljs-comment"># Make a change to an existing repo that has been cloned locally in *my-finetuned-bert*.</span>
{<span class="hljs-built_in">object</span>}.push_to_hub(<span class="hljs-string">&quot;my-finetuned-bert&quot;</span>, repo_url=<span class="hljs-string">&quot;https://huggingface.co/sgugger/my-finetuned-bert&quot;</span>)`}}),{c(){x=o("meta"),E=l(),T=o("h1"),$=o("a"),te=o("span"),c(A.$$.fragment),I=l(),Me=o("span"),Am=r("Models"),Op=l(),ie=o("p"),Gm=r("The base classes "),Aa=o("a"),Sm=r("PreTrainedModel"),Nm=r(", "),Ga=o("a"),Cm=r("TFPreTrainedModel"),Im=r(`, and
`),Sa=o("a"),Bm=r("FlaxPreTrainedModel"),Wm=r(` implement the common methods for loading/saving a model either from a local
file or directory, or from a pretrained model configuration provided by the library (downloaded from HuggingFace\u2019s AWS
S3 repository).`),zp=l(),nt=o("p"),Na=o("a"),Um=r("PreTrainedModel"),Hm=r(" and "),Ca=o("a"),Vm=r("TFPreTrainedModel"),Xm=r(` also implement a few methods which
are common among all the models to:`),Dp=l(),wt=o("ul"),Ir=o("li"),Rm=r("resize the input token embeddings when new tokens are added to the vocabulary"),Ym=l(),Br=o("li"),Km=r("prune the attention heads of the model."),Ap=l(),B=o("p"),Zm=r("The other methods that are common to each model are defined in "),Ia=o("a"),Jm=r("ModuleUtilsMixin"),Qm=r(`
(for the PyTorch models) and `),Wr=o("code"),eu=r("TFModuleUtilsMixin"),tu=r(` (for the TensorFlow models) or
for text generation, `),Ba=o("a"),nu=r("GenerationMixin"),ou=r(` (for the PyTorch models),
`),Wa=o("a"),su=r("TFGenerationMixin"),au=r(` (for the TensorFlow models) and
`),Ua=o("a"),ru=r("FlaxGenerationMixin"),iu=r(" (for the Flax/JAX models)."),Gp=l(),ot=o("h2"),Tt=o("a"),Ur=o("span"),c(Hn.$$.fragment),lu=l(),Hr=o("span"),du=r("PreTrainedModel"),Sp=l(),w=o("div"),c(Vn.$$.fragment),pu=l(),Vr=o("p"),cu=r("Base class for all models."),mu=l(),Ha=o("p"),Va=o("a"),uu=r("PreTrainedModel"),gu=r(` takes care of storing the configuration of the models and handles methods for loading,
downloading and saving models as well as a few methods common to all models to:`),hu=l(),Xn=o("ul"),Xr=o("li"),_u=r("resize the input embeddings,"),fu=l(),Rr=o("li"),bu=r("prune heads in the self-attention heads."),vu=l(),Yr=o("p"),yu=r("Class attributes (overridden by derived classes):"),ku=l(),ne=o("ul"),Kr=o("li"),Ae=o("p"),Zr=o("strong"),xu=r("config_class"),wu=r(" ("),Xa=o("a"),Tu=r("PretrainedConfig"),ju=r(") \u2014 A subclass of "),Ra=o("a"),$u=r("PretrainedConfig"),Mu=r(` to use as configuration class
for this model architecture.`),Pu=l(),Rn=o("li"),Ge=o("p"),Jr=o("strong"),Eu=r("load_tf_weights"),Lu=r(" ("),Qr=o("code"),qu=r("Callable"),Fu=r(") \u2014 A python "),ei=o("em"),Ou=r("method"),zu=r(` for loading a TensorFlow checkpoint in a PyTorch model,
taking as arguments:`),Du=l(),st=o("ul"),jt=o("li"),ti=o("strong"),Au=r("model"),Gu=r(" ("),Ya=o("a"),Su=r("PreTrainedModel"),Nu=r(") \u2014 An instance of the model on which to load the TensorFlow checkpoint."),Cu=l(),$t=o("li"),ni=o("strong"),Iu=r("config"),Bu=r(" ("),oi=o("code"),Wu=r("PreTrainedConfig"),Uu=r(") \u2014 An instance of the configuration associated to the model."),Hu=l(),Mt=o("li"),si=o("strong"),Vu=r("path"),Xu=r(" ("),ai=o("code"),Ru=r("str"),Yu=r(") \u2014 A path to the TensorFlow checkpoint."),Ku=l(),ri=o("li"),Pt=o("p"),ii=o("strong"),Zu=r("base_model_prefix"),Ju=r(" ("),li=o("code"),Qu=r("str"),eg=r(`) \u2014 A string indicating the attribute associated to the base model in derived
classes of the same architecture adding modules on top of the base model.`),tg=l(),di=o("li"),Et=o("p"),pi=o("strong"),ng=r("is_parallelizable"),og=r(" ("),ci=o("code"),sg=r("bool"),ag=r(") \u2014 A flag indicating whether this model supports model parallelization."),rg=l(),mi=o("li"),V=o("p"),ui=o("strong"),ig=r("main_input_name"),lg=r(" ("),gi=o("code"),dg=r("str"),pg=r(") \u2014 The name of the principal input to the model (often "),hi=o("code"),cg=r("input_ids"),mg=r(` for NLP
models, `),_i=o("code"),ug=r("pixel_values"),gg=r(" for vision models and "),fi=o("code"),hg=r("input_values"),_g=r(" for speech models)."),fg=l(),le=o("div"),c(Yn.$$.fragment),bg=l(),Kn=o("p"),vg=r(`Upload the model checkpoint to the \u{1F917} Model Hub while synchronizing a local clone of the repo in
`),bi=o("code"),yg=r("repo_path_or_name"),kg=r("."),xg=l(),vi=o("p"),wg=r("Examples:"),Tg=l(),c(Zn.$$.fragment),jg=l(),z=o("div"),c(Jn.$$.fragment),$g=l(),yi=o("p"),Mg=r("Instantiate a pretrained pytorch model from a pre-trained model configuration."),Pg=l(),at=o("p"),Eg=r("The model is set in evaluation mode by default using "),ki=o("code"),Lg=r("model.eval()"),qg=r(` (Dropout modules are deactivated). To train
the model, you should first set it back in training mode with `),xi=o("code"),Fg=r("model.train()"),Og=r("."),zg=l(),Qn=o("p"),Dg=r("The warning "),wi=o("em"),Ag=r("Weights from XXX not initialized from pretrained model"),Gg=r(` means that the weights of XXX do not come
pretrained with the rest of the model. It is up to you to train those weights with a downstream fine-tuning
task.`),Sg=l(),eo=o("p"),Ng=r("The warning "),Ti=o("em"),Cg=r("Weights from XXX not used in YYY"),Ig=r(` means that the layer XXX is not used by YYY, therefore those
weights are discarded.`),Bg=l(),c(Lt.$$.fragment),Wg=l(),c(qt.$$.fragment),Ug=l(),ji=o("p"),Hg=r("Examples:"),Vg=l(),c(to.$$.fragment),Xg=l(),Ft=o("div"),c(no.$$.fragment),Rg=l(),$i=o("p"),Yg=r("Returns the model\u2019s input embeddings."),Kg=l(),Ot=o("div"),c(oo.$$.fragment),Zg=l(),Mi=o("p"),Jg=r("Returns the model\u2019s output embeddings."),Qg=l(),Se=o("div"),c(so.$$.fragment),eh=l(),Pi=o("p"),th=r("Deactivates gradient checkpointing for the current model."),nh=l(),Ei=o("p"),oh=r(`Note that in other frameworks this feature can be referred to as \u201Cactivation checkpointing\u201D or \u201Ccheckpoint
activations\u201D.`),sh=l(),Ne=o("div"),c(ao.$$.fragment),ah=l(),Li=o("p"),rh=r("Activates gradient checkpointing for the current model."),ih=l(),qi=o("p"),lh=r(`Note that in other frameworks this feature can be referred to as \u201Cactivation checkpointing\u201D or \u201Ccheckpoint
activations\u201D.`),dh=l(),zt=o("div"),c(ro.$$.fragment),ph=l(),Fi=o("p"),ch=r("If needed prunes and maybe initializes weights."),mh=l(),Dt=o("div"),c(io.$$.fragment),uh=l(),Oi=o("p"),gh=r(`A method executed at the end of each Transformer model initialization, to execute code that needs the model\u2019s
modules properly initialized (such as weight initialization).`),hh=l(),At=o("div"),c(lo.$$.fragment),_h=l(),zi=o("p"),fh=r("Prunes heads of the base model."),bh=l(),Ce=o("div"),c(po.$$.fragment),vh=l(),Di=o("p"),yh=r(`Register this class with a given auto class. This should only be used for custom models as the ones in the
library are already mapped with an auto class.`),kh=l(),c(Gt.$$.fragment),xh=l(),Ie=o("div"),c(co.$$.fragment),wh=l(),mo=o("p"),Th=r("Resizes input token embeddings matrix of the model if "),Ai=o("code"),jh=r("new_num_tokens != config.vocab_size"),$h=r("."),Mh=l(),uo=o("p"),Ph=r("Takes care of tying weights embeddings afterwards if the model class has a "),Gi=o("code"),Eh=r("tie_weights()"),Lh=r(" method."),qh=l(),St=o("div"),c(go.$$.fragment),Fh=l(),ho=o("p"),Oh=r(`Save a model and its configuration file to a directory, so that it can be re-loaded using the
`),Si=o("code"),zh=r("[from_pretrained()](/docs/transformers/pr_15984/en/main_classes/model#transformers.PreTrainedModel.from_pretrained)"),Dh=r(" class method."),Ah=l(),Nt=o("div"),c(_o.$$.fragment),Gh=l(),Ni=o("p"),Sh=r("Set model\u2019s input embeddings."),Nh=l(),Be=o("div"),c(fo.$$.fragment),Ch=l(),Ci=o("p"),Ih=r("Tie the weights between the input embeddings and the output embeddings."),Bh=l(),bo=o("p"),Wh=r("If the "),Ii=o("code"),Uh=r("torchscript"),Hh=r(` flag is set in the configuration, can\u2019t handle parameter sharing so we are cloning the
weights instead.`),Np=l(),Ka=o("a"),Cp=l(),rt=o("h3"),Ct=o("a"),Bi=o("span"),c(vo.$$.fragment),Vh=l(),Wi=o("span"),Xh=r("Model Instantiation dtype"),Ip=l(),de=o("p"),Rh=r("Under Pytorch a model normally gets instantiated with "),Ui=o("code"),Yh=r("torch.float32"),Kh=r(` format. This can be an issue if one tries to
load a model whose weights are in fp16, since it\u2019d require twice as much memory. To overcome this limitation, you can
either explicitly pass the desired `),Hi=o("code"),Zh=r("dtype"),Jh=r(" using "),Vi=o("code"),Qh=r("torch_dtype"),e_=r(" argument:"),Bp=l(),c(yo.$$.fragment),Wp=l(),We=o("p"),t_=r("or, if you want the model to always load in the most optimal memory pattern, you can use the special value "),Xi=o("code"),n_=r('"auto"'),o_=r(`,
and then `),Ri=o("code"),s_=r("dtype"),a_=r(" will be automatically derived from the model\u2019s weights:"),Up=l(),c(ko.$$.fragment),Hp=l(),It=o("p"),r_=r("Models instantiated from scratch can also be told which "),Yi=o("code"),i_=r("dtype"),l_=r(" to use with:"),Vp=l(),c(xo.$$.fragment),Xp=l(),Za=o("p"),d_=r("Due to Pytorch design, this functionality is only available for floating dtypes."),Rp=l(),it=o("h2"),Bt=o("a"),Ki=o("span"),c(wo.$$.fragment),p_=l(),Zi=o("span"),c_=r("ModuleUtilsMixin"),Yp=l(),L=o("div"),c(To.$$.fragment),m_=l(),jo=o("p"),u_=r("A few utilities for "),Ji=o("code"),g_=r("torch.nn.Modules"),h_=r(", to be used as a mixin."),__=l(),Ue=o("div"),c($o.$$.fragment),f_=l(),Qi=o("p"),b_=r("Add a memory hook before and after each sub-module forward pass to record increase in memory consumption."),v_=l(),lt=o("p"),y_=r("Increase in memory consumption is stored in a "),el=o("code"),k_=r("mem_rss_diff"),x_=r(` attribute for each module and can be reset to zero
with `),tl=o("code"),w_=r("model.reset_memory_hooks_state()"),T_=r("."),j_=l(),Wt=o("div"),c(Mo.$$.fragment),$_=l(),nl=o("p"),M_=r("Helper function to estimate the total number of tokens from the model inputs."),P_=l(),Ut=o("div"),c(Po.$$.fragment),E_=l(),dt=o("p"),L_=r(`Get number of (optionally, non-embeddings) floating-point operations for the forward and backward passes of a
batch with this transformer model. Default approximation neglects the quadratic dependency on the number of
tokens (valid if `),ol=o("code"),q_=r("12 * d_model << sequence_length"),F_=r(") as laid out in "),Eo=o("a"),O_=r(`this
paper`),z_=r(` section 2.1. Should be overridden for transformers with parameter
re-use e.g. Albert or Universal Transformers, or if doing long-range modeling with very high sequence lengths.`),D_=l(),Ht=o("div"),c(Lo.$$.fragment),A_=l(),sl=o("p"),G_=r("Makes broadcastable attention and causal masks so that future and masked tokens are ignored."),S_=l(),Vt=o("div"),c(qo.$$.fragment),N_=l(),al=o("p"),C_=r("Prepare the head mask if needed."),I_=l(),Xt=o("div"),c(Fo.$$.fragment),B_=l(),rl=o("p"),W_=r("Invert an attention mask (e.g., switches 0. and 1.)."),U_=l(),Rt=o("div"),c(Oo.$$.fragment),H_=l(),il=o("p"),V_=r("Get number of (optionally, trainable or non-embeddings) parameters in the module."),X_=l(),Yt=o("div"),c(zo.$$.fragment),R_=l(),pt=o("p"),Y_=r("Reset the "),ll=o("code"),K_=r("mem_rss_diff"),Z_=r(" attribute of each module (see "),Ja=o("a"),J_=r("add_memory_hooks()"),Q_=r(")."),Kp=l(),ct=o("h2"),Kt=o("a"),dl=o("span"),c(Do.$$.fragment),ef=l(),pl=o("span"),tf=r("TFPreTrainedModel"),Zp=l(),y=o("div"),c(Ao.$$.fragment),nf=l(),cl=o("p"),of=r("Base class for all TF models."),sf=l(),Qa=o("p"),er=o("a"),af=r("TFPreTrainedModel"),rf=r(` takes care of storing the configuration of the models and handles methods for loading,
downloading and saving models as well as a few methods common to all models to:`),lf=l(),Go=o("ul"),ml=o("li"),df=r("resize the input embeddings,"),pf=l(),ul=o("li"),cf=r("prune heads in the self-attention heads."),mf=l(),gl=o("p"),uf=r("Class attributes (overridden by derived classes):"),gf=l(),mt=o("ul"),He=o("li"),hl=o("strong"),hf=r("config_class"),_f=r(" ("),tr=o("a"),ff=r("PretrainedConfig"),bf=r(") \u2014 A subclass of "),nr=o("a"),vf=r("PretrainedConfig"),yf=r(` to use as configuration class
for this model architecture.`),kf=l(),Zt=o("li"),_l=o("strong"),xf=r("base_model_prefix"),wf=r(" ("),fl=o("code"),Tf=r("str"),jf=r(`) \u2014 A string indicating the attribute associated to the base model in derived
classes of the same architecture adding modules on top of the base model.`),$f=l(),X=o("li"),bl=o("strong"),Mf=r("main_input_name"),Pf=r(" ("),vl=o("code"),Ef=r("str"),Lf=r(") \u2014 The name of the principal input to the model (often "),yl=o("code"),qf=r("input_ids"),Ff=r(` for NLP
models, `),kl=o("code"),Of=r("pixel_values"),zf=r(" for vision models and "),xl=o("code"),Df=r("input_values"),Af=r(" for speech models)."),Gf=l(),pe=o("div"),c(So.$$.fragment),Sf=l(),No=o("p"),Nf=r(`Upload the model checkpoint to the \u{1F917} Model Hub while synchronizing a local clone of the repo in
`),wl=o("code"),Cf=r("repo_path_or_name"),If=r("."),Bf=l(),Tl=o("p"),Wf=r("Examples:"),Uf=l(),c(Co.$$.fragment),Hf=l(),Jt=o("div"),c(Io.$$.fragment),Vf=l(),jl=o("p"),Xf=r(`This is a thin wrapper that sets the model\u2019s loss output head as the loss if the user does not specify a loss
function themselves.`),Rf=l(),S=o("div"),c(Bo.$$.fragment),Yf=l(),$l=o("p"),Kf=r("Instantiate a pretrained TF 2.0 model from a pre-trained model configuration."),Zf=l(),Wo=o("p"),Jf=r("The warning "),Ml=o("em"),Qf=r("Weights from XXX not initialized from pretrained model"),eb=r(` means that the weights of XXX do not come
pretrained with the rest of the model. It is up to you to train those weights with a downstream fine-tuning
task.`),tb=l(),Uo=o("p"),nb=r("The warning "),Pl=o("em"),ob=r("Weights from XXX not used in YYY"),sb=r(` means that the layer XXX is not used by YYY, therefore those
weights are discarded.`),ab=l(),c(Qt.$$.fragment),rb=l(),El=o("p"),ib=r("Examples:"),lb=l(),c(Ho.$$.fragment),db=l(),en=o("div"),c(Vo.$$.fragment),pb=l(),Ll=o("p"),cb=r("Dict of bias attached to an LM head. The key represents the name of the bias attribute."),mb=l(),tn=o("div"),c(Xo.$$.fragment),ub=l(),ql=o("p"),gb=r("Returns the model\u2019s input embeddings layer."),hb=l(),nn=o("div"),c(Ro.$$.fragment),_b=l(),Fl=o("p"),fb=r("The LM Head layer. This method must be overwritten by all the models that have a lm head."),bb=l(),on=o("div"),c(Yo.$$.fragment),vb=l(),Ol=o("p"),yb=r("Returns the model\u2019s output embeddings"),kb=l(),sn=o("div"),c(Ko.$$.fragment),xb=l(),zl=o("p"),wb=r(`Get the layer that handles a bias attribute in case the model has an LM head with weights tied to the
embeddings`),Tb=l(),an=o("div"),c(Zo.$$.fragment),jb=l(),Dl=o("p"),$b=r("Get the concatenated _prefix name of the bias from the model name to the parent layer"),Mb=l(),rn=o("div"),c(Jo.$$.fragment),Pb=l(),Al=o("p"),Eb=r(`Loads a saved checkpoint (model weights and optimizer state) from a repo. Returns the current epoch count when
the checkpoint was made.`),Lb=l(),ln=o("div"),c(Qo.$$.fragment),qb=l(),Gl=o("p"),Fb=r("Prunes heads of the base model."),Ob=l(),Ve=o("div"),c(es.$$.fragment),zb=l(),ts=o("p"),Db=r("Resizes input token embeddings matrix of the model if "),Sl=o("code"),Ab=r("new_num_tokens != config.vocab_size"),Gb=r("."),Sb=l(),ns=o("p"),Nb=r("Takes care of tying weights embeddings afterwards if the model class has a "),Nl=o("code"),Cb=r("tie_weights()"),Ib=r(" method."),Bb=l(),dn=o("div"),c(os.$$.fragment),Wb=l(),ss=o("p"),Ub=r(`Save a model and its configuration file to a directory, so that it can be re-loaded using the
`),or=o("a"),Hb=r("from_pretrained()"),Vb=r(" class method."),Xb=l(),pn=o("div"),c(as.$$.fragment),Rb=l(),Cl=o("p"),Yb=r("Method used for serving the model."),Kb=l(),cn=o("div"),c(rs.$$.fragment),Zb=l(),Il=o("p"),Jb=r("Prepare the output of the saved model. Each model must implement this function."),Qb=l(),mn=o("div"),c(is.$$.fragment),ev=l(),Bl=o("p"),tv=r("Set all the bias in the LM head."),nv=l(),un=o("div"),c(ls.$$.fragment),ov=l(),Wl=o("p"),sv=r("Set model\u2019s input embeddings"),av=l(),gn=o("div"),c(ds.$$.fragment),rv=l(),Ul=o("p"),iv=r("Set model\u2019s output embeddings"),lv=l(),hn=o("div"),c(ps.$$.fragment),dv=l(),Hl=o("p"),pv=r("A modification of Keras\u2019s default test_step that cleans up the printed metrics when we use a dummy loss."),cv=l(),ce=o("div"),c(cs.$$.fragment),mv=l(),oe=o("p"),uv=r("A modification of Keras\u2019s default "),Vl=o("code"),gv=r("train_step"),hv=r(` that cleans up the printed metrics when we use a dummy loss. If
a user specifies a loss at model compile time, this function behaves as the original Keras `),Xl=o("code"),_v=r("train_step"),fv=r(`. In
this case, it expects the same `),Rl=o("code"),bv=r("data"),vv=r(" as the original function (i.e. "),Yl=o("code"),yv=r("(inputs, labels)"),kv=r(")."),xv=l(),ut=o("p"),wv=r(`However, when the model is compiled without specifying the loss AND the expected label columns are passed as
part of the input dictionary, the loss is computed internally (inside the model class) and is used in the
backwards pass. In this case, `),Kl=o("code"),Tv=r("data"),jv=r(" is a singleton tuple containing "),Zl=o("code"),$v=r("(inputs,)"),Mv=r("."),Pv=l(),gt=o("p"),Ev=r(`This is possible under the aforementioned circumstances because our overriden compile function can set an
additional loss function that reduces a `),Jl=o("code"),Lv=r("loss"),qv=r(" output, and the model will output a "),Ql=o("code"),Fv=r("loss"),Ov=r(` component (notice the
name matching) containing the loss that was used to train the pre-trained model.`),Jp=l(),ht=o("h2"),_n=o("a"),ed=o("span"),c(ms.$$.fragment),zv=l(),td=o("span"),Dv=r("TFModelUtilsMixin"),Qp=l(),Pe=o("div"),c(us.$$.fragment),Av=l(),gs=o("p"),Gv=r("A few utilities for "),nd=o("code"),Sv=r("tf.keras.Model"),Nv=r(", to be used as a mixin."),Cv=l(),fn=o("div"),c(hs.$$.fragment),Iv=l(),od=o("p"),Bv=r("Get the number of (optionally, trainable) parameters in the model."),ec=l(),_t=o("h2"),bn=o("a"),sd=o("span"),c(_s.$$.fragment),Wv=l(),ad=o("span"),Uv=r("FlaxPreTrainedModel"),tc=l(),M=o("div"),c(fs.$$.fragment),Hv=l(),rd=o("p"),Vv=r("Base class for all models."),Xv=l(),sr=o("p"),ar=o("a"),Rv=r("FlaxPreTrainedModel"),Yv=r(` takes care of storing the configuration of the models and handles methods for loading,
downloading and saving models.`),Kv=l(),id=o("p"),Zv=r("Class attributes (overridden by derived classes):"),Jv=l(),ft=o("ul"),Xe=o("li"),ld=o("strong"),Qv=r("config_class"),ey=r(" ("),rr=o("a"),ty=r("PretrainedConfig"),ny=r(") \u2014 A subclass of "),ir=o("a"),oy=r("PretrainedConfig"),sy=r(` to use as configuration class
for this model architecture.`),ay=l(),vn=o("li"),dd=o("strong"),ry=r("base_model_prefix"),iy=r(" ("),pd=o("code"),ly=r("str"),dy=r(`) \u2014 A string indicating the attribute associated to the base model in derived
classes of the same architecture adding modules on top of the base model.`),py=l(),R=o("li"),cd=o("strong"),cy=r("main_input_name"),my=r(" ("),md=o("code"),uy=r("str"),gy=r(") \u2014 The name of the principal input to the model (often "),ud=o("code"),hy=r("input_ids"),_y=r(` for NLP
models, `),gd=o("code"),fy=r("pixel_values"),by=r(" for vision models and "),hd=o("code"),vy=r("input_values"),yy=r(" for speech models)."),ky=l(),me=o("div"),c(bs.$$.fragment),xy=l(),vs=o("p"),wy=r(`Upload the model checkpoint to the \u{1F917} Model Hub while synchronizing a local clone of the repo in
`),_d=o("code"),Ty=r("repo_path_or_name"),jy=r("."),$y=l(),fd=o("p"),My=r("Examples:"),Py=l(),c(ys.$$.fragment),Ey=l(),W=o("div"),c(ks.$$.fragment),Ly=l(),bd=o("p"),qy=r("Instantiate a pretrained flax model from a pre-trained model configuration."),Fy=l(),xs=o("p"),Oy=r("The warning "),vd=o("em"),zy=r("Weights from XXX not initialized from pretrained model"),Dy=r(` means that the weights of XXX do not come
pretrained with the rest of the model. It is up to you to train those weights with a downstream fine-tuning
task.`),Ay=l(),ws=o("p"),Gy=r("The warning "),yd=o("em"),Sy=r("Weights from XXX not used in YYY"),Ny=r(` means that the layer XXX is not used by YYY, therefore those
weights are discarded.`),Cy=l(),kd=o("p"),Iy=r("Examples:"),By=l(),c(Ts.$$.fragment),Wy=l(),Re=o("div"),c(js.$$.fragment),Uy=l(),xd=o("p"),Hy=r(`Register this class with a given auto class. This should only be used for custom models as the ones in the
library are already mapped with an auto class.`),Vy=l(),c(yn.$$.fragment),Xy=l(),kn=o("div"),c($s.$$.fragment),Ry=l(),Ms=o("p"),Yy=r(`Save a model and its configuration file to a directory, so that it can be re-loaded using the
`),wd=o("code"),Ky=r("[from_pretrained()](/docs/transformers/pr_15984/en/main_classes/model#transformers.FlaxPreTrainedModel.from_pretrained)"),Zy=r(" class method"),Jy=l(),Y=o("div"),c(Ps.$$.fragment),Qy=l(),se=o("p"),e1=r("Cast the floating-point "),Td=o("code"),t1=r("params"),n1=r(" to "),jd=o("code"),o1=r("jax.numpy.bfloat16"),s1=r(". This returns a new "),$d=o("code"),a1=r("params"),r1=r(` tree and does not cast
the `),Md=o("code"),i1=r("params"),l1=r(" in place."),d1=l(),Pd=o("p"),p1=r(`This method can be used on TPU to explicitly convert the model parameters to bfloat16 precision to do full
half-precision training or to save weights in bfloat16 for inference in order to save memory and improve speed.`),c1=l(),Ed=o("p"),m1=r("Examples:"),u1=l(),c(Es.$$.fragment),g1=l(),K=o("div"),c(Ls.$$.fragment),h1=l(),ae=o("p"),_1=r("Cast the floating-point "),Ld=o("code"),f1=r("parmas"),b1=r(" to "),qd=o("code"),v1=r("jax.numpy.float16"),y1=r(". This returns a new "),Fd=o("code"),k1=r("params"),x1=r(` tree and does not cast the
`),Od=o("code"),w1=r("params"),T1=r(" in place."),j1=l(),zd=o("p"),$1=r(`This method can be used on GPU to explicitly convert the model parameters to float16 precision to do full
half-precision training or to save weights in float16 for inference in order to save memory and improve speed.`),M1=l(),Dd=o("p"),P1=r("Examples:"),E1=l(),c(qs.$$.fragment),L1=l(),ue=o("div"),c(Fs.$$.fragment),q1=l(),re=o("p"),F1=r("Cast the floating-point "),Ad=o("code"),O1=r("parmas"),z1=r(" to "),Gd=o("code"),D1=r("jax.numpy.float32"),A1=r(`. This method can be used to explicitly convert the
model parameters to fp32 precision. This returns a new `),Sd=o("code"),G1=r("params"),S1=r(" tree and does not cast the "),Nd=o("code"),N1=r("params"),C1=r(" in place."),I1=l(),Cd=o("p"),B1=r("Examples:"),W1=l(),c(Os.$$.fragment),nc=l(),bt=o("h2"),xn=o("a"),Id=o("span"),c(zs.$$.fragment),U1=l(),Bd=o("span"),H1=r("Generation"),oc=l(),P=o("div"),c(Ds.$$.fragment),V1=l(),As=o("p"),X1=r("A class containing all of the functions supporting generation, to be used as a mixin in "),lr=o("a"),R1=r("PreTrainedModel"),Y1=r("."),K1=l(),wn=o("div"),c(Gs.$$.fragment),Z1=l(),Ss=o("p"),J1=r("Implement in subclasses of "),dr=o("a"),Q1=r("PreTrainedModel"),ek=r(" for custom behavior to adjust the logits in the generate method."),tk=l(),ge=o("div"),c(Ns.$$.fragment),nk=l(),Wd=o("p"),ok=r("Generates sequences for models with a language modeling head using beam search with multinomial sampling."),sk=l(),Ud=o("p"),ak=r("Examples:"),rk=l(),c(Cs.$$.fragment),ik=l(),he=o("div"),c(Is.$$.fragment),lk=l(),Hd=o("p"),dk=r("Generates sequences for models with a language modeling head using beam search decoding."),pk=l(),Vd=o("p"),ck=r("Examples:"),mk=l(),c(Bs.$$.fragment),uk=l(),Tn=o("div"),c(Ws.$$.fragment),gk=l(),Xd=o("p"),hk=r(`compute the transition probabilities of sequences given generation
scores and beam indices`),_k=l(),_e=o("div"),c(Us.$$.fragment),fk=l(),Rd=o("p"),bk=r("Generates sequences for models with a language modeling head using beam search decoding."),vk=l(),Yd=o("p"),yk=r("Examples:"),kk=l(),c(Hs.$$.fragment),xk=l(),U=o("div"),c(Vs.$$.fragment),wk=l(),Kd=o("p"),Tk=r(`Generates sequences for models with a language modeling head. The method currently supports greedy decoding,
multinomial sampling, beam-search decoding, and beam-search multinomial sampling.`),jk=l(),vt=o("p"),$k=r("Apart from "),Zd=o("code"),Mk=r("inputs"),Pk=r(`, all the arguments below will default to the value of the attribute of the same name inside
the `),pr=o("a"),Ek=r("PretrainedConfig"),Lk=r(" of the model. The default values indicated are the default values of those config."),qk=l(),Xs=o("p"),Fk=r("Most of these parameters are explained in more detail in "),Rs=o("a"),Ok=r(`this blog
post`),zk=r("."),Dk=l(),Jd=o("p"),Ak=r("Examples:"),Gk=l(),c(Ys.$$.fragment),Sk=l(),fe=o("div"),c(Ks.$$.fragment),Nk=l(),Qd=o("p"),Ck=r("Generates sequences for models with a language modeling head using greedy decoding."),Ik=l(),ep=o("p"),Bk=r("Examples:"),Wk=l(),c(Zs.$$.fragment),Uk=l(),be=o("div"),c(Js.$$.fragment),Hk=l(),tp=o("p"),Vk=r("Generates sequences for models with a language modeling head using beam search decoding."),Xk=l(),np=o("p"),Rk=r("Examples:"),Yk=l(),c(Qs.$$.fragment),Kk=l(),jn=o("div"),c(ea.$$.fragment),Zk=l(),ta=o("p"),Jk=r("Implement in subclasses of "),cr=o("a"),Qk=r("PreTrainedModel"),ex=r(" for custom behavior to prepare inputs in the generate method."),tx=l(),ve=o("div"),c(na.$$.fragment),nx=l(),op=o("p"),ox=r("Generates sequences for models with a language modeling head using multinomial sampling."),sx=l(),sp=o("p"),ax=r("Examples:"),rx=l(),c(oa.$$.fragment),sc=l(),G=o("div"),c(sa.$$.fragment),ix=l(),aa=o("p"),lx=r("A class containing all of the functions supporting generation, to be used as a mixin in "),mr=o("a"),dx=r("TFPreTrainedModel"),px=r("."),cx=l(),$n=o("div"),c(ra.$$.fragment),mx=l(),ia=o("p"),ux=r("Implement in subclasses of "),ur=o("a"),gx=r("PreTrainedModel"),hx=r(" for custom behavior to adjust the logits in the generate method."),_x=l(),N=o("div"),c(la.$$.fragment),fx=l(),ap=o("p"),bx=r(`Generates sequences for models with a language modeling head. The method currently supports greedy decoding,
beam-search decoding, sampling with temperature, sampling with top-k or nucleus sampling.`),vx=l(),da=o("p"),yx=r("Adapted in part from "),pa=o("a"),kx=r(`Facebook\u2019s XLM beam search
code`),xx=r("."),wx=l(),Ee=o("p"),Tx=r("Apart from "),rp=o("code"),jx=r("input_ids"),$x=r(" and "),ip=o("code"),Mx=r("attention_mask"),Px=r(`, all the arguments below will default to the value of the attribute
of the same name inside the `),gr=o("a"),Ex=r("PretrainedConfig"),Lx=r(` of the model. The default values indicated are the default
values of those config.`),qx=l(),ca=o("p"),Fx=r("Most of these parameters are explained in more detail in "),ma=o("a"),Ox=r(`this blog
post`),zx=r("."),Dx=l(),lp=o("p"),Ax=r("Examples:"),Gx=l(),c(ua.$$.fragment),Sx=l(),ye=o("div"),c(ga.$$.fragment),Nx=l(),dp=o("p"),Cx=r("Generates sequences for models with a language modeling head using greedy decoding."),Ix=l(),pp=o("p"),Bx=r("Examples:"),Wx=l(),c(ha.$$.fragment),Ux=l(),Mn=o("div"),c(_a.$$.fragment),Hx=l(),fa=o("p"),Vx=r("Implement in subclasses of "),hr=o("a"),Xx=r("TFPreTrainedModel"),Rx=r(" for custom behavior to prepare inputs in the generate method."),Yx=l(),ke=o("div"),c(ba.$$.fragment),Kx=l(),cp=o("p"),Zx=r("Generates sequences for models with a language modeling head using multinomial sampling."),Jx=l(),mp=o("p"),Qx=r("Examples:"),ew=l(),c(va.$$.fragment),ac=l(),Le=o("div"),c(ya.$$.fragment),tw=l(),ka=o("p"),nw=r("A class containing all of the functions supporting generation, to be used as a mixin in "),_r=o("a"),ow=r("FlaxPreTrainedModel"),sw=r("."),aw=l(),H=o("div"),c(xa.$$.fragment),rw=l(),up=o("p"),iw=r(`Generates sequences for models with a language modeling head. The method currently supports greedy decoding,
and, multinomial sampling.`),lw=l(),yt=o("p"),dw=r("Apart from "),gp=o("code"),pw=r("input_ids"),cw=r(`, all the arguments below will default to the value of the attribute of the same name
inside the `),fr=o("a"),mw=r("PretrainedConfig"),uw=r(` of the model. The default values indicated are the default values of those
config.`),gw=l(),wa=o("p"),hw=r("Most of these parameters are explained in more detail in "),Ta=o("a"),_w=r(`this blog
post`),fw=r("."),bw=l(),hp=o("p"),vw=r("Examples:"),yw=l(),c(ja.$$.fragment),rc=l(),kt=o("h2"),Pn=o("a"),_p=o("span"),c($a.$$.fragment),kw=l(),fp=o("span"),xw=r("Pushing to the Hub"),ic=l(),qe=o("div"),c(Ma.$$.fragment),ww=l(),bp=o("p"),Tw=r("A Mixin containing the functionality to push a model or tokenizer to the hub."),jw=l(),xe=o("div"),c(Pa.$$.fragment),$w=l(),Ea=o("p"),Mw=r(`Upload the {object_files} to the \u{1F917} Model Hub while synchronizing a local clone of the repo in
`),vp=o("code"),Pw=r("repo_path_or_name"),Ew=r("."),Lw=l(),yp=o("p"),qw=r("Examples:"),Fw=l(),c(La.$$.fragment),this.h()},l(n){const b=p4('[data-svelte="svelte-1phssyn"]',document.head);x=s(b,"META",{name:!0,content:!0}),b.forEach(t),E=d(n),T=s(n,"H1",{class:!0});var qa=a(T);$=s(qa,"A",{id:!0,class:!0,href:!0});var kp=a($);te=s(kp,"SPAN",{});var xp=a(te);m(A.$$.fragment,xp),xp.forEach(t),kp.forEach(t),I=d(qa),Me=s(qa,"SPAN",{});var wp=a(Me);Am=i(wp,"Models"),wp.forEach(t),qa.forEach(t),Op=d(n),ie=s(n,"P",{});var Fe=a(ie);Gm=i(Fe,"The base classes "),Aa=s(Fe,"A",{href:!0});var Aw=a(Aa);Sm=i(Aw,"PreTrainedModel"),Aw.forEach(t),Nm=i(Fe,", "),Ga=s(Fe,"A",{href:!0});var Gw=a(Ga);Cm=i(Gw,"TFPreTrainedModel"),Gw.forEach(t),Im=i(Fe,`, and
`),Sa=s(Fe,"A",{href:!0});var Sw=a(Sa);Bm=i(Sw,"FlaxPreTrainedModel"),Sw.forEach(t),Wm=i(Fe,` implement the common methods for loading/saving a model either from a local
file or directory, or from a pretrained model configuration provided by the library (downloaded from HuggingFace\u2019s AWS
S3 repository).`),Fe.forEach(t),zp=d(n),nt=s(n,"P",{});var Tp=a(nt);Na=s(Tp,"A",{href:!0});var Nw=a(Na);Um=i(Nw,"PreTrainedModel"),Nw.forEach(t),Hm=i(Tp," and "),Ca=s(Tp,"A",{href:!0});var Cw=a(Ca);Vm=i(Cw,"TFPreTrainedModel"),Cw.forEach(t),Xm=i(Tp,` also implement a few methods which
are common among all the models to:`),Tp.forEach(t),Dp=d(n),wt=s(n,"UL",{});var dc=a(wt);Ir=s(dc,"LI",{});var Iw=a(Ir);Rm=i(Iw,"resize the input token embeddings when new tokens are added to the vocabulary"),Iw.forEach(t),Ym=d(dc),Br=s(dc,"LI",{});var Bw=a(Br);Km=i(Bw,"prune the attention heads of the model."),Bw.forEach(t),dc.forEach(t),Ap=d(n),B=s(n,"P",{});var we=a(B);Zm=i(we,"The other methods that are common to each model are defined in "),Ia=s(we,"A",{href:!0});var Ww=a(Ia);Jm=i(Ww,"ModuleUtilsMixin"),Ww.forEach(t),Qm=i(we,`
(for the PyTorch models) and `),Wr=s(we,"CODE",{});var Uw=a(Wr);eu=i(Uw,"TFModuleUtilsMixin"),Uw.forEach(t),tu=i(we,` (for the TensorFlow models) or
for text generation, `),Ba=s(we,"A",{href:!0});var Hw=a(Ba);nu=i(Hw,"GenerationMixin"),Hw.forEach(t),ou=i(we,` (for the PyTorch models),
`),Wa=s(we,"A",{href:!0});var Vw=a(Wa);su=i(Vw,"TFGenerationMixin"),Vw.forEach(t),au=i(we,` (for the TensorFlow models) and
`),Ua=s(we,"A",{href:!0});var Xw=a(Ua);ru=i(Xw,"FlaxGenerationMixin"),Xw.forEach(t),iu=i(we," (for the Flax/JAX models)."),we.forEach(t),Gp=d(n),ot=s(n,"H2",{class:!0});var pc=a(ot);Tt=s(pc,"A",{id:!0,class:!0,href:!0});var Rw=a(Tt);Ur=s(Rw,"SPAN",{});var Yw=a(Ur);m(Hn.$$.fragment,Yw),Yw.forEach(t),Rw.forEach(t),lu=d(pc),Hr=s(pc,"SPAN",{});var Kw=a(Hr);du=i(Kw,"PreTrainedModel"),Kw.forEach(t),pc.forEach(t),Sp=d(n),w=s(n,"DIV",{class:!0});var j=a(w);m(Vn.$$.fragment,j),pu=d(j),Vr=s(j,"P",{});var Zw=a(Vr);cu=i(Zw,"Base class for all models."),Zw.forEach(t),mu=d(j),Ha=s(j,"P",{});var Ow=a(Ha);Va=s(Ow,"A",{href:!0});var Jw=a(Va);uu=i(Jw,"PreTrainedModel"),Jw.forEach(t),gu=i(Ow,` takes care of storing the configuration of the models and handles methods for loading,
downloading and saving models as well as a few methods common to all models to:`),Ow.forEach(t),hu=d(j),Xn=s(j,"UL",{});var cc=a(Xn);Xr=s(cc,"LI",{});var Qw=a(Xr);_u=i(Qw,"resize the input embeddings,"),Qw.forEach(t),fu=d(cc),Rr=s(cc,"LI",{});var eT=a(Rr);bu=i(eT,"prune heads in the self-attention heads."),eT.forEach(t),cc.forEach(t),vu=d(j),Yr=s(j,"P",{});var tT=a(Yr);yu=i(tT,"Class attributes (overridden by derived classes):"),tT.forEach(t),ku=d(j),ne=s(j,"UL",{});var Ye=a(ne);Kr=s(Ye,"LI",{});var nT=a(Kr);Ae=s(nT,"P",{});var Fa=a(Ae);Zr=s(Fa,"STRONG",{});var oT=a(Zr);xu=i(oT,"config_class"),oT.forEach(t),wu=i(Fa," ("),Xa=s(Fa,"A",{href:!0});var sT=a(Xa);Tu=i(sT,"PretrainedConfig"),sT.forEach(t),ju=i(Fa,") \u2014 A subclass of "),Ra=s(Fa,"A",{href:!0});var aT=a(Ra);$u=i(aT,"PretrainedConfig"),aT.forEach(t),Mu=i(Fa,` to use as configuration class
for this model architecture.`),Fa.forEach(t),nT.forEach(t),Pu=d(Ye),Rn=s(Ye,"LI",{});var mc=a(Rn);Ge=s(mc,"P",{});var Oa=a(Ge);Jr=s(Oa,"STRONG",{});var rT=a(Jr);Eu=i(rT,"load_tf_weights"),rT.forEach(t),Lu=i(Oa," ("),Qr=s(Oa,"CODE",{});var iT=a(Qr);qu=i(iT,"Callable"),iT.forEach(t),Fu=i(Oa,") \u2014 A python "),ei=s(Oa,"EM",{});var lT=a(ei);Ou=i(lT,"method"),lT.forEach(t),zu=i(Oa,` for loading a TensorFlow checkpoint in a PyTorch model,
taking as arguments:`),Oa.forEach(t),Du=d(mc),st=s(mc,"UL",{});var br=a(st);jt=s(br,"LI",{});var jp=a(jt);ti=s(jp,"STRONG",{});var dT=a(ti);Au=i(dT,"model"),dT.forEach(t),Gu=i(jp," ("),Ya=s(jp,"A",{href:!0});var pT=a(Ya);Su=i(pT,"PreTrainedModel"),pT.forEach(t),Nu=i(jp,") \u2014 An instance of the model on which to load the TensorFlow checkpoint."),jp.forEach(t),Cu=d(br),$t=s(br,"LI",{});var $p=a($t);ni=s($p,"STRONG",{});var cT=a(ni);Iu=i(cT,"config"),cT.forEach(t),Bu=i($p," ("),oi=s($p,"CODE",{});var mT=a(oi);Wu=i(mT,"PreTrainedConfig"),mT.forEach(t),Uu=i($p,") \u2014 An instance of the configuration associated to the model."),$p.forEach(t),Hu=d(br),Mt=s(br,"LI",{});var Mp=a(Mt);si=s(Mp,"STRONG",{});var uT=a(si);Vu=i(uT,"path"),uT.forEach(t),Xu=i(Mp," ("),ai=s(Mp,"CODE",{});var gT=a(ai);Ru=i(gT,"str"),gT.forEach(t),Yu=i(Mp,") \u2014 A path to the TensorFlow checkpoint."),Mp.forEach(t),br.forEach(t),mc.forEach(t),Ku=d(Ye),ri=s(Ye,"LI",{});var hT=a(ri);Pt=s(hT,"P",{});var Pp=a(Pt);ii=s(Pp,"STRONG",{});var _T=a(ii);Zu=i(_T,"base_model_prefix"),_T.forEach(t),Ju=i(Pp," ("),li=s(Pp,"CODE",{});var fT=a(li);Qu=i(fT,"str"),fT.forEach(t),eg=i(Pp,`) \u2014 A string indicating the attribute associated to the base model in derived
classes of the same architecture adding modules on top of the base model.`),Pp.forEach(t),hT.forEach(t),tg=d(Ye),di=s(Ye,"LI",{});var bT=a(di);Et=s(bT,"P",{});var Ep=a(Et);pi=s(Ep,"STRONG",{});var vT=a(pi);ng=i(vT,"is_parallelizable"),vT.forEach(t),og=i(Ep," ("),ci=s(Ep,"CODE",{});var yT=a(ci);sg=i(yT,"bool"),yT.forEach(t),ag=i(Ep,") \u2014 A flag indicating whether this model supports model parallelization."),Ep.forEach(t),bT.forEach(t),rg=d(Ye),mi=s(Ye,"LI",{});var kT=a(mi);V=s(kT,"P",{});var Oe=a(V);ui=s(Oe,"STRONG",{});var xT=a(ui);ig=i(xT,"main_input_name"),xT.forEach(t),lg=i(Oe," ("),gi=s(Oe,"CODE",{});var wT=a(gi);dg=i(wT,"str"),wT.forEach(t),pg=i(Oe,") \u2014 The name of the principal input to the model (often "),hi=s(Oe,"CODE",{});var TT=a(hi);cg=i(TT,"input_ids"),TT.forEach(t),mg=i(Oe,` for NLP
models, `),_i=s(Oe,"CODE",{});var jT=a(_i);ug=i(jT,"pixel_values"),jT.forEach(t),gg=i(Oe," for vision models and "),fi=s(Oe,"CODE",{});var $T=a(fi);hg=i($T,"input_values"),$T.forEach(t),_g=i(Oe," for speech models)."),Oe.forEach(t),kT.forEach(t),Ye.forEach(t),fg=d(j),le=s(j,"DIV",{class:!0});var En=a(le);m(Yn.$$.fragment,En),bg=d(En),Kn=s(En,"P",{});var uc=a(Kn);vg=i(uc,`Upload the model checkpoint to the \u{1F917} Model Hub while synchronizing a local clone of the repo in
`),bi=s(uc,"CODE",{});var MT=a(bi);yg=i(MT,"repo_path_or_name"),MT.forEach(t),kg=i(uc,"."),uc.forEach(t),xg=d(En),vi=s(En,"P",{});var PT=a(vi);wg=i(PT,"Examples:"),PT.forEach(t),Tg=d(En),m(Zn.$$.fragment,En),En.forEach(t),jg=d(j),z=s(j,"DIV",{class:!0});var C=a(z);m(Jn.$$.fragment,C),$g=d(C),yi=s(C,"P",{});var ET=a(yi);Mg=i(ET,"Instantiate a pretrained pytorch model from a pre-trained model configuration."),ET.forEach(t),Pg=d(C),at=s(C,"P",{});var vr=a(at);Eg=i(vr,"The model is set in evaluation mode by default using "),ki=s(vr,"CODE",{});var LT=a(ki);Lg=i(LT,"model.eval()"),LT.forEach(t),qg=i(vr,` (Dropout modules are deactivated). To train
the model, you should first set it back in training mode with `),xi=s(vr,"CODE",{});var qT=a(xi);Fg=i(qT,"model.train()"),qT.forEach(t),Og=i(vr,"."),vr.forEach(t),zg=d(C),Qn=s(C,"P",{});var gc=a(Qn);Dg=i(gc,"The warning "),wi=s(gc,"EM",{});var FT=a(wi);Ag=i(FT,"Weights from XXX not initialized from pretrained model"),FT.forEach(t),Gg=i(gc,` means that the weights of XXX do not come
pretrained with the rest of the model. It is up to you to train those weights with a downstream fine-tuning
task.`),gc.forEach(t),Sg=d(C),eo=s(C,"P",{});var hc=a(eo);Ng=i(hc,"The warning "),Ti=s(hc,"EM",{});var OT=a(Ti);Cg=i(OT,"Weights from XXX not used in YYY"),OT.forEach(t),Ig=i(hc,` means that the layer XXX is not used by YYY, therefore those
weights are discarded.`),hc.forEach(t),Bg=d(C),m(Lt.$$.fragment,C),Wg=d(C),m(qt.$$.fragment,C),Ug=d(C),ji=s(C,"P",{});var zT=a(ji);Hg=i(zT,"Examples:"),zT.forEach(t),Vg=d(C),m(to.$$.fragment,C),C.forEach(t),Xg=d(j),Ft=s(j,"DIV",{class:!0});var _c=a(Ft);m(no.$$.fragment,_c),Rg=d(_c),$i=s(_c,"P",{});var DT=a($i);Yg=i(DT,"Returns the model\u2019s input embeddings."),DT.forEach(t),_c.forEach(t),Kg=d(j),Ot=s(j,"DIV",{class:!0});var fc=a(Ot);m(oo.$$.fragment,fc),Zg=d(fc),Mi=s(fc,"P",{});var AT=a(Mi);Jg=i(AT,"Returns the model\u2019s output embeddings."),AT.forEach(t),fc.forEach(t),Qg=d(j),Se=s(j,"DIV",{class:!0});var yr=a(Se);m(so.$$.fragment,yr),eh=d(yr),Pi=s(yr,"P",{});var GT=a(Pi);th=i(GT,"Deactivates gradient checkpointing for the current model."),GT.forEach(t),nh=d(yr),Ei=s(yr,"P",{});var ST=a(Ei);oh=i(ST,`Note that in other frameworks this feature can be referred to as \u201Cactivation checkpointing\u201D or \u201Ccheckpoint
activations\u201D.`),ST.forEach(t),yr.forEach(t),sh=d(j),Ne=s(j,"DIV",{class:!0});var kr=a(Ne);m(ao.$$.fragment,kr),ah=d(kr),Li=s(kr,"P",{});var NT=a(Li);rh=i(NT,"Activates gradient checkpointing for the current model."),NT.forEach(t),ih=d(kr),qi=s(kr,"P",{});var CT=a(qi);lh=i(CT,`Note that in other frameworks this feature can be referred to as \u201Cactivation checkpointing\u201D or \u201Ccheckpoint
activations\u201D.`),CT.forEach(t),kr.forEach(t),dh=d(j),zt=s(j,"DIV",{class:!0});var bc=a(zt);m(ro.$$.fragment,bc),ph=d(bc),Fi=s(bc,"P",{});var IT=a(Fi);ch=i(IT,"If needed prunes and maybe initializes weights."),IT.forEach(t),bc.forEach(t),mh=d(j),Dt=s(j,"DIV",{class:!0});var vc=a(Dt);m(io.$$.fragment,vc),uh=d(vc),Oi=s(vc,"P",{});var BT=a(Oi);gh=i(BT,`A method executed at the end of each Transformer model initialization, to execute code that needs the model\u2019s
modules properly initialized (such as weight initialization).`),BT.forEach(t),vc.forEach(t),hh=d(j),At=s(j,"DIV",{class:!0});var yc=a(At);m(lo.$$.fragment,yc),_h=d(yc),zi=s(yc,"P",{});var WT=a(zi);fh=i(WT,"Prunes heads of the base model."),WT.forEach(t),yc.forEach(t),bh=d(j),Ce=s(j,"DIV",{class:!0});var xr=a(Ce);m(po.$$.fragment,xr),vh=d(xr),Di=s(xr,"P",{});var UT=a(Di);yh=i(UT,`Register this class with a given auto class. This should only be used for custom models as the ones in the
library are already mapped with an auto class.`),UT.forEach(t),kh=d(xr),m(Gt.$$.fragment,xr),xr.forEach(t),xh=d(j),Ie=s(j,"DIV",{class:!0});var wr=a(Ie);m(co.$$.fragment,wr),wh=d(wr),mo=s(wr,"P",{});var kc=a(mo);Th=i(kc,"Resizes input token embeddings matrix of the model if "),Ai=s(kc,"CODE",{});var HT=a(Ai);jh=i(HT,"new_num_tokens != config.vocab_size"),HT.forEach(t),$h=i(kc,"."),kc.forEach(t),Mh=d(wr),uo=s(wr,"P",{});var xc=a(uo);Ph=i(xc,"Takes care of tying weights embeddings afterwards if the model class has a "),Gi=s(xc,"CODE",{});var VT=a(Gi);Eh=i(VT,"tie_weights()"),VT.forEach(t),Lh=i(xc," method."),xc.forEach(t),wr.forEach(t),qh=d(j),St=s(j,"DIV",{class:!0});var wc=a(St);m(go.$$.fragment,wc),Fh=d(wc),ho=s(wc,"P",{});var Tc=a(ho);Oh=i(Tc,`Save a model and its configuration file to a directory, so that it can be re-loaded using the
`),Si=s(Tc,"CODE",{});var XT=a(Si);zh=i(XT,"[from_pretrained()](/docs/transformers/pr_15984/en/main_classes/model#transformers.PreTrainedModel.from_pretrained)"),XT.forEach(t),Dh=i(Tc," class method."),Tc.forEach(t),wc.forEach(t),Ah=d(j),Nt=s(j,"DIV",{class:!0});var jc=a(Nt);m(_o.$$.fragment,jc),Gh=d(jc),Ni=s(jc,"P",{});var RT=a(Ni);Sh=i(RT,"Set model\u2019s input embeddings."),RT.forEach(t),jc.forEach(t),Nh=d(j),Be=s(j,"DIV",{class:!0});var Tr=a(Be);m(fo.$$.fragment,Tr),Ch=d(Tr),Ci=s(Tr,"P",{});var YT=a(Ci);Ih=i(YT,"Tie the weights between the input embeddings and the output embeddings."),YT.forEach(t),Bh=d(Tr),bo=s(Tr,"P",{});var $c=a(bo);Wh=i($c,"If the "),Ii=s($c,"CODE",{});var KT=a(Ii);Uh=i(KT,"torchscript"),KT.forEach(t),Hh=i($c,` flag is set in the configuration, can\u2019t handle parameter sharing so we are cloning the
weights instead.`),$c.forEach(t),Tr.forEach(t),j.forEach(t),Np=d(n),Ka=s(n,"A",{id:!0}),a(Ka).forEach(t),Cp=d(n),rt=s(n,"H3",{class:!0});var Mc=a(rt);Ct=s(Mc,"A",{id:!0,class:!0,href:!0});var ZT=a(Ct);Bi=s(ZT,"SPAN",{});var JT=a(Bi);m(vo.$$.fragment,JT),JT.forEach(t),ZT.forEach(t),Vh=d(Mc),Wi=s(Mc,"SPAN",{});var QT=a(Wi);Xh=i(QT,"Model Instantiation dtype"),QT.forEach(t),Mc.forEach(t),Ip=d(n),de=s(n,"P",{});var Ln=a(de);Rh=i(Ln,"Under Pytorch a model normally gets instantiated with "),Ui=s(Ln,"CODE",{});var e2=a(Ui);Yh=i(e2,"torch.float32"),e2.forEach(t),Kh=i(Ln,` format. This can be an issue if one tries to
load a model whose weights are in fp16, since it\u2019d require twice as much memory. To overcome this limitation, you can
either explicitly pass the desired `),Hi=s(Ln,"CODE",{});var t2=a(Hi);Zh=i(t2,"dtype"),t2.forEach(t),Jh=i(Ln," using "),Vi=s(Ln,"CODE",{});var n2=a(Vi);Qh=i(n2,"torch_dtype"),n2.forEach(t),e_=i(Ln," argument:"),Ln.forEach(t),Bp=d(n),m(yo.$$.fragment,n),Wp=d(n),We=s(n,"P",{});var jr=a(We);t_=i(jr,"or, if you want the model to always load in the most optimal memory pattern, you can use the special value "),Xi=s(jr,"CODE",{});var o2=a(Xi);n_=i(o2,'"auto"'),o2.forEach(t),o_=i(jr,`,
and then `),Ri=s(jr,"CODE",{});var s2=a(Ri);s_=i(s2,"dtype"),s2.forEach(t),a_=i(jr," will be automatically derived from the model\u2019s weights:"),jr.forEach(t),Up=d(n),m(ko.$$.fragment,n),Hp=d(n),It=s(n,"P",{});var Pc=a(It);r_=i(Pc,"Models instantiated from scratch can also be told which "),Yi=s(Pc,"CODE",{});var a2=a(Yi);i_=i(a2,"dtype"),a2.forEach(t),l_=i(Pc," to use with:"),Pc.forEach(t),Vp=d(n),m(xo.$$.fragment,n),Xp=d(n),Za=s(n,"P",{});var r2=a(Za);d_=i(r2,"Due to Pytorch design, this functionality is only available for floating dtypes."),r2.forEach(t),Rp=d(n),it=s(n,"H2",{class:!0});var Ec=a(it);Bt=s(Ec,"A",{id:!0,class:!0,href:!0});var i2=a(Bt);Ki=s(i2,"SPAN",{});var l2=a(Ki);m(wo.$$.fragment,l2),l2.forEach(t),i2.forEach(t),p_=d(Ec),Zi=s(Ec,"SPAN",{});var d2=a(Zi);c_=i(d2,"ModuleUtilsMixin"),d2.forEach(t),Ec.forEach(t),Yp=d(n),L=s(n,"DIV",{class:!0});var D=a(L);m(To.$$.fragment,D),m_=d(D),jo=s(D,"P",{});var Lc=a(jo);u_=i(Lc,"A few utilities for "),Ji=s(Lc,"CODE",{});var p2=a(Ji);g_=i(p2,"torch.nn.Modules"),p2.forEach(t),h_=i(Lc,", to be used as a mixin."),Lc.forEach(t),__=d(D),Ue=s(D,"DIV",{class:!0});var $r=a(Ue);m($o.$$.fragment,$r),f_=d($r),Qi=s($r,"P",{});var c2=a(Qi);b_=i(c2,"Add a memory hook before and after each sub-module forward pass to record increase in memory consumption."),c2.forEach(t),v_=d($r),lt=s($r,"P",{});var Mr=a(lt);y_=i(Mr,"Increase in memory consumption is stored in a "),el=s(Mr,"CODE",{});var m2=a(el);k_=i(m2,"mem_rss_diff"),m2.forEach(t),x_=i(Mr,` attribute for each module and can be reset to zero
with `),tl=s(Mr,"CODE",{});var u2=a(tl);w_=i(u2,"model.reset_memory_hooks_state()"),u2.forEach(t),T_=i(Mr,"."),Mr.forEach(t),$r.forEach(t),j_=d(D),Wt=s(D,"DIV",{class:!0});var qc=a(Wt);m(Mo.$$.fragment,qc),$_=d(qc),nl=s(qc,"P",{});var g2=a(nl);M_=i(g2,"Helper function to estimate the total number of tokens from the model inputs."),g2.forEach(t),qc.forEach(t),P_=d(D),Ut=s(D,"DIV",{class:!0});var Fc=a(Ut);m(Po.$$.fragment,Fc),E_=d(Fc),dt=s(Fc,"P",{});var Pr=a(dt);L_=i(Pr,`Get number of (optionally, non-embeddings) floating-point operations for the forward and backward passes of a
batch with this transformer model. Default approximation neglects the quadratic dependency on the number of
tokens (valid if `),ol=s(Pr,"CODE",{});var h2=a(ol);q_=i(h2,"12 * d_model << sequence_length"),h2.forEach(t),F_=i(Pr,") as laid out in "),Eo=s(Pr,"A",{href:!0,rel:!0});var _2=a(Eo);O_=i(_2,`this
paper`),_2.forEach(t),z_=i(Pr,` section 2.1. Should be overridden for transformers with parameter
re-use e.g. Albert or Universal Transformers, or if doing long-range modeling with very high sequence lengths.`),Pr.forEach(t),Fc.forEach(t),D_=d(D),Ht=s(D,"DIV",{class:!0});var Oc=a(Ht);m(Lo.$$.fragment,Oc),A_=d(Oc),sl=s(Oc,"P",{});var f2=a(sl);G_=i(f2,"Makes broadcastable attention and causal masks so that future and masked tokens are ignored."),f2.forEach(t),Oc.forEach(t),S_=d(D),Vt=s(D,"DIV",{class:!0});var zc=a(Vt);m(qo.$$.fragment,zc),N_=d(zc),al=s(zc,"P",{});var b2=a(al);C_=i(b2,"Prepare the head mask if needed."),b2.forEach(t),zc.forEach(t),I_=d(D),Xt=s(D,"DIV",{class:!0});var Dc=a(Xt);m(Fo.$$.fragment,Dc),B_=d(Dc),rl=s(Dc,"P",{});var v2=a(rl);W_=i(v2,"Invert an attention mask (e.g., switches 0. and 1.)."),v2.forEach(t),Dc.forEach(t),U_=d(D),Rt=s(D,"DIV",{class:!0});var Ac=a(Rt);m(Oo.$$.fragment,Ac),H_=d(Ac),il=s(Ac,"P",{});var y2=a(il);V_=i(y2,"Get number of (optionally, trainable or non-embeddings) parameters in the module."),y2.forEach(t),Ac.forEach(t),X_=d(D),Yt=s(D,"DIV",{class:!0});var Gc=a(Yt);m(zo.$$.fragment,Gc),R_=d(Gc),pt=s(Gc,"P",{});var Er=a(pt);Y_=i(Er,"Reset the "),ll=s(Er,"CODE",{});var k2=a(ll);K_=i(k2,"mem_rss_diff"),k2.forEach(t),Z_=i(Er," attribute of each module (see "),Ja=s(Er,"A",{href:!0});var x2=a(Ja);J_=i(x2,"add_memory_hooks()"),x2.forEach(t),Q_=i(Er,")."),Er.forEach(t),Gc.forEach(t),D.forEach(t),Kp=d(n),ct=s(n,"H2",{class:!0});var Sc=a(ct);Kt=s(Sc,"A",{id:!0,class:!0,href:!0});var w2=a(Kt);dl=s(w2,"SPAN",{});var T2=a(dl);m(Do.$$.fragment,T2),T2.forEach(t),w2.forEach(t),ef=d(Sc),pl=s(Sc,"SPAN",{});var j2=a(pl);tf=i(j2,"TFPreTrainedModel"),j2.forEach(t),Sc.forEach(t),Zp=d(n),y=s(n,"DIV",{class:!0});var k=a(y);m(Ao.$$.fragment,k),nf=d(k),cl=s(k,"P",{});var $2=a(cl);of=i($2,"Base class for all TF models."),$2.forEach(t),sf=d(k),Qa=s(k,"P",{});var zw=a(Qa);er=s(zw,"A",{href:!0});var M2=a(er);af=i(M2,"TFPreTrainedModel"),M2.forEach(t),rf=i(zw,` takes care of storing the configuration of the models and handles methods for loading,
downloading and saving models as well as a few methods common to all models to:`),zw.forEach(t),lf=d(k),Go=s(k,"UL",{});var Nc=a(Go);ml=s(Nc,"LI",{});var P2=a(ml);df=i(P2,"resize the input embeddings,"),P2.forEach(t),pf=d(Nc),ul=s(Nc,"LI",{});var E2=a(ul);cf=i(E2,"prune heads in the self-attention heads."),E2.forEach(t),Nc.forEach(t),mf=d(k),gl=s(k,"P",{});var L2=a(gl);uf=i(L2,"Class attributes (overridden by derived classes):"),L2.forEach(t),gf=d(k),mt=s(k,"UL",{});var Lr=a(mt);He=s(Lr,"LI",{});var za=a(He);hl=s(za,"STRONG",{});var q2=a(hl);hf=i(q2,"config_class"),q2.forEach(t),_f=i(za," ("),tr=s(za,"A",{href:!0});var F2=a(tr);ff=i(F2,"PretrainedConfig"),F2.forEach(t),bf=i(za,") \u2014 A subclass of "),nr=s(za,"A",{href:!0});var O2=a(nr);vf=i(O2,"PretrainedConfig"),O2.forEach(t),yf=i(za,` to use as configuration class
for this model architecture.`),za.forEach(t),kf=d(Lr),Zt=s(Lr,"LI",{});var Lp=a(Zt);_l=s(Lp,"STRONG",{});var z2=a(_l);xf=i(z2,"base_model_prefix"),z2.forEach(t),wf=i(Lp," ("),fl=s(Lp,"CODE",{});var D2=a(fl);Tf=i(D2,"str"),D2.forEach(t),jf=i(Lp,`) \u2014 A string indicating the attribute associated to the base model in derived
classes of the same architecture adding modules on top of the base model.`),Lp.forEach(t),$f=d(Lr),X=s(Lr,"LI",{});var ze=a(X);bl=s(ze,"STRONG",{});var A2=a(bl);Mf=i(A2,"main_input_name"),A2.forEach(t),Pf=i(ze," ("),vl=s(ze,"CODE",{});var G2=a(vl);Ef=i(G2,"str"),G2.forEach(t),Lf=i(ze,") \u2014 The name of the principal input to the model (often "),yl=s(ze,"CODE",{});var S2=a(yl);qf=i(S2,"input_ids"),S2.forEach(t),Ff=i(ze,` for NLP
models, `),kl=s(ze,"CODE",{});var N2=a(kl);Of=i(N2,"pixel_values"),N2.forEach(t),zf=i(ze," for vision models and "),xl=s(ze,"CODE",{});var C2=a(xl);Df=i(C2,"input_values"),C2.forEach(t),Af=i(ze," for speech models)."),ze.forEach(t),Lr.forEach(t),Gf=d(k),pe=s(k,"DIV",{class:!0});var qn=a(pe);m(So.$$.fragment,qn),Sf=d(qn),No=s(qn,"P",{});var Cc=a(No);Nf=i(Cc,`Upload the model checkpoint to the \u{1F917} Model Hub while synchronizing a local clone of the repo in
`),wl=s(Cc,"CODE",{});var I2=a(wl);Cf=i(I2,"repo_path_or_name"),I2.forEach(t),If=i(Cc,"."),Cc.forEach(t),Bf=d(qn),Tl=s(qn,"P",{});var B2=a(Tl);Wf=i(B2,"Examples:"),B2.forEach(t),Uf=d(qn),m(Co.$$.fragment,qn),qn.forEach(t),Hf=d(k),Jt=s(k,"DIV",{class:!0});var Ic=a(Jt);m(Io.$$.fragment,Ic),Vf=d(Ic),jl=s(Ic,"P",{});var W2=a(jl);Xf=i(W2,`This is a thin wrapper that sets the model\u2019s loss output head as the loss if the user does not specify a loss
function themselves.`),W2.forEach(t),Ic.forEach(t),Rf=d(k),S=s(k,"DIV",{class:!0});var Z=a(S);m(Bo.$$.fragment,Z),Yf=d(Z),$l=s(Z,"P",{});var U2=a($l);Kf=i(U2,"Instantiate a pretrained TF 2.0 model from a pre-trained model configuration."),U2.forEach(t),Zf=d(Z),Wo=s(Z,"P",{});var Bc=a(Wo);Jf=i(Bc,"The warning "),Ml=s(Bc,"EM",{});var H2=a(Ml);Qf=i(H2,"Weights from XXX not initialized from pretrained model"),H2.forEach(t),eb=i(Bc,` means that the weights of XXX do not come
pretrained with the rest of the model. It is up to you to train those weights with a downstream fine-tuning
task.`),Bc.forEach(t),tb=d(Z),Uo=s(Z,"P",{});var Wc=a(Uo);nb=i(Wc,"The warning "),Pl=s(Wc,"EM",{});var V2=a(Pl);ob=i(V2,"Weights from XXX not used in YYY"),V2.forEach(t),sb=i(Wc,` means that the layer XXX is not used by YYY, therefore those
weights are discarded.`),Wc.forEach(t),ab=d(Z),m(Qt.$$.fragment,Z),rb=d(Z),El=s(Z,"P",{});var X2=a(El);ib=i(X2,"Examples:"),X2.forEach(t),lb=d(Z),m(Ho.$$.fragment,Z),Z.forEach(t),db=d(k),en=s(k,"DIV",{class:!0});var Uc=a(en);m(Vo.$$.fragment,Uc),pb=d(Uc),Ll=s(Uc,"P",{});var R2=a(Ll);cb=i(R2,"Dict of bias attached to an LM head. The key represents the name of the bias attribute."),R2.forEach(t),Uc.forEach(t),mb=d(k),tn=s(k,"DIV",{class:!0});var Hc=a(tn);m(Xo.$$.fragment,Hc),ub=d(Hc),ql=s(Hc,"P",{});var Y2=a(ql);gb=i(Y2,"Returns the model\u2019s input embeddings layer."),Y2.forEach(t),Hc.forEach(t),hb=d(k),nn=s(k,"DIV",{class:!0});var Vc=a(nn);m(Ro.$$.fragment,Vc),_b=d(Vc),Fl=s(Vc,"P",{});var K2=a(Fl);fb=i(K2,"The LM Head layer. This method must be overwritten by all the models that have a lm head."),K2.forEach(t),Vc.forEach(t),bb=d(k),on=s(k,"DIV",{class:!0});var Xc=a(on);m(Yo.$$.fragment,Xc),vb=d(Xc),Ol=s(Xc,"P",{});var Z2=a(Ol);yb=i(Z2,"Returns the model\u2019s output embeddings"),Z2.forEach(t),Xc.forEach(t),kb=d(k),sn=s(k,"DIV",{class:!0});var Rc=a(sn);m(Ko.$$.fragment,Rc),xb=d(Rc),zl=s(Rc,"P",{});var J2=a(zl);wb=i(J2,`Get the layer that handles a bias attribute in case the model has an LM head with weights tied to the
embeddings`),J2.forEach(t),Rc.forEach(t),Tb=d(k),an=s(k,"DIV",{class:!0});var Yc=a(an);m(Zo.$$.fragment,Yc),jb=d(Yc),Dl=s(Yc,"P",{});var Q2=a(Dl);$b=i(Q2,"Get the concatenated _prefix name of the bias from the model name to the parent layer"),Q2.forEach(t),Yc.forEach(t),Mb=d(k),rn=s(k,"DIV",{class:!0});var Kc=a(rn);m(Jo.$$.fragment,Kc),Pb=d(Kc),Al=s(Kc,"P",{});var ej=a(Al);Eb=i(ej,`Loads a saved checkpoint (model weights and optimizer state) from a repo. Returns the current epoch count when
the checkpoint was made.`),ej.forEach(t),Kc.forEach(t),Lb=d(k),ln=s(k,"DIV",{class:!0});var Zc=a(ln);m(Qo.$$.fragment,Zc),qb=d(Zc),Gl=s(Zc,"P",{});var tj=a(Gl);Fb=i(tj,"Prunes heads of the base model."),tj.forEach(t),Zc.forEach(t),Ob=d(k),Ve=s(k,"DIV",{class:!0});var qr=a(Ve);m(es.$$.fragment,qr),zb=d(qr),ts=s(qr,"P",{});var Jc=a(ts);Db=i(Jc,"Resizes input token embeddings matrix of the model if "),Sl=s(Jc,"CODE",{});var nj=a(Sl);Ab=i(nj,"new_num_tokens != config.vocab_size"),nj.forEach(t),Gb=i(Jc,"."),Jc.forEach(t),Sb=d(qr),ns=s(qr,"P",{});var Qc=a(ns);Nb=i(Qc,"Takes care of tying weights embeddings afterwards if the model class has a "),Nl=s(Qc,"CODE",{});var oj=a(Nl);Cb=i(oj,"tie_weights()"),oj.forEach(t),Ib=i(Qc," method."),Qc.forEach(t),qr.forEach(t),Bb=d(k),dn=s(k,"DIV",{class:!0});var em=a(dn);m(os.$$.fragment,em),Wb=d(em),ss=s(em,"P",{});var tm=a(ss);Ub=i(tm,`Save a model and its configuration file to a directory, so that it can be re-loaded using the
`),or=s(tm,"A",{href:!0});var sj=a(or);Hb=i(sj,"from_pretrained()"),sj.forEach(t),Vb=i(tm," class method."),tm.forEach(t),em.forEach(t),Xb=d(k),pn=s(k,"DIV",{class:!0});var nm=a(pn);m(as.$$.fragment,nm),Rb=d(nm),Cl=s(nm,"P",{});var aj=a(Cl);Yb=i(aj,"Method used for serving the model."),aj.forEach(t),nm.forEach(t),Kb=d(k),cn=s(k,"DIV",{class:!0});var om=a(cn);m(rs.$$.fragment,om),Zb=d(om),Il=s(om,"P",{});var rj=a(Il);Jb=i(rj,"Prepare the output of the saved model. Each model must implement this function."),rj.forEach(t),om.forEach(t),Qb=d(k),mn=s(k,"DIV",{class:!0});var sm=a(mn);m(is.$$.fragment,sm),ev=d(sm),Bl=s(sm,"P",{});var ij=a(Bl);tv=i(ij,"Set all the bias in the LM head."),ij.forEach(t),sm.forEach(t),nv=d(k),un=s(k,"DIV",{class:!0});var am=a(un);m(ls.$$.fragment,am),ov=d(am),Wl=s(am,"P",{});var lj=a(Wl);sv=i(lj,"Set model\u2019s input embeddings"),lj.forEach(t),am.forEach(t),av=d(k),gn=s(k,"DIV",{class:!0});var rm=a(gn);m(ds.$$.fragment,rm),rv=d(rm),Ul=s(rm,"P",{});var dj=a(Ul);iv=i(dj,"Set model\u2019s output embeddings"),dj.forEach(t),rm.forEach(t),lv=d(k),hn=s(k,"DIV",{class:!0});var im=a(hn);m(ps.$$.fragment,im),dv=d(im),Hl=s(im,"P",{});var pj=a(Hl);pv=i(pj,"A modification of Keras\u2019s default test_step that cleans up the printed metrics when we use a dummy loss."),pj.forEach(t),im.forEach(t),cv=d(k),ce=s(k,"DIV",{class:!0});var Fn=a(ce);m(cs.$$.fragment,Fn),mv=d(Fn),oe=s(Fn,"P",{});var Ke=a(oe);uv=i(Ke,"A modification of Keras\u2019s default "),Vl=s(Ke,"CODE",{});var cj=a(Vl);gv=i(cj,"train_step"),cj.forEach(t),hv=i(Ke,` that cleans up the printed metrics when we use a dummy loss. If
a user specifies a loss at model compile time, this function behaves as the original Keras `),Xl=s(Ke,"CODE",{});var mj=a(Xl);_v=i(mj,"train_step"),mj.forEach(t),fv=i(Ke,`. In
this case, it expects the same `),Rl=s(Ke,"CODE",{});var uj=a(Rl);bv=i(uj,"data"),uj.forEach(t),vv=i(Ke," as the original function (i.e. "),Yl=s(Ke,"CODE",{});var gj=a(Yl);yv=i(gj,"(inputs, labels)"),gj.forEach(t),kv=i(Ke,")."),Ke.forEach(t),xv=d(Fn),ut=s(Fn,"P",{});var Fr=a(ut);wv=i(Fr,`However, when the model is compiled without specifying the loss AND the expected label columns are passed as
part of the input dictionary, the loss is computed internally (inside the model class) and is used in the
backwards pass. In this case, `),Kl=s(Fr,"CODE",{});var hj=a(Kl);Tv=i(hj,"data"),hj.forEach(t),jv=i(Fr," is a singleton tuple containing "),Zl=s(Fr,"CODE",{});var _j=a(Zl);$v=i(_j,"(inputs,)"),_j.forEach(t),Mv=i(Fr,"."),Fr.forEach(t),Pv=d(Fn),gt=s(Fn,"P",{});var Or=a(gt);Ev=i(Or,`This is possible under the aforementioned circumstances because our overriden compile function can set an
additional loss function that reduces a `),Jl=s(Or,"CODE",{});var fj=a(Jl);Lv=i(fj,"loss"),fj.forEach(t),qv=i(Or," output, and the model will output a "),Ql=s(Or,"CODE",{});var bj=a(Ql);Fv=i(bj,"loss"),bj.forEach(t),Ov=i(Or,` component (notice the
name matching) containing the loss that was used to train the pre-trained model.`),Or.forEach(t),Fn.forEach(t),k.forEach(t),Jp=d(n),ht=s(n,"H2",{class:!0});var lm=a(ht);_n=s(lm,"A",{id:!0,class:!0,href:!0});var vj=a(_n);ed=s(vj,"SPAN",{});var yj=a(ed);m(ms.$$.fragment,yj),yj.forEach(t),vj.forEach(t),zv=d(lm),td=s(lm,"SPAN",{});var kj=a(td);Dv=i(kj,"TFModelUtilsMixin"),kj.forEach(t),lm.forEach(t),Qp=d(n),Pe=s(n,"DIV",{class:!0});var zr=a(Pe);m(us.$$.fragment,zr),Av=d(zr),gs=s(zr,"P",{});var dm=a(gs);Gv=i(dm,"A few utilities for "),nd=s(dm,"CODE",{});var xj=a(nd);Sv=i(xj,"tf.keras.Model"),xj.forEach(t),Nv=i(dm,", to be used as a mixin."),dm.forEach(t),Cv=d(zr),fn=s(zr,"DIV",{class:!0});var pm=a(fn);m(hs.$$.fragment,pm),Iv=d(pm),od=s(pm,"P",{});var wj=a(od);Bv=i(wj,"Get the number of (optionally, trainable) parameters in the model."),wj.forEach(t),pm.forEach(t),zr.forEach(t),ec=d(n),_t=s(n,"H2",{class:!0});var cm=a(_t);bn=s(cm,"A",{id:!0,class:!0,href:!0});var Tj=a(bn);sd=s(Tj,"SPAN",{});var jj=a(sd);m(_s.$$.fragment,jj),jj.forEach(t),Tj.forEach(t),Wv=d(cm),ad=s(cm,"SPAN",{});var $j=a(ad);Uv=i($j,"FlaxPreTrainedModel"),$j.forEach(t),cm.forEach(t),tc=d(n),M=s(n,"DIV",{class:!0});var q=a(M);m(fs.$$.fragment,q),Hv=d(q),rd=s(q,"P",{});var Mj=a(rd);Vv=i(Mj,"Base class for all models."),Mj.forEach(t),Xv=d(q),sr=s(q,"P",{});var Dw=a(sr);ar=s(Dw,"A",{href:!0});var Pj=a(ar);Rv=i(Pj,"FlaxPreTrainedModel"),Pj.forEach(t),Yv=i(Dw,` takes care of storing the configuration of the models and handles methods for loading,
downloading and saving models.`),Dw.forEach(t),Kv=d(q),id=s(q,"P",{});var Ej=a(id);Zv=i(Ej,"Class attributes (overridden by derived classes):"),Ej.forEach(t),Jv=d(q),ft=s(q,"UL",{});var Dr=a(ft);Xe=s(Dr,"LI",{});var Da=a(Xe);ld=s(Da,"STRONG",{});var Lj=a(ld);Qv=i(Lj,"config_class"),Lj.forEach(t),ey=i(Da," ("),rr=s(Da,"A",{href:!0});var qj=a(rr);ty=i(qj,"PretrainedConfig"),qj.forEach(t),ny=i(Da,") \u2014 A subclass of "),ir=s(Da,"A",{href:!0});var Fj=a(ir);oy=i(Fj,"PretrainedConfig"),Fj.forEach(t),sy=i(Da,` to use as configuration class
for this model architecture.`),Da.forEach(t),ay=d(Dr),vn=s(Dr,"LI",{});var qp=a(vn);dd=s(qp,"STRONG",{});var Oj=a(dd);ry=i(Oj,"base_model_prefix"),Oj.forEach(t),iy=i(qp," ("),pd=s(qp,"CODE",{});var zj=a(pd);ly=i(zj,"str"),zj.forEach(t),dy=i(qp,`) \u2014 A string indicating the attribute associated to the base model in derived
classes of the same architecture adding modules on top of the base model.`),qp.forEach(t),py=d(Dr),R=s(Dr,"LI",{});var De=a(R);cd=s(De,"STRONG",{});var Dj=a(cd);cy=i(Dj,"main_input_name"),Dj.forEach(t),my=i(De," ("),md=s(De,"CODE",{});var Aj=a(md);uy=i(Aj,"str"),Aj.forEach(t),gy=i(De,") \u2014 The name of the principal input to the model (often "),ud=s(De,"CODE",{});var Gj=a(ud);hy=i(Gj,"input_ids"),Gj.forEach(t),_y=i(De,` for NLP
models, `),gd=s(De,"CODE",{});var Sj=a(gd);fy=i(Sj,"pixel_values"),Sj.forEach(t),by=i(De," for vision models and "),hd=s(De,"CODE",{});var Nj=a(hd);vy=i(Nj,"input_values"),Nj.forEach(t),yy=i(De," for speech models)."),De.forEach(t),Dr.forEach(t),ky=d(q),me=s(q,"DIV",{class:!0});var On=a(me);m(bs.$$.fragment,On),xy=d(On),vs=s(On,"P",{});var mm=a(vs);wy=i(mm,`Upload the model checkpoint to the \u{1F917} Model Hub while synchronizing a local clone of the repo in
`),_d=s(mm,"CODE",{});var Cj=a(_d);Ty=i(Cj,"repo_path_or_name"),Cj.forEach(t),jy=i(mm,"."),mm.forEach(t),$y=d(On),fd=s(On,"P",{});var Ij=a(fd);My=i(Ij,"Examples:"),Ij.forEach(t),Py=d(On),m(ys.$$.fragment,On),On.forEach(t),Ey=d(q),W=s(q,"DIV",{class:!0});var Te=a(W);m(ks.$$.fragment,Te),Ly=d(Te),bd=s(Te,"P",{});var Bj=a(bd);qy=i(Bj,"Instantiate a pretrained flax model from a pre-trained model configuration."),Bj.forEach(t),Fy=d(Te),xs=s(Te,"P",{});var um=a(xs);Oy=i(um,"The warning "),vd=s(um,"EM",{});var Wj=a(vd);zy=i(Wj,"Weights from XXX not initialized from pretrained model"),Wj.forEach(t),Dy=i(um,` means that the weights of XXX do not come
pretrained with the rest of the model. It is up to you to train those weights with a downstream fine-tuning
task.`),um.forEach(t),Ay=d(Te),ws=s(Te,"P",{});var gm=a(ws);Gy=i(gm,"The warning "),yd=s(gm,"EM",{});var Uj=a(yd);Sy=i(Uj,"Weights from XXX not used in YYY"),Uj.forEach(t),Ny=i(gm,` means that the layer XXX is not used by YYY, therefore those
weights are discarded.`),gm.forEach(t),Cy=d(Te),kd=s(Te,"P",{});var Hj=a(kd);Iy=i(Hj,"Examples:"),Hj.forEach(t),By=d(Te),m(Ts.$$.fragment,Te),Te.forEach(t),Wy=d(q),Re=s(q,"DIV",{class:!0});var Ar=a(Re);m(js.$$.fragment,Ar),Uy=d(Ar),xd=s(Ar,"P",{});var Vj=a(xd);Hy=i(Vj,`Register this class with a given auto class. This should only be used for custom models as the ones in the
library are already mapped with an auto class.`),Vj.forEach(t),Vy=d(Ar),m(yn.$$.fragment,Ar),Ar.forEach(t),Xy=d(q),kn=s(q,"DIV",{class:!0});var hm=a(kn);m($s.$$.fragment,hm),Ry=d(hm),Ms=s(hm,"P",{});var _m=a(Ms);Yy=i(_m,`Save a model and its configuration file to a directory, so that it can be re-loaded using the
`),wd=s(_m,"CODE",{});var Xj=a(wd);Ky=i(Xj,"[from_pretrained()](/docs/transformers/pr_15984/en/main_classes/model#transformers.FlaxPreTrainedModel.from_pretrained)"),Xj.forEach(t),Zy=i(_m," class method"),_m.forEach(t),hm.forEach(t),Jy=d(q),Y=s(q,"DIV",{class:!0});var Ze=a(Y);m(Ps.$$.fragment,Ze),Qy=d(Ze),se=s(Ze,"P",{});var Je=a(se);e1=i(Je,"Cast the floating-point "),Td=s(Je,"CODE",{});var Rj=a(Td);t1=i(Rj,"params"),Rj.forEach(t),n1=i(Je," to "),jd=s(Je,"CODE",{});var Yj=a(jd);o1=i(Yj,"jax.numpy.bfloat16"),Yj.forEach(t),s1=i(Je,". This returns a new "),$d=s(Je,"CODE",{});var Kj=a($d);a1=i(Kj,"params"),Kj.forEach(t),r1=i(Je,` tree and does not cast
the `),Md=s(Je,"CODE",{});var Zj=a(Md);i1=i(Zj,"params"),Zj.forEach(t),l1=i(Je," in place."),Je.forEach(t),d1=d(Ze),Pd=s(Ze,"P",{});var Jj=a(Pd);p1=i(Jj,`This method can be used on TPU to explicitly convert the model parameters to bfloat16 precision to do full
half-precision training or to save weights in bfloat16 for inference in order to save memory and improve speed.`),Jj.forEach(t),c1=d(Ze),Ed=s(Ze,"P",{});var Qj=a(Ed);m1=i(Qj,"Examples:"),Qj.forEach(t),u1=d(Ze),m(Es.$$.fragment,Ze),Ze.forEach(t),g1=d(q),K=s(q,"DIV",{class:!0});var Qe=a(K);m(Ls.$$.fragment,Qe),h1=d(Qe),ae=s(Qe,"P",{});var et=a(ae);_1=i(et,"Cast the floating-point "),Ld=s(et,"CODE",{});var e$=a(Ld);f1=i(e$,"parmas"),e$.forEach(t),b1=i(et," to "),qd=s(et,"CODE",{});var t$=a(qd);v1=i(t$,"jax.numpy.float16"),t$.forEach(t),y1=i(et,". This returns a new "),Fd=s(et,"CODE",{});var n$=a(Fd);k1=i(n$,"params"),n$.forEach(t),x1=i(et,` tree and does not cast the
`),Od=s(et,"CODE",{});var o$=a(Od);w1=i(o$,"params"),o$.forEach(t),T1=i(et," in place."),et.forEach(t),j1=d(Qe),zd=s(Qe,"P",{});var s$=a(zd);$1=i(s$,`This method can be used on GPU to explicitly convert the model parameters to float16 precision to do full
half-precision training or to save weights in float16 for inference in order to save memory and improve speed.`),s$.forEach(t),M1=d(Qe),Dd=s(Qe,"P",{});var a$=a(Dd);P1=i(a$,"Examples:"),a$.forEach(t),E1=d(Qe),m(qs.$$.fragment,Qe),Qe.forEach(t),L1=d(q),ue=s(q,"DIV",{class:!0});var zn=a(ue);m(Fs.$$.fragment,zn),q1=d(zn),re=s(zn,"P",{});var tt=a(re);F1=i(tt,"Cast the floating-point "),Ad=s(tt,"CODE",{});var r$=a(Ad);O1=i(r$,"parmas"),r$.forEach(t),z1=i(tt," to "),Gd=s(tt,"CODE",{});var i$=a(Gd);D1=i(i$,"jax.numpy.float32"),i$.forEach(t),A1=i(tt,`. This method can be used to explicitly convert the
model parameters to fp32 precision. This returns a new `),Sd=s(tt,"CODE",{});var l$=a(Sd);G1=i(l$,"params"),l$.forEach(t),S1=i(tt," tree and does not cast the "),Nd=s(tt,"CODE",{});var d$=a(Nd);N1=i(d$,"params"),d$.forEach(t),C1=i(tt," in place."),tt.forEach(t),I1=d(zn),Cd=s(zn,"P",{});var p$=a(Cd);B1=i(p$,"Examples:"),p$.forEach(t),W1=d(zn),m(Os.$$.fragment,zn),zn.forEach(t),q.forEach(t),nc=d(n),bt=s(n,"H2",{class:!0});var fm=a(bt);xn=s(fm,"A",{id:!0,class:!0,href:!0});var c$=a(xn);Id=s(c$,"SPAN",{});var m$=a(Id);m(zs.$$.fragment,m$),m$.forEach(t),c$.forEach(t),U1=d(fm),Bd=s(fm,"SPAN",{});var u$=a(Bd);H1=i(u$,"Generation"),u$.forEach(t),fm.forEach(t),oc=d(n),P=s(n,"DIV",{class:!0});var F=a(P);m(Ds.$$.fragment,F),V1=d(F),As=s(F,"P",{});var bm=a(As);X1=i(bm,"A class containing all of the functions supporting generation, to be used as a mixin in "),lr=s(bm,"A",{href:!0});var g$=a(lr);R1=i(g$,"PreTrainedModel"),g$.forEach(t),Y1=i(bm,"."),bm.forEach(t),K1=d(F),wn=s(F,"DIV",{class:!0});var vm=a(wn);m(Gs.$$.fragment,vm),Z1=d(vm),Ss=s(vm,"P",{});var ym=a(Ss);J1=i(ym,"Implement in subclasses of "),dr=s(ym,"A",{href:!0});var h$=a(dr);Q1=i(h$,"PreTrainedModel"),h$.forEach(t),ek=i(ym," for custom behavior to adjust the logits in the generate method."),ym.forEach(t),vm.forEach(t),tk=d(F),ge=s(F,"DIV",{class:!0});var Dn=a(ge);m(Ns.$$.fragment,Dn),nk=d(Dn),Wd=s(Dn,"P",{});var _$=a(Wd);ok=i(_$,"Generates sequences for models with a language modeling head using beam search with multinomial sampling."),_$.forEach(t),sk=d(Dn),Ud=s(Dn,"P",{});var f$=a(Ud);ak=i(f$,"Examples:"),f$.forEach(t),rk=d(Dn),m(Cs.$$.fragment,Dn),Dn.forEach(t),ik=d(F),he=s(F,"DIV",{class:!0});var An=a(he);m(Is.$$.fragment,An),lk=d(An),Hd=s(An,"P",{});var b$=a(Hd);dk=i(b$,"Generates sequences for models with a language modeling head using beam search decoding."),b$.forEach(t),pk=d(An),Vd=s(An,"P",{});var v$=a(Vd);ck=i(v$,"Examples:"),v$.forEach(t),mk=d(An),m(Bs.$$.fragment,An),An.forEach(t),uk=d(F),Tn=s(F,"DIV",{class:!0});var km=a(Tn);m(Ws.$$.fragment,km),gk=d(km),Xd=s(km,"P",{});var y$=a(Xd);hk=i(y$,`compute the transition probabilities of sequences given generation
scores and beam indices`),y$.forEach(t),km.forEach(t),_k=d(F),_e=s(F,"DIV",{class:!0});var Gn=a(_e);m(Us.$$.fragment,Gn),fk=d(Gn),Rd=s(Gn,"P",{});var k$=a(Rd);bk=i(k$,"Generates sequences for models with a language modeling head using beam search decoding."),k$.forEach(t),vk=d(Gn),Yd=s(Gn,"P",{});var x$=a(Yd);yk=i(x$,"Examples:"),x$.forEach(t),kk=d(Gn),m(Hs.$$.fragment,Gn),Gn.forEach(t),xk=d(F),U=s(F,"DIV",{class:!0});var je=a(U);m(Vs.$$.fragment,je),wk=d(je),Kd=s(je,"P",{});var w$=a(Kd);Tk=i(w$,`Generates sequences for models with a language modeling head. The method currently supports greedy decoding,
multinomial sampling, beam-search decoding, and beam-search multinomial sampling.`),w$.forEach(t),jk=d(je),vt=s(je,"P",{});var Gr=a(vt);$k=i(Gr,"Apart from "),Zd=s(Gr,"CODE",{});var T$=a(Zd);Mk=i(T$,"inputs"),T$.forEach(t),Pk=i(Gr,`, all the arguments below will default to the value of the attribute of the same name inside
the `),pr=s(Gr,"A",{href:!0});var j$=a(pr);Ek=i(j$,"PretrainedConfig"),j$.forEach(t),Lk=i(Gr," of the model. The default values indicated are the default values of those config."),Gr.forEach(t),qk=d(je),Xs=s(je,"P",{});var xm=a(Xs);Fk=i(xm,"Most of these parameters are explained in more detail in "),Rs=s(xm,"A",{href:!0,rel:!0});var $$=a(Rs);Ok=i($$,`this blog
post`),$$.forEach(t),zk=i(xm,"."),xm.forEach(t),Dk=d(je),Jd=s(je,"P",{});var M$=a(Jd);Ak=i(M$,"Examples:"),M$.forEach(t),Gk=d(je),m(Ys.$$.fragment,je),je.forEach(t),Sk=d(F),fe=s(F,"DIV",{class:!0});var Sn=a(fe);m(Ks.$$.fragment,Sn),Nk=d(Sn),Qd=s(Sn,"P",{});var P$=a(Qd);Ck=i(P$,"Generates sequences for models with a language modeling head using greedy decoding."),P$.forEach(t),Ik=d(Sn),ep=s(Sn,"P",{});var E$=a(ep);Bk=i(E$,"Examples:"),E$.forEach(t),Wk=d(Sn),m(Zs.$$.fragment,Sn),Sn.forEach(t),Uk=d(F),be=s(F,"DIV",{class:!0});var Nn=a(be);m(Js.$$.fragment,Nn),Hk=d(Nn),tp=s(Nn,"P",{});var L$=a(tp);Vk=i(L$,"Generates sequences for models with a language modeling head using beam search decoding."),L$.forEach(t),Xk=d(Nn),np=s(Nn,"P",{});var q$=a(np);Rk=i(q$,"Examples:"),q$.forEach(t),Yk=d(Nn),m(Qs.$$.fragment,Nn),Nn.forEach(t),Kk=d(F),jn=s(F,"DIV",{class:!0});var wm=a(jn);m(ea.$$.fragment,wm),Zk=d(wm),ta=s(wm,"P",{});var Tm=a(ta);Jk=i(Tm,"Implement in subclasses of "),cr=s(Tm,"A",{href:!0});var F$=a(cr);Qk=i(F$,"PreTrainedModel"),F$.forEach(t),ex=i(Tm," for custom behavior to prepare inputs in the generate method."),Tm.forEach(t),wm.forEach(t),tx=d(F),ve=s(F,"DIV",{class:!0});var Cn=a(ve);m(na.$$.fragment,Cn),nx=d(Cn),op=s(Cn,"P",{});var O$=a(op);ox=i(O$,"Generates sequences for models with a language modeling head using multinomial sampling."),O$.forEach(t),sx=d(Cn),sp=s(Cn,"P",{});var z$=a(sp);ax=i(z$,"Examples:"),z$.forEach(t),rx=d(Cn),m(oa.$$.fragment,Cn),Cn.forEach(t),F.forEach(t),sc=d(n),G=s(n,"DIV",{class:!0});var J=a(G);m(sa.$$.fragment,J),ix=d(J),aa=s(J,"P",{});var jm=a(aa);lx=i(jm,"A class containing all of the functions supporting generation, to be used as a mixin in "),mr=s(jm,"A",{href:!0});var D$=a(mr);dx=i(D$,"TFPreTrainedModel"),D$.forEach(t),px=i(jm,"."),jm.forEach(t),cx=d(J),$n=s(J,"DIV",{class:!0});var $m=a($n);m(ra.$$.fragment,$m),mx=d($m),ia=s($m,"P",{});var Mm=a(ia);ux=i(Mm,"Implement in subclasses of "),ur=s(Mm,"A",{href:!0});var A$=a(ur);gx=i(A$,"PreTrainedModel"),A$.forEach(t),hx=i(Mm," for custom behavior to adjust the logits in the generate method."),Mm.forEach(t),$m.forEach(t),_x=d(J),N=s(J,"DIV",{class:!0});var Q=a(N);m(la.$$.fragment,Q),fx=d(Q),ap=s(Q,"P",{});var G$=a(ap);bx=i(G$,`Generates sequences for models with a language modeling head. The method currently supports greedy decoding,
beam-search decoding, sampling with temperature, sampling with top-k or nucleus sampling.`),G$.forEach(t),vx=d(Q),da=s(Q,"P",{});var Pm=a(da);yx=i(Pm,"Adapted in part from "),pa=s(Pm,"A",{href:!0,rel:!0});var S$=a(pa);kx=i(S$,`Facebook\u2019s XLM beam search
code`),S$.forEach(t),xx=i(Pm,"."),Pm.forEach(t),wx=d(Q),Ee=s(Q,"P",{});var In=a(Ee);Tx=i(In,"Apart from "),rp=s(In,"CODE",{});var N$=a(rp);jx=i(N$,"input_ids"),N$.forEach(t),$x=i(In," and "),ip=s(In,"CODE",{});var C$=a(ip);Mx=i(C$,"attention_mask"),C$.forEach(t),Px=i(In,`, all the arguments below will default to the value of the attribute
of the same name inside the `),gr=s(In,"A",{href:!0});var I$=a(gr);Ex=i(I$,"PretrainedConfig"),I$.forEach(t),Lx=i(In,` of the model. The default values indicated are the default
values of those config.`),In.forEach(t),qx=d(Q),ca=s(Q,"P",{});var Em=a(ca);Fx=i(Em,"Most of these parameters are explained in more detail in "),ma=s(Em,"A",{href:!0,rel:!0});var B$=a(ma);Ox=i(B$,`this blog
post`),B$.forEach(t),zx=i(Em,"."),Em.forEach(t),Dx=d(Q),lp=s(Q,"P",{});var W$=a(lp);Ax=i(W$,"Examples:"),W$.forEach(t),Gx=d(Q),m(ua.$$.fragment,Q),Q.forEach(t),Sx=d(J),ye=s(J,"DIV",{class:!0});var Bn=a(ye);m(ga.$$.fragment,Bn),Nx=d(Bn),dp=s(Bn,"P",{});var U$=a(dp);Cx=i(U$,"Generates sequences for models with a language modeling head using greedy decoding."),U$.forEach(t),Ix=d(Bn),pp=s(Bn,"P",{});var H$=a(pp);Bx=i(H$,"Examples:"),H$.forEach(t),Wx=d(Bn),m(ha.$$.fragment,Bn),Bn.forEach(t),Ux=d(J),Mn=s(J,"DIV",{class:!0});var Lm=a(Mn);m(_a.$$.fragment,Lm),Hx=d(Lm),fa=s(Lm,"P",{});var qm=a(fa);Vx=i(qm,"Implement in subclasses of "),hr=s(qm,"A",{href:!0});var V$=a(hr);Xx=i(V$,"TFPreTrainedModel"),V$.forEach(t),Rx=i(qm," for custom behavior to prepare inputs in the generate method."),qm.forEach(t),Lm.forEach(t),Yx=d(J),ke=s(J,"DIV",{class:!0});var Wn=a(ke);m(ba.$$.fragment,Wn),Kx=d(Wn),cp=s(Wn,"P",{});var X$=a(cp);Zx=i(X$,"Generates sequences for models with a language modeling head using multinomial sampling."),X$.forEach(t),Jx=d(Wn),mp=s(Wn,"P",{});var R$=a(mp);Qx=i(R$,"Examples:"),R$.forEach(t),ew=d(Wn),m(va.$$.fragment,Wn),Wn.forEach(t),J.forEach(t),ac=d(n),Le=s(n,"DIV",{class:!0});var Sr=a(Le);m(ya.$$.fragment,Sr),tw=d(Sr),ka=s(Sr,"P",{});var Fm=a(ka);nw=i(Fm,"A class containing all of the functions supporting generation, to be used as a mixin in "),_r=s(Fm,"A",{href:!0});var Y$=a(_r);ow=i(Y$,"FlaxPreTrainedModel"),Y$.forEach(t),sw=i(Fm,"."),Fm.forEach(t),aw=d(Sr),H=s(Sr,"DIV",{class:!0});var $e=a(H);m(xa.$$.fragment,$e),rw=d($e),up=s($e,"P",{});var K$=a(up);iw=i(K$,`Generates sequences for models with a language modeling head. The method currently supports greedy decoding,
and, multinomial sampling.`),K$.forEach(t),lw=d($e),yt=s($e,"P",{});var Nr=a(yt);dw=i(Nr,"Apart from "),gp=s(Nr,"CODE",{});var Z$=a(gp);pw=i(Z$,"input_ids"),Z$.forEach(t),cw=i(Nr,`, all the arguments below will default to the value of the attribute of the same name
inside the `),fr=s(Nr,"A",{href:!0});var J$=a(fr);mw=i(J$,"PretrainedConfig"),J$.forEach(t),uw=i(Nr,` of the model. The default values indicated are the default values of those
config.`),Nr.forEach(t),gw=d($e),wa=s($e,"P",{});var Om=a(wa);hw=i(Om,"Most of these parameters are explained in more detail in "),Ta=s(Om,"A",{href:!0,rel:!0});var Q$=a(Ta);_w=i(Q$,`this blog
post`),Q$.forEach(t),fw=i(Om,"."),Om.forEach(t),bw=d($e),hp=s($e,"P",{});var e4=a(hp);vw=i(e4,"Examples:"),e4.forEach(t),yw=d($e),m(ja.$$.fragment,$e),$e.forEach(t),Sr.forEach(t),rc=d(n),kt=s(n,"H2",{class:!0});var zm=a(kt);Pn=s(zm,"A",{id:!0,class:!0,href:!0});var t4=a(Pn);_p=s(t4,"SPAN",{});var n4=a(_p);m($a.$$.fragment,n4),n4.forEach(t),t4.forEach(t),kw=d(zm),fp=s(zm,"SPAN",{});var o4=a(fp);xw=i(o4,"Pushing to the Hub"),o4.forEach(t),zm.forEach(t),ic=d(n),qe=s(n,"DIV",{class:!0});var Cr=a(qe);m(Ma.$$.fragment,Cr),ww=d(Cr),bp=s(Cr,"P",{});var s4=a(bp);Tw=i(s4,"A Mixin containing the functionality to push a model or tokenizer to the hub."),s4.forEach(t),jw=d(Cr),xe=s(Cr,"DIV",{class:!0});var Un=a(xe);m(Pa.$$.fragment,Un),$w=d(Un),Ea=s(Un,"P",{});var Dm=a(Ea);Mw=i(Dm,`Upload the {object_files} to the \u{1F917} Model Hub while synchronizing a local clone of the repo in
`),vp=s(Dm,"CODE",{});var a4=a(vp);Pw=i(a4,"repo_path_or_name"),a4.forEach(t),Ew=i(Dm,"."),Dm.forEach(t),Lw=d(Un),yp=s(Un,"P",{});var r4=a(yp);qw=i(r4,"Examples:"),r4.forEach(t),Fw=d(Un),m(La.$$.fragment,Un),Un.forEach(t),Cr.forEach(t),this.h()},h(){p(x,"name","hf:doc:metadata"),p(x,"content",JSON.stringify(f4)),p($,"id","models"),p($,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),p($,"href","#models"),p(T,"class","relative group"),p(Aa,"href","/docs/transformers/pr_15984/en/main_classes/model#transformers.PreTrainedModel"),p(Ga,"href","/docs/transformers/pr_15984/en/main_classes/model#transformers.TFPreTrainedModel"),p(Sa,"href","/docs/transformers/pr_15984/en/main_classes/model#transformers.FlaxPreTrainedModel"),p(Na,"href","/docs/transformers/pr_15984/en/main_classes/model#transformers.PreTrainedModel"),p(Ca,"href","/docs/transformers/pr_15984/en/main_classes/model#transformers.TFPreTrainedModel"),p(Ia,"href","/docs/transformers/pr_15984/en/main_classes/model#transformers.modeling_utils.ModuleUtilsMixin"),p(Ba,"href","/docs/transformers/pr_15984/en/main_classes/model#transformers.generation_utils.GenerationMixin"),p(Wa,"href","/docs/transformers/pr_15984/en/main_classes/model#transformers.generation_tf_utils.TFGenerationMixin"),p(Ua,"href","/docs/transformers/pr_15984/en/main_classes/model#transformers.generation_flax_utils.FlaxGenerationMixin"),p(Tt,"id","transformers.PreTrainedModel"),p(Tt,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),p(Tt,"href","#transformers.PreTrainedModel"),p(ot,"class","relative group"),p(Va,"href","/docs/transformers/pr_15984/en/main_classes/model#transformers.PreTrainedModel"),p(Xa,"href","/docs/transformers/pr_15984/en/main_classes/configuration#transformers.PretrainedConfig"),p(Ra,"href","/docs/transformers/pr_15984/en/main_classes/configuration#transformers.PretrainedConfig"),p(Ya,"href","/docs/transformers/pr_15984/en/main_classes/model#transformers.PreTrainedModel"),p(le,"class","docstring"),p(z,"class","docstring"),p(Ft,"class","docstring"),p(Ot,"class","docstring"),p(Se,"class","docstring"),p(Ne,"class","docstring"),p(zt,"class","docstring"),p(Dt,"class","docstring"),p(At,"class","docstring"),p(Ce,"class","docstring"),p(Ie,"class","docstring"),p(St,"class","docstring"),p(Nt,"class","docstring"),p(Be,"class","docstring"),p(w,"class","docstring"),p(Ka,"id","from_pretrained-torch-dtype"),p(Ct,"id","model-instantiation-dtype"),p(Ct,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),p(Ct,"href","#model-instantiation-dtype"),p(rt,"class","relative group"),p(Bt,"id","transformers.modeling_utils.ModuleUtilsMixin"),p(Bt,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),p(Bt,"href","#transformers.modeling_utils.ModuleUtilsMixin"),p(it,"class","relative group"),p(Ue,"class","docstring"),p(Wt,"class","docstring"),p(Eo,"href","https://arxiv.org/pdf/2001.08361.pdf"),p(Eo,"rel","nofollow"),p(Ut,"class","docstring"),p(Ht,"class","docstring"),p(Vt,"class","docstring"),p(Xt,"class","docstring"),p(Rt,"class","docstring"),p(Ja,"href","/docs/transformers/pr_15984/en/main_classes/model#transformers.modeling_utils.ModuleUtilsMixin.add_memory_hooks"),p(Yt,"class","docstring"),p(L,"class","docstring"),p(Kt,"id","transformers.TFPreTrainedModel"),p(Kt,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),p(Kt,"href","#transformers.TFPreTrainedModel"),p(ct,"class","relative group"),p(er,"href","/docs/transformers/pr_15984/en/main_classes/model#transformers.TFPreTrainedModel"),p(tr,"href","/docs/transformers/pr_15984/en/main_classes/configuration#transformers.PretrainedConfig"),p(nr,"href","/docs/transformers/pr_15984/en/main_classes/configuration#transformers.PretrainedConfig"),p(pe,"class","docstring"),p(Jt,"class","docstring"),p(S,"class","docstring"),p(en,"class","docstring"),p(tn,"class","docstring"),p(nn,"class","docstring"),p(on,"class","docstring"),p(sn,"class","docstring"),p(an,"class","docstring"),p(rn,"class","docstring"),p(ln,"class","docstring"),p(Ve,"class","docstring"),p(or,"href","/docs/transformers/pr_15984/en/main_classes/model#transformers.TFPreTrainedModel.from_pretrained"),p(dn,"class","docstring"),p(pn,"class","docstring"),p(cn,"class","docstring"),p(mn,"class","docstring"),p(un,"class","docstring"),p(gn,"class","docstring"),p(hn,"class","docstring"),p(ce,"class","docstring"),p(y,"class","docstring"),p(_n,"id","transformers.modeling_tf_utils.TFModelUtilsMixin"),p(_n,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),p(_n,"href","#transformers.modeling_tf_utils.TFModelUtilsMixin"),p(ht,"class","relative group"),p(fn,"class","docstring"),p(Pe,"class","docstring"),p(bn,"id","transformers.FlaxPreTrainedModel"),p(bn,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),p(bn,"href","#transformers.FlaxPreTrainedModel"),p(_t,"class","relative group"),p(ar,"href","/docs/transformers/pr_15984/en/main_classes/model#transformers.FlaxPreTrainedModel"),p(rr,"href","/docs/transformers/pr_15984/en/main_classes/configuration#transformers.PretrainedConfig"),p(ir,"href","/docs/transformers/pr_15984/en/main_classes/configuration#transformers.PretrainedConfig"),p(me,"class","docstring"),p(W,"class","docstring"),p(Re,"class","docstring"),p(kn,"class","docstring"),p(Y,"class","docstring"),p(K,"class","docstring"),p(ue,"class","docstring"),p(M,"class","docstring"),p(xn,"id","transformers.generation_utils.GenerationMixin"),p(xn,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),p(xn,"href","#transformers.generation_utils.GenerationMixin"),p(bt,"class","relative group"),p(lr,"href","/docs/transformers/pr_15984/en/main_classes/model#transformers.PreTrainedModel"),p(dr,"href","/docs/transformers/pr_15984/en/main_classes/model#transformers.PreTrainedModel"),p(wn,"class","docstring"),p(ge,"class","docstring"),p(he,"class","docstring"),p(Tn,"class","docstring"),p(_e,"class","docstring"),p(pr,"href","/docs/transformers/pr_15984/en/main_classes/configuration#transformers.PretrainedConfig"),p(Rs,"href","https://huggingface.co/blog/how-to-generate"),p(Rs,"rel","nofollow"),p(U,"class","docstring"),p(fe,"class","docstring"),p(be,"class","docstring"),p(cr,"href","/docs/transformers/pr_15984/en/main_classes/model#transformers.PreTrainedModel"),p(jn,"class","docstring"),p(ve,"class","docstring"),p(P,"class","docstring"),p(mr,"href","/docs/transformers/pr_15984/en/main_classes/model#transformers.TFPreTrainedModel"),p(ur,"href","/docs/transformers/pr_15984/en/main_classes/model#transformers.PreTrainedModel"),p($n,"class","docstring"),p(pa,"href","https://github.com/facebookresearch/XLM/blob/9e6f6814d17be4fe5b15f2e6c43eb2b2d76daeb4/src/model/transformer.py#L529"),p(pa,"rel","nofollow"),p(gr,"href","/docs/transformers/pr_15984/en/main_classes/configuration#transformers.PretrainedConfig"),p(ma,"href","https://huggingface.co/blog/how-to-generate"),p(ma,"rel","nofollow"),p(N,"class","docstring"),p(ye,"class","docstring"),p(hr,"href","/docs/transformers/pr_15984/en/main_classes/model#transformers.TFPreTrainedModel"),p(Mn,"class","docstring"),p(ke,"class","docstring"),p(G,"class","docstring"),p(_r,"href","/docs/transformers/pr_15984/en/main_classes/model#transformers.FlaxPreTrainedModel"),p(fr,"href","/docs/transformers/pr_15984/en/main_classes/configuration#transformers.PretrainedConfig"),p(Ta,"href","https://huggingface.co/blog/how-to-generate"),p(Ta,"rel","nofollow"),p(H,"class","docstring"),p(Le,"class","docstring"),p(Pn,"id","transformers.file_utils.PushToHubMixin"),p(Pn,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),p(Pn,"href","#transformers.file_utils.PushToHubMixin"),p(kt,"class","relative group"),p(xe,"class","docstring"),p(qe,"class","docstring")},m(n,b){e(document.head,x),v(n,E,b),v(n,T,b),e(T,$),e($,te),u(A,te,null),e(T,I),e(T,Me),e(Me,Am),v(n,Op,b),v(n,ie,b),e(ie,Gm),e(ie,Aa),e(Aa,Sm),e(ie,Nm),e(ie,Ga),e(Ga,Cm),e(ie,Im),e(ie,Sa),e(Sa,Bm),e(ie,Wm),v(n,zp,b),v(n,nt,b),e(nt,Na),e(Na,Um),e(nt,Hm),e(nt,Ca),e(Ca,Vm),e(nt,Xm),v(n,Dp,b),v(n,wt,b),e(wt,Ir),e(Ir,Rm),e(wt,Ym),e(wt,Br),e(Br,Km),v(n,Ap,b),v(n,B,b),e(B,Zm),e(B,Ia),e(Ia,Jm),e(B,Qm),e(B,Wr),e(Wr,eu),e(B,tu),e(B,Ba),e(Ba,nu),e(B,ou),e(B,Wa),e(Wa,su),e(B,au),e(B,Ua),e(Ua,ru),e(B,iu),v(n,Gp,b),v(n,ot,b),e(ot,Tt),e(Tt,Ur),u(Hn,Ur,null),e(ot,lu),e(ot,Hr),e(Hr,du),v(n,Sp,b),v(n,w,b),u(Vn,w,null),e(w,pu),e(w,Vr),e(Vr,cu),e(w,mu),e(w,Ha),e(Ha,Va),e(Va,uu),e(Ha,gu),e(w,hu),e(w,Xn),e(Xn,Xr),e(Xr,_u),e(Xn,fu),e(Xn,Rr),e(Rr,bu),e(w,vu),e(w,Yr),e(Yr,yu),e(w,ku),e(w,ne),e(ne,Kr),e(Kr,Ae),e(Ae,Zr),e(Zr,xu),e(Ae,wu),e(Ae,Xa),e(Xa,Tu),e(Ae,ju),e(Ae,Ra),e(Ra,$u),e(Ae,Mu),e(ne,Pu),e(ne,Rn),e(Rn,Ge),e(Ge,Jr),e(Jr,Eu),e(Ge,Lu),e(Ge,Qr),e(Qr,qu),e(Ge,Fu),e(Ge,ei),e(ei,Ou),e(Ge,zu),e(Rn,Du),e(Rn,st),e(st,jt),e(jt,ti),e(ti,Au),e(jt,Gu),e(jt,Ya),e(Ya,Su),e(jt,Nu),e(st,Cu),e(st,$t),e($t,ni),e(ni,Iu),e($t,Bu),e($t,oi),e(oi,Wu),e($t,Uu),e(st,Hu),e(st,Mt),e(Mt,si),e(si,Vu),e(Mt,Xu),e(Mt,ai),e(ai,Ru),e(Mt,Yu),e(ne,Ku),e(ne,ri),e(ri,Pt),e(Pt,ii),e(ii,Zu),e(Pt,Ju),e(Pt,li),e(li,Qu),e(Pt,eg),e(ne,tg),e(ne,di),e(di,Et),e(Et,pi),e(pi,ng),e(Et,og),e(Et,ci),e(ci,sg),e(Et,ag),e(ne,rg),e(ne,mi),e(mi,V),e(V,ui),e(ui,ig),e(V,lg),e(V,gi),e(gi,dg),e(V,pg),e(V,hi),e(hi,cg),e(V,mg),e(V,_i),e(_i,ug),e(V,gg),e(V,fi),e(fi,hg),e(V,_g),e(w,fg),e(w,le),u(Yn,le,null),e(le,bg),e(le,Kn),e(Kn,vg),e(Kn,bi),e(bi,yg),e(Kn,kg),e(le,xg),e(le,vi),e(vi,wg),e(le,Tg),u(Zn,le,null),e(w,jg),e(w,z),u(Jn,z,null),e(z,$g),e(z,yi),e(yi,Mg),e(z,Pg),e(z,at),e(at,Eg),e(at,ki),e(ki,Lg),e(at,qg),e(at,xi),e(xi,Fg),e(at,Og),e(z,zg),e(z,Qn),e(Qn,Dg),e(Qn,wi),e(wi,Ag),e(Qn,Gg),e(z,Sg),e(z,eo),e(eo,Ng),e(eo,Ti),e(Ti,Cg),e(eo,Ig),e(z,Bg),u(Lt,z,null),e(z,Wg),u(qt,z,null),e(z,Ug),e(z,ji),e(ji,Hg),e(z,Vg),u(to,z,null),e(w,Xg),e(w,Ft),u(no,Ft,null),e(Ft,Rg),e(Ft,$i),e($i,Yg),e(w,Kg),e(w,Ot),u(oo,Ot,null),e(Ot,Zg),e(Ot,Mi),e(Mi,Jg),e(w,Qg),e(w,Se),u(so,Se,null),e(Se,eh),e(Se,Pi),e(Pi,th),e(Se,nh),e(Se,Ei),e(Ei,oh),e(w,sh),e(w,Ne),u(ao,Ne,null),e(Ne,ah),e(Ne,Li),e(Li,rh),e(Ne,ih),e(Ne,qi),e(qi,lh),e(w,dh),e(w,zt),u(ro,zt,null),e(zt,ph),e(zt,Fi),e(Fi,ch),e(w,mh),e(w,Dt),u(io,Dt,null),e(Dt,uh),e(Dt,Oi),e(Oi,gh),e(w,hh),e(w,At),u(lo,At,null),e(At,_h),e(At,zi),e(zi,fh),e(w,bh),e(w,Ce),u(po,Ce,null),e(Ce,vh),e(Ce,Di),e(Di,yh),e(Ce,kh),u(Gt,Ce,null),e(w,xh),e(w,Ie),u(co,Ie,null),e(Ie,wh),e(Ie,mo),e(mo,Th),e(mo,Ai),e(Ai,jh),e(mo,$h),e(Ie,Mh),e(Ie,uo),e(uo,Ph),e(uo,Gi),e(Gi,Eh),e(uo,Lh),e(w,qh),e(w,St),u(go,St,null),e(St,Fh),e(St,ho),e(ho,Oh),e(ho,Si),e(Si,zh),e(ho,Dh),e(w,Ah),e(w,Nt),u(_o,Nt,null),e(Nt,Gh),e(Nt,Ni),e(Ni,Sh),e(w,Nh),e(w,Be),u(fo,Be,null),e(Be,Ch),e(Be,Ci),e(Ci,Ih),e(Be,Bh),e(Be,bo),e(bo,Wh),e(bo,Ii),e(Ii,Uh),e(bo,Hh),v(n,Np,b),v(n,Ka,b),v(n,Cp,b),v(n,rt,b),e(rt,Ct),e(Ct,Bi),u(vo,Bi,null),e(rt,Vh),e(rt,Wi),e(Wi,Xh),v(n,Ip,b),v(n,de,b),e(de,Rh),e(de,Ui),e(Ui,Yh),e(de,Kh),e(de,Hi),e(Hi,Zh),e(de,Jh),e(de,Vi),e(Vi,Qh),e(de,e_),v(n,Bp,b),u(yo,n,b),v(n,Wp,b),v(n,We,b),e(We,t_),e(We,Xi),e(Xi,n_),e(We,o_),e(We,Ri),e(Ri,s_),e(We,a_),v(n,Up,b),u(ko,n,b),v(n,Hp,b),v(n,It,b),e(It,r_),e(It,Yi),e(Yi,i_),e(It,l_),v(n,Vp,b),u(xo,n,b),v(n,Xp,b),v(n,Za,b),e(Za,d_),v(n,Rp,b),v(n,it,b),e(it,Bt),e(Bt,Ki),u(wo,Ki,null),e(it,p_),e(it,Zi),e(Zi,c_),v(n,Yp,b),v(n,L,b),u(To,L,null),e(L,m_),e(L,jo),e(jo,u_),e(jo,Ji),e(Ji,g_),e(jo,h_),e(L,__),e(L,Ue),u($o,Ue,null),e(Ue,f_),e(Ue,Qi),e(Qi,b_),e(Ue,v_),e(Ue,lt),e(lt,y_),e(lt,el),e(el,k_),e(lt,x_),e(lt,tl),e(tl,w_),e(lt,T_),e(L,j_),e(L,Wt),u(Mo,Wt,null),e(Wt,$_),e(Wt,nl),e(nl,M_),e(L,P_),e(L,Ut),u(Po,Ut,null),e(Ut,E_),e(Ut,dt),e(dt,L_),e(dt,ol),e(ol,q_),e(dt,F_),e(dt,Eo),e(Eo,O_),e(dt,z_),e(L,D_),e(L,Ht),u(Lo,Ht,null),e(Ht,A_),e(Ht,sl),e(sl,G_),e(L,S_),e(L,Vt),u(qo,Vt,null),e(Vt,N_),e(Vt,al),e(al,C_),e(L,I_),e(L,Xt),u(Fo,Xt,null),e(Xt,B_),e(Xt,rl),e(rl,W_),e(L,U_),e(L,Rt),u(Oo,Rt,null),e(Rt,H_),e(Rt,il),e(il,V_),e(L,X_),e(L,Yt),u(zo,Yt,null),e(Yt,R_),e(Yt,pt),e(pt,Y_),e(pt,ll),e(ll,K_),e(pt,Z_),e(pt,Ja),e(Ja,J_),e(pt,Q_),v(n,Kp,b),v(n,ct,b),e(ct,Kt),e(Kt,dl),u(Do,dl,null),e(ct,ef),e(ct,pl),e(pl,tf),v(n,Zp,b),v(n,y,b),u(Ao,y,null),e(y,nf),e(y,cl),e(cl,of),e(y,sf),e(y,Qa),e(Qa,er),e(er,af),e(Qa,rf),e(y,lf),e(y,Go),e(Go,ml),e(ml,df),e(Go,pf),e(Go,ul),e(ul,cf),e(y,mf),e(y,gl),e(gl,uf),e(y,gf),e(y,mt),e(mt,He),e(He,hl),e(hl,hf),e(He,_f),e(He,tr),e(tr,ff),e(He,bf),e(He,nr),e(nr,vf),e(He,yf),e(mt,kf),e(mt,Zt),e(Zt,_l),e(_l,xf),e(Zt,wf),e(Zt,fl),e(fl,Tf),e(Zt,jf),e(mt,$f),e(mt,X),e(X,bl),e(bl,Mf),e(X,Pf),e(X,vl),e(vl,Ef),e(X,Lf),e(X,yl),e(yl,qf),e(X,Ff),e(X,kl),e(kl,Of),e(X,zf),e(X,xl),e(xl,Df),e(X,Af),e(y,Gf),e(y,pe),u(So,pe,null),e(pe,Sf),e(pe,No),e(No,Nf),e(No,wl),e(wl,Cf),e(No,If),e(pe,Bf),e(pe,Tl),e(Tl,Wf),e(pe,Uf),u(Co,pe,null),e(y,Hf),e(y,Jt),u(Io,Jt,null),e(Jt,Vf),e(Jt,jl),e(jl,Xf),e(y,Rf),e(y,S),u(Bo,S,null),e(S,Yf),e(S,$l),e($l,Kf),e(S,Zf),e(S,Wo),e(Wo,Jf),e(Wo,Ml),e(Ml,Qf),e(Wo,eb),e(S,tb),e(S,Uo),e(Uo,nb),e(Uo,Pl),e(Pl,ob),e(Uo,sb),e(S,ab),u(Qt,S,null),e(S,rb),e(S,El),e(El,ib),e(S,lb),u(Ho,S,null),e(y,db),e(y,en),u(Vo,en,null),e(en,pb),e(en,Ll),e(Ll,cb),e(y,mb),e(y,tn),u(Xo,tn,null),e(tn,ub),e(tn,ql),e(ql,gb),e(y,hb),e(y,nn),u(Ro,nn,null),e(nn,_b),e(nn,Fl),e(Fl,fb),e(y,bb),e(y,on),u(Yo,on,null),e(on,vb),e(on,Ol),e(Ol,yb),e(y,kb),e(y,sn),u(Ko,sn,null),e(sn,xb),e(sn,zl),e(zl,wb),e(y,Tb),e(y,an),u(Zo,an,null),e(an,jb),e(an,Dl),e(Dl,$b),e(y,Mb),e(y,rn),u(Jo,rn,null),e(rn,Pb),e(rn,Al),e(Al,Eb),e(y,Lb),e(y,ln),u(Qo,ln,null),e(ln,qb),e(ln,Gl),e(Gl,Fb),e(y,Ob),e(y,Ve),u(es,Ve,null),e(Ve,zb),e(Ve,ts),e(ts,Db),e(ts,Sl),e(Sl,Ab),e(ts,Gb),e(Ve,Sb),e(Ve,ns),e(ns,Nb),e(ns,Nl),e(Nl,Cb),e(ns,Ib),e(y,Bb),e(y,dn),u(os,dn,null),e(dn,Wb),e(dn,ss),e(ss,Ub),e(ss,or),e(or,Hb),e(ss,Vb),e(y,Xb),e(y,pn),u(as,pn,null),e(pn,Rb),e(pn,Cl),e(Cl,Yb),e(y,Kb),e(y,cn),u(rs,cn,null),e(cn,Zb),e(cn,Il),e(Il,Jb),e(y,Qb),e(y,mn),u(is,mn,null),e(mn,ev),e(mn,Bl),e(Bl,tv),e(y,nv),e(y,un),u(ls,un,null),e(un,ov),e(un,Wl),e(Wl,sv),e(y,av),e(y,gn),u(ds,gn,null),e(gn,rv),e(gn,Ul),e(Ul,iv),e(y,lv),e(y,hn),u(ps,hn,null),e(hn,dv),e(hn,Hl),e(Hl,pv),e(y,cv),e(y,ce),u(cs,ce,null),e(ce,mv),e(ce,oe),e(oe,uv),e(oe,Vl),e(Vl,gv),e(oe,hv),e(oe,Xl),e(Xl,_v),e(oe,fv),e(oe,Rl),e(Rl,bv),e(oe,vv),e(oe,Yl),e(Yl,yv),e(oe,kv),e(ce,xv),e(ce,ut),e(ut,wv),e(ut,Kl),e(Kl,Tv),e(ut,jv),e(ut,Zl),e(Zl,$v),e(ut,Mv),e(ce,Pv),e(ce,gt),e(gt,Ev),e(gt,Jl),e(Jl,Lv),e(gt,qv),e(gt,Ql),e(Ql,Fv),e(gt,Ov),v(n,Jp,b),v(n,ht,b),e(ht,_n),e(_n,ed),u(ms,ed,null),e(ht,zv),e(ht,td),e(td,Dv),v(n,Qp,b),v(n,Pe,b),u(us,Pe,null),e(Pe,Av),e(Pe,gs),e(gs,Gv),e(gs,nd),e(nd,Sv),e(gs,Nv),e(Pe,Cv),e(Pe,fn),u(hs,fn,null),e(fn,Iv),e(fn,od),e(od,Bv),v(n,ec,b),v(n,_t,b),e(_t,bn),e(bn,sd),u(_s,sd,null),e(_t,Wv),e(_t,ad),e(ad,Uv),v(n,tc,b),v(n,M,b),u(fs,M,null),e(M,Hv),e(M,rd),e(rd,Vv),e(M,Xv),e(M,sr),e(sr,ar),e(ar,Rv),e(sr,Yv),e(M,Kv),e(M,id),e(id,Zv),e(M,Jv),e(M,ft),e(ft,Xe),e(Xe,ld),e(ld,Qv),e(Xe,ey),e(Xe,rr),e(rr,ty),e(Xe,ny),e(Xe,ir),e(ir,oy),e(Xe,sy),e(ft,ay),e(ft,vn),e(vn,dd),e(dd,ry),e(vn,iy),e(vn,pd),e(pd,ly),e(vn,dy),e(ft,py),e(ft,R),e(R,cd),e(cd,cy),e(R,my),e(R,md),e(md,uy),e(R,gy),e(R,ud),e(ud,hy),e(R,_y),e(R,gd),e(gd,fy),e(R,by),e(R,hd),e(hd,vy),e(R,yy),e(M,ky),e(M,me),u(bs,me,null),e(me,xy),e(me,vs),e(vs,wy),e(vs,_d),e(_d,Ty),e(vs,jy),e(me,$y),e(me,fd),e(fd,My),e(me,Py),u(ys,me,null),e(M,Ey),e(M,W),u(ks,W,null),e(W,Ly),e(W,bd),e(bd,qy),e(W,Fy),e(W,xs),e(xs,Oy),e(xs,vd),e(vd,zy),e(xs,Dy),e(W,Ay),e(W,ws),e(ws,Gy),e(ws,yd),e(yd,Sy),e(ws,Ny),e(W,Cy),e(W,kd),e(kd,Iy),e(W,By),u(Ts,W,null),e(M,Wy),e(M,Re),u(js,Re,null),e(Re,Uy),e(Re,xd),e(xd,Hy),e(Re,Vy),u(yn,Re,null),e(M,Xy),e(M,kn),u($s,kn,null),e(kn,Ry),e(kn,Ms),e(Ms,Yy),e(Ms,wd),e(wd,Ky),e(Ms,Zy),e(M,Jy),e(M,Y),u(Ps,Y,null),e(Y,Qy),e(Y,se),e(se,e1),e(se,Td),e(Td,t1),e(se,n1),e(se,jd),e(jd,o1),e(se,s1),e(se,$d),e($d,a1),e(se,r1),e(se,Md),e(Md,i1),e(se,l1),e(Y,d1),e(Y,Pd),e(Pd,p1),e(Y,c1),e(Y,Ed),e(Ed,m1),e(Y,u1),u(Es,Y,null),e(M,g1),e(M,K),u(Ls,K,null),e(K,h1),e(K,ae),e(ae,_1),e(ae,Ld),e(Ld,f1),e(ae,b1),e(ae,qd),e(qd,v1),e(ae,y1),e(ae,Fd),e(Fd,k1),e(ae,x1),e(ae,Od),e(Od,w1),e(ae,T1),e(K,j1),e(K,zd),e(zd,$1),e(K,M1),e(K,Dd),e(Dd,P1),e(K,E1),u(qs,K,null),e(M,L1),e(M,ue),u(Fs,ue,null),e(ue,q1),e(ue,re),e(re,F1),e(re,Ad),e(Ad,O1),e(re,z1),e(re,Gd),e(Gd,D1),e(re,A1),e(re,Sd),e(Sd,G1),e(re,S1),e(re,Nd),e(Nd,N1),e(re,C1),e(ue,I1),e(ue,Cd),e(Cd,B1),e(ue,W1),u(Os,ue,null),v(n,nc,b),v(n,bt,b),e(bt,xn),e(xn,Id),u(zs,Id,null),e(bt,U1),e(bt,Bd),e(Bd,H1),v(n,oc,b),v(n,P,b),u(Ds,P,null),e(P,V1),e(P,As),e(As,X1),e(As,lr),e(lr,R1),e(As,Y1),e(P,K1),e(P,wn),u(Gs,wn,null),e(wn,Z1),e(wn,Ss),e(Ss,J1),e(Ss,dr),e(dr,Q1),e(Ss,ek),e(P,tk),e(P,ge),u(Ns,ge,null),e(ge,nk),e(ge,Wd),e(Wd,ok),e(ge,sk),e(ge,Ud),e(Ud,ak),e(ge,rk),u(Cs,ge,null),e(P,ik),e(P,he),u(Is,he,null),e(he,lk),e(he,Hd),e(Hd,dk),e(he,pk),e(he,Vd),e(Vd,ck),e(he,mk),u(Bs,he,null),e(P,uk),e(P,Tn),u(Ws,Tn,null),e(Tn,gk),e(Tn,Xd),e(Xd,hk),e(P,_k),e(P,_e),u(Us,_e,null),e(_e,fk),e(_e,Rd),e(Rd,bk),e(_e,vk),e(_e,Yd),e(Yd,yk),e(_e,kk),u(Hs,_e,null),e(P,xk),e(P,U),u(Vs,U,null),e(U,wk),e(U,Kd),e(Kd,Tk),e(U,jk),e(U,vt),e(vt,$k),e(vt,Zd),e(Zd,Mk),e(vt,Pk),e(vt,pr),e(pr,Ek),e(vt,Lk),e(U,qk),e(U,Xs),e(Xs,Fk),e(Xs,Rs),e(Rs,Ok),e(Xs,zk),e(U,Dk),e(U,Jd),e(Jd,Ak),e(U,Gk),u(Ys,U,null),e(P,Sk),e(P,fe),u(Ks,fe,null),e(fe,Nk),e(fe,Qd),e(Qd,Ck),e(fe,Ik),e(fe,ep),e(ep,Bk),e(fe,Wk),u(Zs,fe,null),e(P,Uk),e(P,be),u(Js,be,null),e(be,Hk),e(be,tp),e(tp,Vk),e(be,Xk),e(be,np),e(np,Rk),e(be,Yk),u(Qs,be,null),e(P,Kk),e(P,jn),u(ea,jn,null),e(jn,Zk),e(jn,ta),e(ta,Jk),e(ta,cr),e(cr,Qk),e(ta,ex),e(P,tx),e(P,ve),u(na,ve,null),e(ve,nx),e(ve,op),e(op,ox),e(ve,sx),e(ve,sp),e(sp,ax),e(ve,rx),u(oa,ve,null),v(n,sc,b),v(n,G,b),u(sa,G,null),e(G,ix),e(G,aa),e(aa,lx),e(aa,mr),e(mr,dx),e(aa,px),e(G,cx),e(G,$n),u(ra,$n,null),e($n,mx),e($n,ia),e(ia,ux),e(ia,ur),e(ur,gx),e(ia,hx),e(G,_x),e(G,N),u(la,N,null),e(N,fx),e(N,ap),e(ap,bx),e(N,vx),e(N,da),e(da,yx),e(da,pa),e(pa,kx),e(da,xx),e(N,wx),e(N,Ee),e(Ee,Tx),e(Ee,rp),e(rp,jx),e(Ee,$x),e(Ee,ip),e(ip,Mx),e(Ee,Px),e(Ee,gr),e(gr,Ex),e(Ee,Lx),e(N,qx),e(N,ca),e(ca,Fx),e(ca,ma),e(ma,Ox),e(ca,zx),e(N,Dx),e(N,lp),e(lp,Ax),e(N,Gx),u(ua,N,null),e(G,Sx),e(G,ye),u(ga,ye,null),e(ye,Nx),e(ye,dp),e(dp,Cx),e(ye,Ix),e(ye,pp),e(pp,Bx),e(ye,Wx),u(ha,ye,null),e(G,Ux),e(G,Mn),u(_a,Mn,null),e(Mn,Hx),e(Mn,fa),e(fa,Vx),e(fa,hr),e(hr,Xx),e(fa,Rx),e(G,Yx),e(G,ke),u(ba,ke,null),e(ke,Kx),e(ke,cp),e(cp,Zx),e(ke,Jx),e(ke,mp),e(mp,Qx),e(ke,ew),u(va,ke,null),v(n,ac,b),v(n,Le,b),u(ya,Le,null),e(Le,tw),e(Le,ka),e(ka,nw),e(ka,_r),e(_r,ow),e(ka,sw),e(Le,aw),e(Le,H),u(xa,H,null),e(H,rw),e(H,up),e(up,iw),e(H,lw),e(H,yt),e(yt,dw),e(yt,gp),e(gp,pw),e(yt,cw),e(yt,fr),e(fr,mw),e(yt,uw),e(H,gw),e(H,wa),e(wa,hw),e(wa,Ta),e(Ta,_w),e(wa,fw),e(H,bw),e(H,hp),e(hp,vw),e(H,yw),u(ja,H,null),v(n,rc,b),v(n,kt,b),e(kt,Pn),e(Pn,_p),u($a,_p,null),e(kt,kw),e(kt,fp),e(fp,xw),v(n,ic,b),v(n,qe,b),u(Ma,qe,null),e(qe,ww),e(qe,bp),e(bp,Tw),e(qe,jw),e(qe,xe),u(Pa,xe,null),e(xe,$w),e(xe,Ea),e(Ea,Mw),e(Ea,vp),e(vp,Pw),e(Ea,Ew),e(xe,Lw),e(xe,yp),e(yp,qw),e(xe,Fw),u(La,xe,null),lc=!0},p(n,[b]){const qa={};b&2&&(qa.$$scope={dirty:b,ctx:n}),Lt.$set(qa);const kp={};b&2&&(kp.$$scope={dirty:b,ctx:n}),qt.$set(kp);const xp={};b&2&&(xp.$$scope={dirty:b,ctx:n}),Gt.$set(xp);const wp={};b&2&&(wp.$$scope={dirty:b,ctx:n}),Qt.$set(wp);const Fe={};b&2&&(Fe.$$scope={dirty:b,ctx:n}),yn.$set(Fe)},i(n){lc||(g(A.$$.fragment,n),g(Hn.$$.fragment,n),g(Vn.$$.fragment,n),g(Yn.$$.fragment,n),g(Zn.$$.fragment,n),g(Jn.$$.fragment,n),g(Lt.$$.fragment,n),g(qt.$$.fragment,n),g(to.$$.fragment,n),g(no.$$.fragment,n),g(oo.$$.fragment,n),g(so.$$.fragment,n),g(ao.$$.fragment,n),g(ro.$$.fragment,n),g(io.$$.fragment,n),g(lo.$$.fragment,n),g(po.$$.fragment,n),g(Gt.$$.fragment,n),g(co.$$.fragment,n),g(go.$$.fragment,n),g(_o.$$.fragment,n),g(fo.$$.fragment,n),g(vo.$$.fragment,n),g(yo.$$.fragment,n),g(ko.$$.fragment,n),g(xo.$$.fragment,n),g(wo.$$.fragment,n),g(To.$$.fragment,n),g($o.$$.fragment,n),g(Mo.$$.fragment,n),g(Po.$$.fragment,n),g(Lo.$$.fragment,n),g(qo.$$.fragment,n),g(Fo.$$.fragment,n),g(Oo.$$.fragment,n),g(zo.$$.fragment,n),g(Do.$$.fragment,n),g(Ao.$$.fragment,n),g(So.$$.fragment,n),g(Co.$$.fragment,n),g(Io.$$.fragment,n),g(Bo.$$.fragment,n),g(Qt.$$.fragment,n),g(Ho.$$.fragment,n),g(Vo.$$.fragment,n),g(Xo.$$.fragment,n),g(Ro.$$.fragment,n),g(Yo.$$.fragment,n),g(Ko.$$.fragment,n),g(Zo.$$.fragment,n),g(Jo.$$.fragment,n),g(Qo.$$.fragment,n),g(es.$$.fragment,n),g(os.$$.fragment,n),g(as.$$.fragment,n),g(rs.$$.fragment,n),g(is.$$.fragment,n),g(ls.$$.fragment,n),g(ds.$$.fragment,n),g(ps.$$.fragment,n),g(cs.$$.fragment,n),g(ms.$$.fragment,n),g(us.$$.fragment,n),g(hs.$$.fragment,n),g(_s.$$.fragment,n),g(fs.$$.fragment,n),g(bs.$$.fragment,n),g(ys.$$.fragment,n),g(ks.$$.fragment,n),g(Ts.$$.fragment,n),g(js.$$.fragment,n),g(yn.$$.fragment,n),g($s.$$.fragment,n),g(Ps.$$.fragment,n),g(Es.$$.fragment,n),g(Ls.$$.fragment,n),g(qs.$$.fragment,n),g(Fs.$$.fragment,n),g(Os.$$.fragment,n),g(zs.$$.fragment,n),g(Ds.$$.fragment,n),g(Gs.$$.fragment,n),g(Ns.$$.fragment,n),g(Cs.$$.fragment,n),g(Is.$$.fragment,n),g(Bs.$$.fragment,n),g(Ws.$$.fragment,n),g(Us.$$.fragment,n),g(Hs.$$.fragment,n),g(Vs.$$.fragment,n),g(Ys.$$.fragment,n),g(Ks.$$.fragment,n),g(Zs.$$.fragment,n),g(Js.$$.fragment,n),g(Qs.$$.fragment,n),g(ea.$$.fragment,n),g(na.$$.fragment,n),g(oa.$$.fragment,n),g(sa.$$.fragment,n),g(ra.$$.fragment,n),g(la.$$.fragment,n),g(ua.$$.fragment,n),g(ga.$$.fragment,n),g(ha.$$.fragment,n),g(_a.$$.fragment,n),g(ba.$$.fragment,n),g(va.$$.fragment,n),g(ya.$$.fragment,n),g(xa.$$.fragment,n),g(ja.$$.fragment,n),g($a.$$.fragment,n),g(Ma.$$.fragment,n),g(Pa.$$.fragment,n),g(La.$$.fragment,n),lc=!0)},o(n){h(A.$$.fragment,n),h(Hn.$$.fragment,n),h(Vn.$$.fragment,n),h(Yn.$$.fragment,n),h(Zn.$$.fragment,n),h(Jn.$$.fragment,n),h(Lt.$$.fragment,n),h(qt.$$.fragment,n),h(to.$$.fragment,n),h(no.$$.fragment,n),h(oo.$$.fragment,n),h(so.$$.fragment,n),h(ao.$$.fragment,n),h(ro.$$.fragment,n),h(io.$$.fragment,n),h(lo.$$.fragment,n),h(po.$$.fragment,n),h(Gt.$$.fragment,n),h(co.$$.fragment,n),h(go.$$.fragment,n),h(_o.$$.fragment,n),h(fo.$$.fragment,n),h(vo.$$.fragment,n),h(yo.$$.fragment,n),h(ko.$$.fragment,n),h(xo.$$.fragment,n),h(wo.$$.fragment,n),h(To.$$.fragment,n),h($o.$$.fragment,n),h(Mo.$$.fragment,n),h(Po.$$.fragment,n),h(Lo.$$.fragment,n),h(qo.$$.fragment,n),h(Fo.$$.fragment,n),h(Oo.$$.fragment,n),h(zo.$$.fragment,n),h(Do.$$.fragment,n),h(Ao.$$.fragment,n),h(So.$$.fragment,n),h(Co.$$.fragment,n),h(Io.$$.fragment,n),h(Bo.$$.fragment,n),h(Qt.$$.fragment,n),h(Ho.$$.fragment,n),h(Vo.$$.fragment,n),h(Xo.$$.fragment,n),h(Ro.$$.fragment,n),h(Yo.$$.fragment,n),h(Ko.$$.fragment,n),h(Zo.$$.fragment,n),h(Jo.$$.fragment,n),h(Qo.$$.fragment,n),h(es.$$.fragment,n),h(os.$$.fragment,n),h(as.$$.fragment,n),h(rs.$$.fragment,n),h(is.$$.fragment,n),h(ls.$$.fragment,n),h(ds.$$.fragment,n),h(ps.$$.fragment,n),h(cs.$$.fragment,n),h(ms.$$.fragment,n),h(us.$$.fragment,n),h(hs.$$.fragment,n),h(_s.$$.fragment,n),h(fs.$$.fragment,n),h(bs.$$.fragment,n),h(ys.$$.fragment,n),h(ks.$$.fragment,n),h(Ts.$$.fragment,n),h(js.$$.fragment,n),h(yn.$$.fragment,n),h($s.$$.fragment,n),h(Ps.$$.fragment,n),h(Es.$$.fragment,n),h(Ls.$$.fragment,n),h(qs.$$.fragment,n),h(Fs.$$.fragment,n),h(Os.$$.fragment,n),h(zs.$$.fragment,n),h(Ds.$$.fragment,n),h(Gs.$$.fragment,n),h(Ns.$$.fragment,n),h(Cs.$$.fragment,n),h(Is.$$.fragment,n),h(Bs.$$.fragment,n),h(Ws.$$.fragment,n),h(Us.$$.fragment,n),h(Hs.$$.fragment,n),h(Vs.$$.fragment,n),h(Ys.$$.fragment,n),h(Ks.$$.fragment,n),h(Zs.$$.fragment,n),h(Js.$$.fragment,n),h(Qs.$$.fragment,n),h(ea.$$.fragment,n),h(na.$$.fragment,n),h(oa.$$.fragment,n),h(sa.$$.fragment,n),h(ra.$$.fragment,n),h(la.$$.fragment,n),h(ua.$$.fragment,n),h(ga.$$.fragment,n),h(ha.$$.fragment,n),h(_a.$$.fragment,n),h(ba.$$.fragment,n),h(va.$$.fragment,n),h(ya.$$.fragment,n),h(xa.$$.fragment,n),h(ja.$$.fragment,n),h($a.$$.fragment,n),h(Ma.$$.fragment,n),h(Pa.$$.fragment,n),h(La.$$.fragment,n),lc=!1},d(n){t(x),n&&t(E),n&&t(T),_(A),n&&t(Op),n&&t(ie),n&&t(zp),n&&t(nt),n&&t(Dp),n&&t(wt),n&&t(Ap),n&&t(B),n&&t(Gp),n&&t(ot),_(Hn),n&&t(Sp),n&&t(w),_(Vn),_(Yn),_(Zn),_(Jn),_(Lt),_(qt),_(to),_(no),_(oo),_(so),_(ao),_(ro),_(io),_(lo),_(po),_(Gt),_(co),_(go),_(_o),_(fo),n&&t(Np),n&&t(Ka),n&&t(Cp),n&&t(rt),_(vo),n&&t(Ip),n&&t(de),n&&t(Bp),_(yo,n),n&&t(Wp),n&&t(We),n&&t(Up),_(ko,n),n&&t(Hp),n&&t(It),n&&t(Vp),_(xo,n),n&&t(Xp),n&&t(Za),n&&t(Rp),n&&t(it),_(wo),n&&t(Yp),n&&t(L),_(To),_($o),_(Mo),_(Po),_(Lo),_(qo),_(Fo),_(Oo),_(zo),n&&t(Kp),n&&t(ct),_(Do),n&&t(Zp),n&&t(y),_(Ao),_(So),_(Co),_(Io),_(Bo),_(Qt),_(Ho),_(Vo),_(Xo),_(Ro),_(Yo),_(Ko),_(Zo),_(Jo),_(Qo),_(es),_(os),_(as),_(rs),_(is),_(ls),_(ds),_(ps),_(cs),n&&t(Jp),n&&t(ht),_(ms),n&&t(Qp),n&&t(Pe),_(us),_(hs),n&&t(ec),n&&t(_t),_(_s),n&&t(tc),n&&t(M),_(fs),_(bs),_(ys),_(ks),_(Ts),_(js),_(yn),_($s),_(Ps),_(Es),_(Ls),_(qs),_(Fs),_(Os),n&&t(nc),n&&t(bt),_(zs),n&&t(oc),n&&t(P),_(Ds),_(Gs),_(Ns),_(Cs),_(Is),_(Bs),_(Ws),_(Us),_(Hs),_(Vs),_(Ys),_(Ks),_(Zs),_(Js),_(Qs),_(ea),_(na),_(oa),n&&t(sc),n&&t(G),_(sa),_(ra),_(la),_(ua),_(ga),_(ha),_(_a),_(ba),_(va),n&&t(ac),n&&t(Le),_(ya),_(xa),_(ja),n&&t(rc),n&&t(kt),_($a),n&&t(ic),n&&t(qe),_(Ma),_(Pa),_(La)}}}const f4={local:"models",sections:[{local:"transformers.PreTrainedModel",sections:[{local:"model-instantiation-dtype",title:"Model Instantiation dtype"}],title:"PreTrainedModel"},{local:"transformers.modeling_utils.ModuleUtilsMixin",title:"ModuleUtilsMixin"},{local:"transformers.TFPreTrainedModel",title:"TFPreTrainedModel"},{local:"transformers.modeling_tf_utils.TFModelUtilsMixin",title:"TFModelUtilsMixin"},{local:"transformers.FlaxPreTrainedModel",title:"FlaxPreTrainedModel"},{local:"transformers.generation_utils.GenerationMixin",title:"Generation"},{local:"transformers.file_utils.PushToHubMixin",title:"Pushing to the Hub"}],title:"Models"};function b4(ee,x,E){let{fw:T}=x;return ee.$$set=$=>{"fw"in $&&E(0,T=$.fw)},[T]}class j4 extends i4{constructor(x){super();l4(this,x,b4,_4,d4,{fw:0})}}export{j4 as default,f4 as metadata};
