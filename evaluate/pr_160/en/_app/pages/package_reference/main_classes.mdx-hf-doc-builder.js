import{S as ma,i as fa,s as va,e as o,k as l,w as _,t as s,M as ha,c as n,d as a,m as d,a as r,x as E,h as i,b as c,G as e,g as h,y as b,L as ga,q as $,o as y,B as w,v as _a}from"../../chunks/vendor-hf-doc-builder.js";import{D as J}from"../../chunks/Docstring-hf-doc-builder.js";import{I as Jt}from"../../chunks/IconCopyLink-hf-doc-builder.js";function Ea(Rt){let k,xe,I,O,oe,R,Re,ne,qe,ke,N,C,re,q,Be,se,He,Ie,u,B,We,g,ze,ie,Ge,Ke,le,je,Qe,de,Xe,Ye,Ze,Z,ce,et,tt,at,ue,ot,nt,A,H,rt,W,st,pe,it,lt,dt,S,z,ct,D,ut,me,pt,mt,fe,ft,vt,Ne,P,L,ve,G,ht,he,gt,De,M,_t,ge,Et,bt,_e,$t,yt,Pe,p,K,wt,Ee,Mt,xt,T,j,kt,be,It,Nt,V,Q,Dt,$e,Pt,Ot,x,X,Ct,ye,At,St,we,Lt,Tt,F,Y,Vt,Me,Ft,Oe;return R=new Jt({}),q=new Jt({}),B=new J({props:{name:"class evaluate.EvaluationModuleInfo",anchor:"evaluate.EvaluationModuleInfo",parameters:[{name:"description",val:": str"},{name:"citation",val:": str"},{name:"features",val:": typing.Union[datasets.features.features.Features, typing.List[datasets.features.features.Features]]"},{name:"inputs_description",val:": str = <factory>"},{name:"homepage",val:": str = <factory>"},{name:"license",val:": str = <factory>"},{name:"codebase_urls",val:": typing.List[str] = <factory>"},{name:"reference_urls",val:": typing.List[str] = <factory>"},{name:"streamable",val:": bool = False"},{name:"format",val:": typing.Optional[str] = None"},{name:"module_type",val:": str = 'metric'"},{name:"module_name",val:": typing.Optional[str] = None"},{name:"config_name",val:": typing.Optional[str] = None"},{name:"experiment_id",val:": typing.Optional[str] = None"}],source:"https://github.com/huggingface/evaluate/blob/vr_160/src/evaluate/info.py#L35"}}),H=new J({props:{name:"from_directory",anchor:"evaluate.EvaluationModuleInfo.from_directory",parameters:[{name:"metric_info_dir",val:""}],source:"https://github.com/huggingface/evaluate/blob/vr_160/src/evaluate/info.py#L82"}}),z=new J({props:{name:"write_to_directory",anchor:"evaluate.EvaluationModuleInfo.write_to_directory",parameters:[{name:"metric_info_dir",val:""}],source:"https://github.com/huggingface/evaluate/blob/vr_160/src/evaluate/info.py#L72"}}),G=new Jt({}),K=new J({props:{name:"class evaluate.EvaluationModule",anchor:"evaluate.EvaluationModule",parameters:[{name:"config_name",val:": typing.Optional[str] = None"},{name:"keep_in_memory",val:": bool = False"},{name:"cache_dir",val:": typing.Optional[str] = None"},{name:"num_process",val:": int = 1"},{name:"process_id",val:": int = 0"},{name:"seed",val:": typing.Optional[int] = None"},{name:"experiment_id",val:": typing.Optional[str] = None"},{name:"max_concurrent_cache_files",val:": int = 10000"},{name:"timeout",val:": typing.Union[int, float] = 100"},{name:"**kwargs",val:""}],parametersDescription:[{anchor:"evaluate.EvaluationModule.config_name",description:`<strong>config_name</strong> (<code>str</code>) &#x2014; This is used to define a hash specific to a module computation script and prevents the module&#x2019;s data
to be overridden when the module loading script is modified.`,name:"config_name"},{anchor:"evaluate.EvaluationModule.keep_in_memory",description:"<strong>keep_in_memory</strong> (<code>bool</code>) &#x2014; keep all predictions and references in memory. Not possible in distributed settings.",name:"keep_in_memory"},{anchor:"evaluate.EvaluationModule.cache_dir",description:`<strong>cache_dir</strong> (<code>str</code>) &#x2014; Path to a directory in which temporary prediction/references data will be stored.
The data directory should be located on a shared file-system in distributed setups.`,name:"cache_dir"},{anchor:"evaluate.EvaluationModule.num_process",description:`<strong>num_process</strong> (<code>int</code>) &#x2014; specify the total number of nodes in a distributed settings.
This is useful to compute module in distributed setups (in particular non-additive modules like F1).`,name:"num_process"},{anchor:"evaluate.EvaluationModule.process_id",description:`<strong>process_id</strong> (<code>int</code>) &#x2014; specify the id of the current process in a distributed setup (between 0 and num_process-1)
This is useful to compute module in distributed setups (in particular non-additive metrics like F1).`,name:"process_id"},{anchor:"evaluate.EvaluationModule.seed",description:'<strong>seed</strong> (<code>int</code>, optional) &#x2014; If specified, this will temporarily set numpy&#x2019;s random seed when <a href="/docs/evaluate/pr_160/en/package_reference/main_classes#evaluate.EvaluationModule.compute">evaluate.EvaluationModule.compute()</a> is run.',name:"seed"},{anchor:"evaluate.EvaluationModule.experiment_id",description:`<strong>experiment_id</strong> (<code>str</code>) &#x2014; A specific experiment id. This is used if several distributed evaluations share the same file system.
This is useful to compute module in distributed setups (in particular non-additive metrics like F1).`,name:"experiment_id"},{anchor:"evaluate.EvaluationModule.max_concurrent_cache_files",description:"<strong>max_concurrent_cache_files</strong> (<code>int</code>) &#x2014; Max number of concurrent module cache files (default 10000).",name:"max_concurrent_cache_files"},{anchor:"evaluate.EvaluationModule.timeout",description:"<strong>timeout</strong> (<code>Union[int, float]</code>) &#x2014; Timeout in second for distributed setting synchronization.",name:"timeout"}],source:"https://github.com/huggingface/evaluate/blob/vr_160/src/evaluate/module.py#L143"}}),j=new J({props:{name:"add",anchor:"evaluate.EvaluationModule.add",parameters:[{name:"prediction",val:" = None"},{name:"reference",val:" = None"},{name:"**kwargs",val:""}],parametersDescription:[{anchor:"evaluate.EvaluationModule.add.prediction",description:"<strong>prediction</strong> (list/array/tensor, optional) &#x2014; Predictions.",name:"prediction"},{anchor:"evaluate.EvaluationModule.add.reference",description:"<strong>reference</strong> (list/array/tensor, optional) &#x2014; References.",name:"reference"}],source:"https://github.com/huggingface/evaluate/blob/vr_160/src/evaluate/module.py#L505"}}),Q=new J({props:{name:"add_batch",anchor:"evaluate.EvaluationModule.add_batch",parameters:[{name:"predictions",val:" = None"},{name:"references",val:" = None"},{name:"**kwargs",val:""}],parametersDescription:[{anchor:"evaluate.EvaluationModule.add_batch.predictions",description:"<strong>predictions</strong> (list/array/tensor, optional) &#x2014; Predictions.",name:"predictions"},{anchor:"evaluate.EvaluationModule.add_batch.references",description:"<strong>references</strong> (list/array/tensor, optional) &#x2014; References.",name:"references"}],source:"https://github.com/huggingface/evaluate/blob/vr_160/src/evaluate/module.py#L458"}}),X=new J({props:{name:"compute",anchor:"evaluate.EvaluationModule.compute",parameters:[{name:"predictions",val:" = None"},{name:"references",val:" = None"},{name:"**kwargs",val:""}],parametersDescription:[{anchor:"evaluate.EvaluationModule.compute.predictions",description:"<strong>predictions</strong> (list/array/tensor, optional) &#x2014; Predictions.",name:"predictions"},{anchor:"evaluate.EvaluationModule.compute.references",description:"<strong>references</strong> (list/array/tensor, optional) &#x2014; References.",name:"references"},{anchor:"evaluate.EvaluationModule.compute.*kwargs",description:`*<strong>*kwargs</strong> (optional) &#x2014; Keyword arguments that will be forwarded to the evaluation module <code>_compute</code>
method (see details in the docstring).`,name:"*kwargs"}],source:"https://github.com/huggingface/evaluate/blob/vr_160/src/evaluate/module.py#L394",returnDescription:`
<p>dict or None</p>
<ul>
<li>Dictionary with the results if this evaluation module is run on the main process (<code>process_id == 0</code>).</li>
<li>None if the evaluation module is not run on the main process (<code>process_id != 0</code>).</li>
</ul>
`}}),Y=new J({props:{name:"download_and_prepare",anchor:"evaluate.EvaluationModule.download_and_prepare",parameters:[{name:"download_config",val:": typing.Optional[evaluate.utils.file_utils.DownloadConfig] = None"},{name:"dl_manager",val:": typing.Optional[datasets.download.download_manager.DownloadManager] = None"}],parametersDescription:[{anchor:"evaluate.EvaluationModule.download_and_prepare.download_config",description:"<strong>download_config</strong> (<code>DownloadConfig</code>, optional) &#x2014; Specific download configuration parameters.",name:"download_config"},{anchor:"evaluate.EvaluationModule.download_and_prepare.dl_manager",description:"<strong>dl_manager</strong> (<code>DownloadManager</code>, optional) &#x2014; Specific download manager to use.",name:"dl_manager"}],source:"https://github.com/huggingface/evaluate/blob/vr_160/src/evaluate/module.py#L622"}}),{c(){k=o("meta"),xe=l(),I=o("h1"),O=o("a"),oe=o("span"),_(R.$$.fragment),Re=l(),ne=o("span"),qe=s("Main classes"),ke=l(),N=o("h2"),C=o("a"),re=o("span"),_(q.$$.fragment),Be=l(),se=o("span"),He=s("EvaluationModuleInfo"),Ie=l(),u=o("div"),_(B.$$.fragment),We=l(),g=o("p"),ze=s("Base class to store fnformation about an evaluation used for "),ie=o("code"),Ge=s("MetricInfo"),Ke=s(", "),le=o("code"),je=s("ComparisonInfo"),Qe=s(`,
and `),de=o("code"),Xe=s("MeasurementInfo"),Ye=s("."),Ze=l(),Z=o("p"),ce=o("code"),et=s("EvaluationModuleInfo"),tt=s(` documents an evaluation, including its name, version, and features.
See the constructor arguments and properties for a full list.`),at=l(),ue=o("p"),ot=s("Note: Not all fields are known on construction and may be updated later."),nt=l(),A=o("div"),_(H.$$.fragment),rt=l(),W=o("p"),st=s("Create EvaluationModuleInfo from the JSON file in "),pe=o("code"),it=s("metric_info_dir"),lt=s("."),dt=l(),S=o("div"),_(z.$$.fragment),ct=l(),D=o("p"),ut=s("Write "),me=o("code"),pt=s("EvaluationModuleInfo"),mt=s(" as JSON to "),fe=o("code"),ft=s("metric_info_dir"),vt=s(`.
Also save the license separately in LICENCE.`),Ne=l(),P=o("h2"),L=o("a"),ve=o("span"),_(G.$$.fragment),ht=l(),he=o("span"),gt=s("EvaluationModule"),De=l(),M=o("p"),_t=s("The base class "),ge=o("code"),Et=s("Metric"),bt=s(" implements a Metric backed by one or several "),_e=o("code"),$t=s("Dataset"),yt=s("."),Pe=l(),p=o("div"),_(K.$$.fragment),wt=l(),Ee=o("p"),Mt=s("A EvaluationModule is the base class and common API for metrics, comparisons, and measurements."),xt=l(),T=o("div"),_(j.$$.fragment),kt=l(),be=o("p"),It=s("Add one prediction and reference for the evaluation module\u2019s stack."),Nt=l(),V=o("div"),_(Q.$$.fragment),Dt=l(),$e=o("p"),Pt=s("Add a batch of predictions and references for the evaluation module\u2019s stack."),Ot=l(),x=o("div"),_(X.$$.fragment),Ct=l(),ye=o("p"),At=s("Compute the evaluation module."),St=l(),we=o("p"),Lt=s("Usage of positional arguments is not allowed to prevent mistakes."),Tt=l(),F=o("div"),_(Y.$$.fragment),Vt=l(),Me=o("p"),Ft=s("Downloads and prepares dataset for reading."),this.h()},l(t){const m=ha('[data-svelte="svelte-1phssyn"]',document.head);k=n(m,"META",{name:!0,content:!0}),m.forEach(a),xe=d(t),I=n(t,"H1",{class:!0});var Ce=r(I);O=n(Ce,"A",{id:!0,class:!0,href:!0});var qt=r(O);oe=n(qt,"SPAN",{});var Bt=r(oe);E(R.$$.fragment,Bt),Bt.forEach(a),qt.forEach(a),Re=d(Ce),ne=n(Ce,"SPAN",{});var Ht=r(ne);qe=i(Ht,"Main classes"),Ht.forEach(a),Ce.forEach(a),ke=d(t),N=n(t,"H2",{class:!0});var Ae=r(N);C=n(Ae,"A",{id:!0,class:!0,href:!0});var Wt=r(C);re=n(Wt,"SPAN",{});var zt=r(re);E(q.$$.fragment,zt),zt.forEach(a),Wt.forEach(a),Be=d(Ae),se=n(Ae,"SPAN",{});var Gt=r(se);He=i(Gt,"EvaluationModuleInfo"),Gt.forEach(a),Ae.forEach(a),Ie=d(t),u=n(t,"DIV",{class:!0});var f=r(u);E(B.$$.fragment,f),We=d(f),g=n(f,"P",{});var U=r(g);ze=i(U,"Base class to store fnformation about an evaluation used for "),ie=n(U,"CODE",{});var Kt=r(ie);Ge=i(Kt,"MetricInfo"),Kt.forEach(a),Ke=i(U,", "),le=n(U,"CODE",{});var jt=r(le);je=i(jt,"ComparisonInfo"),jt.forEach(a),Qe=i(U,`,
and `),de=n(U,"CODE",{});var Qt=r(de);Xe=i(Qt,"MeasurementInfo"),Qt.forEach(a),Ye=i(U,"."),U.forEach(a),Ze=d(f),Z=n(f,"P",{});var Ut=r(Z);ce=n(Ut,"CODE",{});var Xt=r(ce);et=i(Xt,"EvaluationModuleInfo"),Xt.forEach(a),tt=i(Ut,` documents an evaluation, including its name, version, and features.
See the constructor arguments and properties for a full list.`),Ut.forEach(a),at=d(f),ue=n(f,"P",{});var Yt=r(ue);ot=i(Yt,"Note: Not all fields are known on construction and may be updated later."),Yt.forEach(a),nt=d(f),A=n(f,"DIV",{class:!0});var Se=r(A);E(H.$$.fragment,Se),rt=d(Se),W=n(Se,"P",{});var Le=r(W);st=i(Le,"Create EvaluationModuleInfo from the JSON file in "),pe=n(Le,"CODE",{});var Zt=r(pe);it=i(Zt,"metric_info_dir"),Zt.forEach(a),lt=i(Le,"."),Le.forEach(a),Se.forEach(a),dt=d(f),S=n(f,"DIV",{class:!0});var Te=r(S);E(z.$$.fragment,Te),ct=d(Te),D=n(Te,"P",{});var ee=r(D);ut=i(ee,"Write "),me=n(ee,"CODE",{});var ea=r(me);pt=i(ea,"EvaluationModuleInfo"),ea.forEach(a),mt=i(ee," as JSON to "),fe=n(ee,"CODE",{});var ta=r(fe);ft=i(ta,"metric_info_dir"),ta.forEach(a),vt=i(ee,`.
Also save the license separately in LICENCE.`),ee.forEach(a),Te.forEach(a),f.forEach(a),Ne=d(t),P=n(t,"H2",{class:!0});var Ve=r(P);L=n(Ve,"A",{id:!0,class:!0,href:!0});var aa=r(L);ve=n(aa,"SPAN",{});var oa=r(ve);E(G.$$.fragment,oa),oa.forEach(a),aa.forEach(a),ht=d(Ve),he=n(Ve,"SPAN",{});var na=r(he);gt=i(na,"EvaluationModule"),na.forEach(a),Ve.forEach(a),De=d(t),M=n(t,"P",{});var te=r(M);_t=i(te,"The base class "),ge=n(te,"CODE",{});var ra=r(ge);Et=i(ra,"Metric"),ra.forEach(a),bt=i(te," implements a Metric backed by one or several "),_e=n(te,"CODE",{});var sa=r(_e);$t=i(sa,"Dataset"),sa.forEach(a),yt=i(te,"."),te.forEach(a),Pe=d(t),p=n(t,"DIV",{class:!0});var v=r(p);E(K.$$.fragment,v),wt=d(v),Ee=n(v,"P",{});var ia=r(Ee);Mt=i(ia,"A EvaluationModule is the base class and common API for metrics, comparisons, and measurements."),ia.forEach(a),xt=d(v),T=n(v,"DIV",{class:!0});var Fe=r(T);E(j.$$.fragment,Fe),kt=d(Fe),be=n(Fe,"P",{});var la=r(be);It=i(la,"Add one prediction and reference for the evaluation module\u2019s stack."),la.forEach(a),Fe.forEach(a),Nt=d(v),V=n(v,"DIV",{class:!0});var Ue=r(V);E(Q.$$.fragment,Ue),Dt=d(Ue),$e=n(Ue,"P",{});var da=r($e);Pt=i(da,"Add a batch of predictions and references for the evaluation module\u2019s stack."),da.forEach(a),Ue.forEach(a),Ot=d(v),x=n(v,"DIV",{class:!0});var ae=r(x);E(X.$$.fragment,ae),Ct=d(ae),ye=n(ae,"P",{});var ca=r(ye);At=i(ca,"Compute the evaluation module."),ca.forEach(a),St=d(ae),we=n(ae,"P",{});var ua=r(we);Lt=i(ua,"Usage of positional arguments is not allowed to prevent mistakes."),ua.forEach(a),ae.forEach(a),Tt=d(v),F=n(v,"DIV",{class:!0});var Je=r(F);E(Y.$$.fragment,Je),Vt=d(Je),Me=n(Je,"P",{});var pa=r(Me);Ft=i(pa,"Downloads and prepares dataset for reading."),pa.forEach(a),Je.forEach(a),v.forEach(a),this.h()},h(){c(k,"name","hf:doc:metadata"),c(k,"content",JSON.stringify(ba)),c(O,"id","main-classes"),c(O,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),c(O,"href","#main-classes"),c(I,"class","relative group"),c(C,"id","evaluate.EvaluationModuleInfo"),c(C,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),c(C,"href","#evaluate.EvaluationModuleInfo"),c(N,"class","relative group"),c(A,"class","docstring border-l-2 border-t-2 pl-4 pt-3.5 border-gray-100 rounded-tl-xl mb-6 mt-8"),c(S,"class","docstring border-l-2 border-t-2 pl-4 pt-3.5 border-gray-100 rounded-tl-xl mb-6 mt-8"),c(u,"class","docstring border-l-2 border-t-2 pl-4 pt-3.5 border-gray-100 rounded-tl-xl mb-6 mt-8"),c(L,"id","evaluate.EvaluationModule"),c(L,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),c(L,"href","#evaluate.EvaluationModule"),c(P,"class","relative group"),c(T,"class","docstring border-l-2 border-t-2 pl-4 pt-3.5 border-gray-100 rounded-tl-xl mb-6 mt-8"),c(V,"class","docstring border-l-2 border-t-2 pl-4 pt-3.5 border-gray-100 rounded-tl-xl mb-6 mt-8"),c(x,"class","docstring border-l-2 border-t-2 pl-4 pt-3.5 border-gray-100 rounded-tl-xl mb-6 mt-8"),c(F,"class","docstring border-l-2 border-t-2 pl-4 pt-3.5 border-gray-100 rounded-tl-xl mb-6 mt-8"),c(p,"class","docstring border-l-2 border-t-2 pl-4 pt-3.5 border-gray-100 rounded-tl-xl mb-6 mt-8")},m(t,m){e(document.head,k),h(t,xe,m),h(t,I,m),e(I,O),e(O,oe),b(R,oe,null),e(I,Re),e(I,ne),e(ne,qe),h(t,ke,m),h(t,N,m),e(N,C),e(C,re),b(q,re,null),e(N,Be),e(N,se),e(se,He),h(t,Ie,m),h(t,u,m),b(B,u,null),e(u,We),e(u,g),e(g,ze),e(g,ie),e(ie,Ge),e(g,Ke),e(g,le),e(le,je),e(g,Qe),e(g,de),e(de,Xe),e(g,Ye),e(u,Ze),e(u,Z),e(Z,ce),e(ce,et),e(Z,tt),e(u,at),e(u,ue),e(ue,ot),e(u,nt),e(u,A),b(H,A,null),e(A,rt),e(A,W),e(W,st),e(W,pe),e(pe,it),e(W,lt),e(u,dt),e(u,S),b(z,S,null),e(S,ct),e(S,D),e(D,ut),e(D,me),e(me,pt),e(D,mt),e(D,fe),e(fe,ft),e(D,vt),h(t,Ne,m),h(t,P,m),e(P,L),e(L,ve),b(G,ve,null),e(P,ht),e(P,he),e(he,gt),h(t,De,m),h(t,M,m),e(M,_t),e(M,ge),e(ge,Et),e(M,bt),e(M,_e),e(_e,$t),e(M,yt),h(t,Pe,m),h(t,p,m),b(K,p,null),e(p,wt),e(p,Ee),e(Ee,Mt),e(p,xt),e(p,T),b(j,T,null),e(T,kt),e(T,be),e(be,It),e(p,Nt),e(p,V),b(Q,V,null),e(V,Dt),e(V,$e),e($e,Pt),e(p,Ot),e(p,x),b(X,x,null),e(x,Ct),e(x,ye),e(ye,At),e(x,St),e(x,we),e(we,Lt),e(p,Tt),e(p,F),b(Y,F,null),e(F,Vt),e(F,Me),e(Me,Ft),Oe=!0},p:ga,i(t){Oe||($(R.$$.fragment,t),$(q.$$.fragment,t),$(B.$$.fragment,t),$(H.$$.fragment,t),$(z.$$.fragment,t),$(G.$$.fragment,t),$(K.$$.fragment,t),$(j.$$.fragment,t),$(Q.$$.fragment,t),$(X.$$.fragment,t),$(Y.$$.fragment,t),Oe=!0)},o(t){y(R.$$.fragment,t),y(q.$$.fragment,t),y(B.$$.fragment,t),y(H.$$.fragment,t),y(z.$$.fragment,t),y(G.$$.fragment,t),y(K.$$.fragment,t),y(j.$$.fragment,t),y(Q.$$.fragment,t),y(X.$$.fragment,t),y(Y.$$.fragment,t),Oe=!1},d(t){a(k),t&&a(xe),t&&a(I),w(R),t&&a(ke),t&&a(N),w(q),t&&a(Ie),t&&a(u),w(B),w(H),w(z),t&&a(Ne),t&&a(P),w(G),t&&a(De),t&&a(M),t&&a(Pe),t&&a(p),w(K),w(j),w(Q),w(X),w(Y)}}}const ba={local:"main-classes",sections:[{local:"evaluate.EvaluationModuleInfo",title:"EvaluationModuleInfo"},{local:"evaluate.EvaluationModule",title:"EvaluationModule"}],title:"Main classes"};function $a(Rt){return _a(()=>{new URLSearchParams(window.location.search).get("fw")}),[]}class xa extends ma{constructor(k){super();fa(this,k,$a,Ea,va,{})}}export{xa as default,ba as metadata};
