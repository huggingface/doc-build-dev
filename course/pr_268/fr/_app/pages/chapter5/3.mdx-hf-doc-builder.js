import{S as U3,i as J3,s as V3,e as o,k as d,w as f,t as n,M as F3,c as r,d as s,m as p,a as l,x as v,h as a,b as m,f as R3,G as t,g as u,y as h,q as _,o as g,B as $,v as B3}from"../../chunks/vendor-hf-doc-builder.js";import{T as Cs}from"../../chunks/Tip-hf-doc-builder.js";import{Y as xb}from"../../chunks/Youtube-hf-doc-builder.js";import{I as ma}from"../../chunks/IconCopyLink-hf-doc-builder.js";import{C as E}from"../../chunks/CodeBlock-hf-doc-builder.js";import{D as G3}from"../../chunks/DocNotebookDropdown-hf-doc-builder.js";function Y3(R){let c,C,b,w,y,x,j,T;return{c(){c=o("p"),C=n("\u270F\uFE0F "),b=o("strong"),w=n("Essayez !"),y=n(" Utilisez la fonction "),x=o("code"),j=n("Dataset.unique()"),T=n(" pour trouver le nombre de m\xE9dicaments et de conditions uniques dans les \xE9chantillons d\u2019entra\xEEnement et de test.")},l(q){c=r(q,"P",{});var D=l(c);C=a(D,"\u270F\uFE0F "),b=r(D,"STRONG",{});var O=l(b);w=a(O,"Essayez !"),O.forEach(s),y=a(D," Utilisez la fonction "),x=r(D,"CODE",{});var z=l(x);j=a(z,"Dataset.unique()"),z.forEach(s),T=a(D," pour trouver le nombre de m\xE9dicaments et de conditions uniques dans les \xE9chantillons d\u2019entra\xEEnement et de test."),D.forEach(s)},m(q,D){u(q,c,D),t(c,C),t(c,b),t(b,w),t(c,y),t(c,x),t(x,j),t(c,T)},d(q){q&&s(c)}}}function X3(R){let c,C,b,w,y,x,j,T;return{c(){c=o("p"),C=n("\u{1F64B} Une autre fa\xE7on d\u2019ajouter de nouvelles colonnes \xE0 un jeu de donn\xE9es consiste \xE0 utiliser la fonction "),b=o("code"),w=n("Dataset.add_column()"),y=n(". Cela vous permet de donner la colonne sous forme de liste Python ou de tableau NumPy et peut \xEAtre utile dans les situations o\xF9 "),x=o("code"),j=n("Dataset.map()"),T=n(" n\u2019est pas bien adapt\xE9 \xE0 votre analyse.")},l(q){c=r(q,"P",{});var D=l(c);C=a(D,"\u{1F64B} Une autre fa\xE7on d\u2019ajouter de nouvelles colonnes \xE0 un jeu de donn\xE9es consiste \xE0 utiliser la fonction "),b=r(D,"CODE",{});var O=l(b);w=a(O,"Dataset.add_column()"),O.forEach(s),y=a(D,". Cela vous permet de donner la colonne sous forme de liste Python ou de tableau NumPy et peut \xEAtre utile dans les situations o\xF9 "),x=r(D,"CODE",{});var z=l(x);j=a(z,"Dataset.map()"),z.forEach(s),T=a(D," n\u2019est pas bien adapt\xE9 \xE0 votre analyse."),D.forEach(s)},m(q,D){u(q,c,D),t(c,C),t(c,b),t(b,w),t(c,y),t(c,x),t(x,j),t(c,T)},d(q){q&&s(c)}}}function W3(R){let c,C,b,w,y,x,j,T,q,D,O;return{c(){c=o("p"),C=n("\u270F\uFE0F "),b=o("strong"),w=n("Essayez !"),y=n(" Utilisez la fonction "),x=o("code"),j=n("Dataset.sort()"),T=n(" pour inspecter les avis avec le plus grand nombre de mots. Consultez la "),q=o("a"),D=n("documentation"),O=n(" pour voir quel argument vous devez utiliser pour trier les avis par longueur dans l\u2019ordre d\xE9croissant."),this.h()},l(z){c=r(z,"P",{});var k=l(c);C=a(k,"\u270F\uFE0F "),b=r(k,"STRONG",{});var X=l(b);w=a(X,"Essayez !"),X.forEach(s),y=a(k," Utilisez la fonction "),x=r(k,"CODE",{});var A=l(x);j=a(A,"Dataset.sort()"),A.forEach(s),T=a(k," pour inspecter les avis avec le plus grand nombre de mots. Consultez la "),q=r(k,"A",{href:!0,rel:!0});var W=l(q);D=a(W,"documentation"),W.forEach(s),O=a(k," pour voir quel argument vous devez utiliser pour trier les avis par longueur dans l\u2019ordre d\xE9croissant."),k.forEach(s),this.h()},h(){m(q,"href","https://huggingface.co/docs/datasets/package_reference/main_classes.html#datasets.Dataset.sort"),m(q,"rel","nofollow")},m(z,k){u(z,c,k),t(c,C),t(c,b),t(b,w),t(c,y),t(c,x),t(x,j),t(c,T),t(c,q),t(q,D),t(c,O)},d(z){z&&s(c)}}}function K3(R){let c,C,b,w,y,x,j,T,q,D,O,z,k,X,A,W,Pe;return{c(){c=o("p"),C=n("\u270F\uFE0F "),b=o("strong"),w=n("Essayez !"),y=n(" Ex\xE9cutez la m\xEAme instruction avec et sans "),x=o("code"),j=n("batched=True"),T=n(", puis essayez-le avec un "),q=o("em"),D=n("tokenizer"),O=n(" lent (ajoutez "),z=o("code"),k=n("use_fast=False"),X=n(" dans la m\xE9thode "),A=o("code"),W=n("AutoTokenizer.from_pretrained()"),Pe=n(") afin que vous puissiez voir quels temps vous obtenez sur votre mat\xE9riel.")},l(K){c=r(K,"P",{});var P=l(c);C=a(P,"\u270F\uFE0F "),b=r(P,"STRONG",{});var Ne=l(b);w=a(Ne,"Essayez !"),Ne.forEach(s),y=a(P," Ex\xE9cutez la m\xEAme instruction avec et sans "),x=r(P,"CODE",{});var U=l(x);j=a(U,"batched=True"),U.forEach(s),T=a(P,", puis essayez-le avec un "),q=r(P,"EM",{});var ne=l(q);D=a(ne,"tokenizer"),ne.forEach(s),O=a(P," lent (ajoutez "),z=r(P,"CODE",{});var _e=l(z);k=a(_e,"use_fast=False"),_e.forEach(s),X=a(P," dans la m\xE9thode "),A=r(P,"CODE",{});var Q=l(A);W=a(Q,"AutoTokenizer.from_pretrained()"),Q.forEach(s),Pe=a(P,") afin que vous puissiez voir quels temps vous obtenez sur votre mat\xE9riel."),P.forEach(s)},m(K,P){u(K,c,P),t(c,C),t(c,b),t(b,w),t(c,y),t(c,x),t(x,j),t(c,T),t(c,q),t(q,D),t(c,O),t(c,z),t(z,k),t(c,X),t(c,A),t(A,W),t(c,Pe)},d(K){K&&s(c)}}}function Q3(R){let c,C,b,w,y;return{c(){c=o("p"),C=n("Utiliser "),b=o("code"),w=n("num_proc"),y=n(" pour acc\xE9l\xE9rer votre traitement est g\xE9n\xE9ralement une bonne id\xE9e tant que la fonction que vous utilisez n\u2019effectue pas d\xE9j\xE0 une sorte de multitraitement.")},l(x){c=r(x,"P",{});var j=l(c);C=a(j,"Utiliser "),b=r(j,"CODE",{});var T=l(b);w=a(T,"num_proc"),T.forEach(s),y=a(j," pour acc\xE9l\xE9rer votre traitement est g\xE9n\xE9ralement une bonne id\xE9e tant que la fonction que vous utilisez n\u2019effectue pas d\xE9j\xE0 une sorte de multitraitement."),j.forEach(s)},m(x,j){u(x,c,j),t(c,C),t(c,b),t(b,w),t(c,y)},d(x){x&&s(c)}}}function Z3(R){let c,C,b,w,y,x,j,T,q,D,O;return{c(){c=o("p"),C=n("\u{1F4A1} En apprentissage automatique, un "),b=o("em"),w=n("exemple"),y=n(" est g\xE9n\xE9ralement d\xE9fini comme l\u2019ensemble de "),x=o("em"),j=n("features"),T=n(" que nous donnons au mod\xE8le. Dans certains contextes, ces caract\xE9ristiques seront l\u2019ensemble des colonnes d\u2019un "),q=o("code"),D=n("Dataset"),O=n(", mais dans d\u2019autres (comme ici et pour la r\xE9ponse aux questions), plusieurs caract\xE9ristiques peuvent \xEAtre extraites d\u2019un seul exemple et appartenir \xE0 une seule colonne.")},l(z){c=r(z,"P",{});var k=l(c);C=a(k,"\u{1F4A1} En apprentissage automatique, un "),b=r(k,"EM",{});var X=l(b);w=a(X,"exemple"),X.forEach(s),y=a(k," est g\xE9n\xE9ralement d\xE9fini comme l\u2019ensemble de "),x=r(k,"EM",{});var A=l(x);j=a(A,"features"),A.forEach(s),T=a(k," que nous donnons au mod\xE8le. Dans certains contextes, ces caract\xE9ristiques seront l\u2019ensemble des colonnes d\u2019un "),q=r(k,"CODE",{});var W=l(q);D=a(W,"Dataset"),W.forEach(s),O=a(k,", mais dans d\u2019autres (comme ici et pour la r\xE9ponse aux questions), plusieurs caract\xE9ristiques peuvent \xEAtre extraites d\u2019un seul exemple et appartenir \xE0 une seule colonne."),k.forEach(s)},m(z,k){u(z,c,k),t(c,C),t(c,b),t(b,w),t(c,y),t(c,x),t(x,j),t(c,T),t(c,q),t(q,D),t(c,O)},d(z){z&&s(c)}}}function e4(R){let c,C,b,w,y,x,j,T,q,D,O,z,k,X,A,W,Pe,K,P,Ne,U,ne,_e,Q,Ts,dt;return{c(){c=o("p"),C=n("\u{1F6A8} Sous le capot, "),b=o("code"),w=n("Dataset.set_format()"),y=n(" change le format de retour pour la m\xE9thode "),x=o("code"),j=n("__getitem__()"),T=n(". Cela signifie que lorsque nous voulons cr\xE9er un nouvel objet comme "),q=o("code"),D=n("train_df"),O=n(" \xE0 partir d\u2019un "),z=o("code"),k=n("Dataset"),X=n(" au format "),A=o("code"),W=n('"pandas"'),Pe=n(", nous devons d\xE9couper tout le jeu de donn\xE9es pour obtenir un "),K=o("code"),P=n("pandas.DataFrame"),Ne=n(". Vous pouvez v\xE9rifier par vous-m\xEAme que le type de "),U=o("code"),ne=n('drug_dataset["train"]'),_e=n(" est "),Q=o("code"),Ts=n("Dataset"),dt=n(", quel que soit le format de sortie.")},l(pt){c=r(pt,"P",{});var N=l(c);C=a(N,"\u{1F6A8} Sous le capot, "),b=r(N,"CODE",{});var H=l(b);w=a(H,"Dataset.set_format()"),H.forEach(s),y=a(N," change le format de retour pour la m\xE9thode "),x=r(N,"CODE",{});var fa=l(x);j=a(fa,"__getitem__()"),fa.forEach(s),T=a(N,". Cela signifie que lorsque nous voulons cr\xE9er un nouvel objet comme "),q=r(N,"CODE",{});var At=l(q);D=a(At,"train_df"),At.forEach(s),O=a(N," \xE0 partir d\u2019un "),z=r(N,"CODE",{});var va=l(z);k=a(va,"Dataset"),va.forEach(s),X=a(N," au format "),A=r(N,"CODE",{});var ha=l(A);W=a(ha,'"pandas"'),ha.forEach(s),Pe=a(N,", nous devons d\xE9couper tout le jeu de donn\xE9es pour obtenir un "),K=r(N,"CODE",{});var Mt=l(K);P=a(Mt,"pandas.DataFrame"),Mt.forEach(s),Ne=a(N,". Vous pouvez v\xE9rifier par vous-m\xEAme que le type de "),U=r(N,"CODE",{});var _a=l(U);ne=a(_a,'drug_dataset["train"]'),_a.forEach(s),_e=a(N," est "),Q=r(N,"CODE",{});var ga=l(Q);Ts=a(ga,"Dataset"),ga.forEach(s),dt=a(N,", quel que soit le format de sortie."),N.forEach(s)},m(pt,N){u(pt,c,N),t(c,C),t(c,b),t(b,w),t(c,y),t(c,x),t(x,j),t(c,T),t(c,q),t(q,D),t(c,O),t(c,z),t(z,k),t(c,X),t(c,A),t(A,W),t(c,Pe),t(c,K),t(K,P),t(c,Ne),t(c,U),t(U,ne),t(c,_e),t(c,Q),t(Q,Ts),t(c,dt)},d(pt){pt&&s(c)}}}function t4(R){let c,C,b,w,y;return{c(){c=o("p"),C=n("\u270F\uFE0F "),b=o("strong"),w=n("Essayez !"),y=n(" Calculez la note moyenne par m\xE9dicament et stockez le r\xE9sultat dans un nouveau jeu de donn\xE9es.")},l(x){c=r(x,"P",{});var j=l(c);C=a(j,"\u270F\uFE0F "),b=r(j,"STRONG",{});var T=l(b);w=a(T,"Essayez !"),T.forEach(s),y=a(j," Calculez la note moyenne par m\xE9dicament et stockez le r\xE9sultat dans un nouveau jeu de donn\xE9es."),j.forEach(s)},m(x,j){u(x,c,j),t(c,C),t(c,b),t(b,w),t(c,y)},d(x){x&&s(c)}}}function s4(R){let c,C,b,w,y,x,j,T,q,D,O,z,k,X,A,W,Pe,K,P,Ne,U,ne,_e,Q,Ts,dt,pt,N,H,fa,At,va,ha,Mt,_a,ga,Yo,Im,Lm,Xo,Sm,Hm,$a,Rm,Um,id,Ie,Jm,zs,Wo,Vm,Fm,Os,Ko,Bm,Gm,ud,Le,Ym,Qo,Xm,Wm,Zo,Km,Qm,dd,Ps,pd,ge,Zm,er,ef,tf,tr,sf,nf,sr,af,of,cd,Ns,md,$e,rf,nr,lf,uf,ar,df,pf,or,cf,mf,fd,As,vd,Ms,hd,Ee,ff,rr,vf,hf,lr,_f,gf,ir,$f,Ef,_d,Se,Is,bf,ur,xf,jf,qf,Ls,wf,dr,Df,kf,yf,ct,Cf,pr,Tf,zf,cr,Of,Pf,gd,be,Nf,mr,Af,Mf,fr,If,Lf,vr,Sf,Hf,$d,Ss,Ed,He,Rf,hr,Uf,Jf,_r,Vf,Ff,bd,Hs,xd,Rs,jd,It,qd,oe,Bf,gr,Gf,Yf,$r,Xf,Wf,Ea,Kf,Qf,Er,Zf,ev,wd,Us,Dd,Js,kd,re,tv,br,sv,nv,xr,av,ov,jr,rv,lv,qr,iv,uv,yd,Vs,Cd,Re,dv,wr,pv,cv,Dr,mv,fv,Td,Fs,zd,le,vv,kr,hv,_v,Bs,gv,$v,yr,Ev,bv,Cr,xv,jv,Od,Gs,Pd,ba,qv,Nd,Ys,Ad,Xs,Md,xa,wv,Id,Ws,Ld,Ks,Sd,xe,Dv,Qs,kv,yv,Tr,Cv,Tv,zr,zv,Ov,Hd,Zs,Rd,Ue,Pv,Or,Nv,Av,Pr,Mv,Iv,Ud,en,Jd,tn,Vd,ja,Lv,Fd,mt,Lt,Nr,sn,Sv,Ar,Hv,Bd,qa,Rv,Gd,wa,Uv,Yd,nn,Xd,Z,Jv,Mr,Vv,Fv,Ir,Bv,Gv,Lr,Yv,Xv,Sr,Wv,Kv,Hr,Qv,Zv,Wd,an,Kd,on,Qd,Je,eh,Rr,th,sh,Ur,nh,ah,Zd,rn,ep,ln,tp,Da,oh,sp,St,np,Ve,rh,Jr,lh,ih,Vr,uh,dh,ap,un,op,dn,rp,ka,ph,lp,Ht,ip,Rt,ch,Fr,mh,fh,up,pn,dp,cn,pp,Ut,vh,Br,hh,_h,cp,mn,mp,Jt,gh,Gr,$h,Eh,fp,ft,Vt,Yr,fn,bh,ya,xh,Xr,jh,vp,ee,qh,Wr,wh,Dh,Kr,kh,yh,Qr,Ch,Th,Zr,zh,Oh,el,Ph,Nh,hp,ie,Ah,tl,Mh,Ih,sl,Lh,Sh,nl,Hh,Rh,al,Uh,Jh,_p,vn,gp,je,Vh,ol,Fh,Bh,rl,Gh,Yh,ll,Xh,Wh,$p,te,Kh,il,Qh,Zh,ul,e_,t_,dl,s_,n_,Ca,a_,o_,pl,r_,l_,Ep,hn,bp,se,i_,Ta,u_,d_,cl,p_,c_,ml,m_,f_,fl,v_,h_,vl,__,g_,xp,_n,jp,Ft,$_,hl,E_,b_,qp,Bt,wp,Fe,x_,_l,j_,q_,gl,w_,D_,Dp,Gt,$l,vt,za,k_,y_,gn,El,C_,T_,z_,$n,bl,O_,P_,N_,En,ht,Oa,xl,A_,M_,Pa,I_,L_,Na,S_,H_,_t,Aa,jl,R_,U_,Ma,J_,V_,Ia,F_,kp,ue,B_,ql,G_,Y_,wl,X_,W_,Dl,K_,Q_,kl,Z_,e2,yp,Yt,t2,yl,s2,n2,Cp,ae,Cl,a2,o2,Tl,r2,l2,zl,i2,u2,Ol,d2,p2,Pl,c2,m2,Tp,bn,zp,La,f2,Op,Xt,Nl,gt,Sa,v2,h2,xn,Al,_2,g2,$2,jn,Ml,E2,b2,x2,Ae,$t,Ha,Il,j2,q2,Ra,w2,D2,Ua,k2,y2,Et,Ja,Ll,C2,T2,Va,z2,O2,Fa,P2,N2,bt,Wt,Sl,A2,M2,Hl,I2,L2,Ba,S2,H2,Ga,R2,U2,xt,Kt,Rl,J2,V2,Ul,F2,B2,Ya,G2,Y2,Xa,X2,Pp,J,W2,Jl,K2,Q2,Vl,Z2,eg,Fl,tg,sg,Bl,ng,ag,Gl,og,rg,Yl,lg,ig,Np,Qt,Ap,qe,ug,Xl,dg,pg,Wl,cg,mg,Wa,fg,vg,Mp,Zt,Ip,we,hg,Kl,_g,gg,Ql,$g,Eg,Zl,bg,xg,Lp,qn,Sp,es,jg,ei,qg,wg,Hp,wn,Rp,Dn,Up,ts,Dg,ti,kg,yg,Jp,kn,Vp,yn,Fp,Be,Cg,Cn,Tg,zg,si,Og,Pg,Bp,de,Ng,ni,Ag,Mg,ai,Ig,Lg,oi,Sg,Hg,ri,Rg,Ug,Gp,Tn,Yp,Ka,Jg,Xp,zn,Wp,On,Kp,De,Vg,li,Fg,Bg,ii,Gg,Yg,ui,Xg,Wg,Qp,Pn,Zp,ss,Kg,di,Qg,Zg,ec,Nn,tc,An,sc,Qa,e1,nc,pe,t1,pi,s1,n1,ci,a1,o1,mi,r1,l1,fi,i1,u1,ac,jt,ns,vi,Mn,d1,qt,p1,hi,c1,m1,_i,f1,v1,oc,In,rc,ce,h1,gi,_1,g1,$i,$1,E1,Ei,b1,x1,bi,j1,q1,lc,Ln,ic,as,w1,xi,D1,k1,uc,Sn,dc,Ge,ji,M,pc,y1,qi,C1,T1,wi,z1,O1,Di,P1,N1,ki,A1,M1,yi,I1,L1,Ci,S1,H1,Ti,R1,U1,zi,J1,V1,wt,I,Oi,F1,B1,Pi,G1,Y1,Ni,X1,W1,Ai,K1,Q1,Mi,Z1,e$,Ii,t$,s$,Li,n$,a$,Si,o$,r$,Hi,l$,i$,L,Ri,u$,d$,Ui,p$,c$,Ji,m$,f$,Vi,v$,h$,Fi,_$,g$,Bi,$$,E$,Gi,b$,x$,Yi,j$,q$,Xi,w$,D$,S,Wi,k$,y$,Ki,C$,T$,Qi,z$,O$,Zi,P$,N$,eu,A$,M$,tu,I$,L$,su,S$,H$,nu,R$,U$,au,J$,cc,Ye,V$,ou,F$,B$,ru,G$,Y$,mc,Hn,fc,os,vc,rs,X$,lu,W$,K$,hc,Rn,_c,Xe,iu,We,gc,Q$,uu,Z$,e7,du,t7,s7,he,Dt,pu,n7,a7,cu,o7,r7,mu,l7,i7,kt,fu,u7,d7,vu,p7,c7,hu,m7,f7,yt,_u,v7,h7,gu,_7,g7,$u,$7,E7,Ct,Eu,b7,x7,bu,j7,q7,xu,w7,D7,Tt,ju,k7,y7,qu,C7,T7,wu,z7,$c,Ke,O7,Du,P7,N7,ku,A7,M7,Ec,Un,bc,Jn,xc,ls,jc,me,I7,yu,L7,S7,Cu,H7,R7,Tu,U7,J7,zu,V7,F7,qc,Vn,wc,zt,is,Ou,Fn,B7,Pu,G7,Dc,Za,Y7,kc,V,X7,Nu,W7,K7,Au,Q7,Z7,Mu,eE,tE,Iu,sE,nE,Lu,aE,oE,Su,rE,lE,yc,Bn,Cc,Gn,Tc,Qe,iE,eo,uE,dE,Hu,pE,cE,zc,Ot,us,Ru,Yn,mE,Uu,fE,Oc,Xn,Pc,Ze,vE,Ju,hE,_E,Vu,gE,$E,Nc,ds,Fu,Wn,to,EE,bE,so,xE,jE,Pt,Kn,no,qE,wE,ao,Bu,DE,kE,Qn,oo,yE,CE,ro,Gu,TE,zE,Zn,lo,OE,PE,io,Yu,NE,Ac,uo,AE,Mc,ea,Ic,po,ME,Lc,ta,Sc,ke,IE,Xu,LE,SE,Wu,HE,RE,Ku,UE,JE,Hc,ps,VE,Qu,FE,BE,Rc,sa,Uc,na,Jc,cs,GE,Zu,YE,XE,Vc,aa,Fc,ms,WE,oa,KE,QE,Bc,ra,Gc,la,Yc,fs,ZE,co,eb,tb,Xc,ia,Wc,vs,sb,ed,nb,ab,Kc,hs,ua,ob,mo,rb,lb,ib,Nt,ub,td,db,pb,fo,cb,mb,Qc,_s,fb,sd,vb,hb,Zc;return x=new ma({}),O=new G3({props:{classNames:"absolute z-10 right-0 top-0",options:[{label:"Google Colab",value:"https://colab.research.google.com/github/huggingface/notebooks/blob/master/course/chapter5/section3.ipynb"},{label:"Aws Studio",value:"https://studiolab.sagemaker.aws/import/github/huggingface/notebooks/blob/master/course/chapter5/section3.ipynb"}]}}),P=new xb({props:{id:"tqfSFcPMgOI"}}),Q=new ma({}),Ps=new E({props:{code:`!wget "https://archive.ics.uci.edu/ml/machine-learning-databases/00462/drugsCom_raw.zip"
!unzip drugsCom_raw.zip`,highlighted:`!wget <span class="hljs-string">&quot;https://archive.ics.uci.edu/ml/machine-learning-databases/00462/drugsCom_raw.zip&quot;</span>
!unzip drugsCom_raw.<span class="hljs-built_in">zip</span>`}}),Ns=new E({props:{code:"",highlighted:`<span class="hljs-keyword">from</span> datasets <span class="hljs-keyword">import</span> load_dataset

data_files = {<span class="hljs-string">&quot;train&quot;</span>: <span class="hljs-string">&quot;drugsComTrain_raw.tsv&quot;</span>, <span class="hljs-string">&quot;test&quot;</span>: <span class="hljs-string">&quot;drugsComTest_raw.tsv&quot;</span>}
<span class="hljs-comment"># \\t is the tab character in Python</span>
drug_dataset = load_dataset(<span class="hljs-string">&quot;csv&quot;</span>, data_files=data_files, delimiter=<span class="hljs-string">&quot;\\t&quot;</span>)`}}),As=new E({props:{code:`drug_sample = drug_dataset["train"].shuffle(seed=42).select(range(1000))
# Un coup d'\u0153il sur les premiers exemples
drug_sample[:3]`,highlighted:`drug_sample = drug_dataset[<span class="hljs-string">&quot;train&quot;</span>].shuffle(seed=<span class="hljs-number">42</span>).select(<span class="hljs-built_in">range</span>(<span class="hljs-number">1000</span>))
<span class="hljs-comment"># Un coup d&#x27;\u0153il sur les premiers exemples</span>
drug_sample[:<span class="hljs-number">3</span>]`}}),Ms=new E({props:{code:`{'Unnamed: 0': [87571, 178045, 80482],
 'drugName': ['Naproxen', 'Duloxetine', 'Mobic'],
 'condition': ['Gout, Acute', 'ibromyalgia', 'Inflammatory Conditions'], 
 #['Goutte aigu\xEB', 'ibromyalgie', 'Affections inflammatoires']
 'review': ['"like the previous person mention, I&#039;m a strong believer of aleve, it works faster for my gout than the prescription meds I take. No more going to the doctor for refills.....Aleve works!"', 
 # comme la personne pr\xE9c\xE9dente l'a mentionn\xE9, je suis un fervent partisan de l'aleve, il fonctionne plus rapidement pour ma goutte que les m\xE9dicaments sur ordonnance que je prends. Je n'ai plus besoin d'aller chez le m\xE9decin pour des renouvellements.....Aleve fonctionne !"
  '"I have taken Cymbalta for about a year and a half for fibromyalgia pain. It is great\\r\\nas a pain reducer and an anti-depressant, however, the side effects outweighed \\r\\nany benefit I got from it. I had trouble with restlessness, being tired constantly,\\r\\ndizziness, dry mouth, numbness and tingling in my feet, and horrible sweating. I am\\r\\nbeing weaned off of it now. Went from 60 mg to 30mg and now to 15 mg. I will be\\r\\noff completely in about a week. The fibro pain is coming back, but I would rather deal with it than the side effects."', 
  # J'ai pris du Cymbalta pendant environ un an et demi pour des douleurs de la fibromyalgie. C'est un excellent analg\xE9sique et un antid\xE9presseur, mais les effets secondaires l'ont emport\xE9 sur tous les avantages que j'en ai tir\xE9s. J'ai eu des probl\xE8mes d'agitation, de fatigue constante, de vertiges, de bouche s\xE8che, d'engourdissement, de picotements dans les pieds, et de transpiration horrible. Je suis en train de m'en sevrer maintenant. Je suis pass\xE9e de 60 mg \xE0 30 mg et maintenant \xE0 15 mg. Je l'arr\xEAterai compl\xE8tement dans environ une semaine. La douleur de la fibrose revient, mais je pr\xE9f\xE8re la supporter plut\xF4t que les effets secondaires.
  '"I have been taking Mobic for over a year with no side effects other than an elevated blood pressure.  I had severe knee and ankle pain which completely went away after taking Mobic.  I attempted to stop the medication however pain returned after a few days."'], 
  # J'ai pris Mobic pendant plus d'un an sans effets secondaires autres qu'une pression sanguine \xE9lev\xE9e.  J'avais de fortes douleurs au genou et \xE0 la cheville qui ont compl\xE8tement disparu apr\xE8s avoir pris Mobic. J'ai essay\xE9 d'arr\xEAter le m\xE9dicament mais la douleur est revenue apr\xE8s quelques jours."
 'rating': [9.0, 3.0, 10.0],
 'date': ['September 2, 2015', 'November 7, 2011', 'June 5, 2013'], 
        #['2 septembre 2015', '7 novembre 2011', '5 juin 2013']
 'usefulCount': [36, 13, 128]}`,highlighted:`{<span class="hljs-string">&#x27;Unnamed: 0&#x27;</span>: [<span class="hljs-number">87571</span>, <span class="hljs-number">178045</span>, <span class="hljs-number">80482</span>],
 <span class="hljs-string">&#x27;drugName&#x27;</span>: [<span class="hljs-string">&#x27;Naproxen&#x27;</span>, <span class="hljs-string">&#x27;Duloxetine&#x27;</span>, <span class="hljs-string">&#x27;Mobic&#x27;</span>],
 <span class="hljs-string">&#x27;condition&#x27;</span>: [<span class="hljs-string">&#x27;Gout, Acute&#x27;</span>, <span class="hljs-string">&#x27;ibromyalgia&#x27;</span>, <span class="hljs-string">&#x27;Inflammatory Conditions&#x27;</span>], 
 <span class="hljs-comment">#[&#x27;Goutte aigu\xEB&#x27;, &#x27;ibromyalgie&#x27;, &#x27;Affections inflammatoires&#x27;]</span>
 <span class="hljs-string">&#x27;review&#x27;</span>: [<span class="hljs-string">&#x27;&quot;like the previous person mention, I&amp;#039;m a strong believer of aleve, it works faster for my gout than the prescription meds I take. No more going to the doctor for refills.....Aleve works!&quot;&#x27;</span>, 
 <span class="hljs-comment"># comme la personne pr\xE9c\xE9dente l&#x27;a mentionn\xE9, je suis un fervent partisan de l&#x27;aleve, il fonctionne plus rapidement pour ma goutte que les m\xE9dicaments sur ordonnance que je prends. Je n&#x27;ai plus besoin d&#x27;aller chez le m\xE9decin pour des renouvellements.....Aleve fonctionne !&quot;</span>
  <span class="hljs-string">&#x27;&quot;I have taken Cymbalta for about a year and a half for fibromyalgia pain. It is great\\r\\nas a pain reducer and an anti-depressant, however, the side effects outweighed \\r\\nany benefit I got from it. I had trouble with restlessness, being tired constantly,\\r\\ndizziness, dry mouth, numbness and tingling in my feet, and horrible sweating. I am\\r\\nbeing weaned off of it now. Went from 60 mg to 30mg and now to 15 mg. I will be\\r\\noff completely in about a week. The fibro pain is coming back, but I would rather deal with it than the side effects.&quot;&#x27;</span>, 
  <span class="hljs-comment"># J&#x27;ai pris du Cymbalta pendant environ un an et demi pour des douleurs de la fibromyalgie. C&#x27;est un excellent analg\xE9sique et un antid\xE9presseur, mais les effets secondaires l&#x27;ont emport\xE9 sur tous les avantages que j&#x27;en ai tir\xE9s. J&#x27;ai eu des probl\xE8mes d&#x27;agitation, de fatigue constante, de vertiges, de bouche s\xE8che, d&#x27;engourdissement, de picotements dans les pieds, et de transpiration horrible. Je suis en train de m&#x27;en sevrer maintenant. Je suis pass\xE9e de 60 mg \xE0 30 mg et maintenant \xE0 15 mg. Je l&#x27;arr\xEAterai compl\xE8tement dans environ une semaine. La douleur de la fibrose revient, mais je pr\xE9f\xE8re la supporter plut\xF4t que les effets secondaires.</span>
  <span class="hljs-string">&#x27;&quot;I have been taking Mobic for over a year with no side effects other than an elevated blood pressure.  I had severe knee and ankle pain which completely went away after taking Mobic.  I attempted to stop the medication however pain returned after a few days.&quot;&#x27;</span>], 
  <span class="hljs-comment"># J&#x27;ai pris Mobic pendant plus d&#x27;un an sans effets secondaires autres qu&#x27;une pression sanguine \xE9lev\xE9e.  J&#x27;avais de fortes douleurs au genou et \xE0 la cheville qui ont compl\xE8tement disparu apr\xE8s avoir pris Mobic. J&#x27;ai essay\xE9 d&#x27;arr\xEAter le m\xE9dicament mais la douleur est revenue apr\xE8s quelques jours.&quot;</span>
 <span class="hljs-string">&#x27;rating&#x27;</span>: [<span class="hljs-number">9.0</span>, <span class="hljs-number">3.0</span>, <span class="hljs-number">10.0</span>],
 <span class="hljs-string">&#x27;date&#x27;</span>: [<span class="hljs-string">&#x27;September 2, 2015&#x27;</span>, <span class="hljs-string">&#x27;November 7, 2011&#x27;</span>, <span class="hljs-string">&#x27;June 5, 2013&#x27;</span>], 
        <span class="hljs-comment">#[&#x27;2 septembre 2015&#x27;, &#x27;7 novembre 2011&#x27;, &#x27;5 juin 2013&#x27;]</span>
 <span class="hljs-string">&#x27;usefulCount&#x27;</span>: [<span class="hljs-number">36</span>, <span class="hljs-number">13</span>, <span class="hljs-number">128</span>]}`}}),Ss=new E({props:{code:`for split in drug_dataset.keys():
    assert len(drug_dataset[split]) == len(drug_dataset[split].unique("Unnamed: 0"))`,highlighted:`<span class="hljs-keyword">for</span> split <span class="hljs-keyword">in</span> drug_dataset.keys():
    <span class="hljs-keyword">assert</span> <span class="hljs-built_in">len</span>(drug_dataset[split]) == <span class="hljs-built_in">len</span>(drug_dataset[split].unique(<span class="hljs-string">&quot;Unnamed: 0&quot;</span>))`}}),Hs=new E({props:{code:`drug_dataset = drug_dataset.rename_column(
    original_column_name="Unnamed: 0", new_column_name="patient_id"
)
drug_dataset`,highlighted:`drug_dataset = drug_dataset.rename_column(
    original_column_name=<span class="hljs-string">&quot;Unnamed: 0&quot;</span>, new_column_name=<span class="hljs-string">&quot;patient_id&quot;</span>
)
drug_dataset`}}),Rs=new E({props:{code:`DatasetDict({
    train: Dataset({
        features: ['patient_id', 'drugName', 'condition', 'review', 'rating', 'date', 'usefulCount'],
        num_rows: 161297
    })
    test: Dataset({
        features: ['patient_id', 'drugName', 'condition', 'review', 'rating', 'date', 'usefulCount'],
        num_rows: 53766
    })
})`,highlighted:`DatasetDict({
    train: Dataset({
        features: [<span class="hljs-string">&#x27;patient_id&#x27;</span>, <span class="hljs-string">&#x27;drugName&#x27;</span>, <span class="hljs-string">&#x27;condition&#x27;</span>, <span class="hljs-string">&#x27;review&#x27;</span>, <span class="hljs-string">&#x27;rating&#x27;</span>, <span class="hljs-string">&#x27;date&#x27;</span>, <span class="hljs-string">&#x27;usefulCount&#x27;</span>],
        num_rows: <span class="hljs-number">161297</span>
    })
    test: Dataset({
        features: [<span class="hljs-string">&#x27;patient_id&#x27;</span>, <span class="hljs-string">&#x27;drugName&#x27;</span>, <span class="hljs-string">&#x27;condition&#x27;</span>, <span class="hljs-string">&#x27;review&#x27;</span>, <span class="hljs-string">&#x27;rating&#x27;</span>, <span class="hljs-string">&#x27;date&#x27;</span>, <span class="hljs-string">&#x27;usefulCount&#x27;</span>],
        num_rows: <span class="hljs-number">53766</span>
    })
})`}}),It=new Cs({props:{$$slots:{default:[Y3]},$$scope:{ctx:R}}}),Us=new E({props:{code:`
`,highlighted:`<span class="hljs-keyword">def</span> <span class="hljs-title function_">lowercase_condition</span>(<span class="hljs-params">example</span>):
    <span class="hljs-keyword">return</span> {<span class="hljs-string">&quot;condition&quot;</span>: example[<span class="hljs-string">&quot;condition&quot;</span>].lower()}


drug_dataset.<span class="hljs-built_in">map</span>(lowercase_condition)`}}),Js=new E({props:{code:"AttributeError: 'NoneType' object has no attribute 'lower'",highlighted:'AttributeError: <span class="hljs-string">&#x27;NoneType&#x27;</span> <span class="hljs-built_in">object</span> has no attribute <span class="hljs-string">&#x27;lower&#x27;</span>'}}),Vs=new E({props:{code:`def filter_nones(x):
    return x["condition"] is not None`,highlighted:`<span class="hljs-keyword">def</span> <span class="hljs-title function_">filter_nones</span>(<span class="hljs-params">x</span>):
    <span class="hljs-keyword">return</span> x[<span class="hljs-string">&quot;condition&quot;</span>] <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>`}}),Fs=new E({props:{code:"lambda <arguments> : <expression>",highlighted:'lambda <span class="hljs-tag">&lt;<span class="hljs-name">arguments</span>&gt;</span> : <span class="hljs-tag">&lt;<span class="hljs-name">expression</span>&gt;</span>'}}),Gs=new E({props:{code:"lambda x : x * x",highlighted:'lambda <span class="hljs-keyword">x</span> : <span class="hljs-keyword">x</span> * <span class="hljs-keyword">x</span>'}}),Ys=new E({props:{code:"(lambda x: x * x)(3)",highlighted:'(<span class="hljs-keyword">lambda</span> x: x * x)(<span class="hljs-number">3</span>)'}}),Xs=new E({props:{code:"9",highlighted:'<span class="hljs-number">9</span>'}}),Ws=new E({props:{code:"(lambda base, height: 0.5 * base * height)(4, 8)",highlighted:'(<span class="hljs-keyword">lambda</span> base, height: <span class="hljs-number">0.5</span> * base * height)(<span class="hljs-number">4</span>, <span class="hljs-number">8</span>)'}}),Ks=new E({props:{code:"16.0",highlighted:'<span class="hljs-number">16.0</span>'}}),Zs=new E({props:{code:'drug_dataset = drug_dataset.filter(lambda x: x["condition"] is not None)',highlighted:'drug_dataset = drug_dataset.<span class="hljs-built_in">filter</span>(<span class="hljs-keyword">lambda</span> x: x[<span class="hljs-string">&quot;condition&quot;</span>] <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>)'}}),en=new E({props:{code:`drug_dataset = drug_dataset.map(lowercase_condition)
# V\xE9rification que la mise en minuscule a fonctionn\xE9
drug_dataset["train"]["condition"][:3]`,highlighted:`drug_dataset = drug_dataset.<span class="hljs-built_in">map</span>(lowercase_condition)
<span class="hljs-comment"># V\xE9rification que la mise en minuscule a fonctionn\xE9</span>
drug_dataset[<span class="hljs-string">&quot;train&quot;</span>][<span class="hljs-string">&quot;condition&quot;</span>][:<span class="hljs-number">3</span>]`}}),tn=new E({props:{code:"['left ventricular dysfunction', 'adhd', 'birth control']",highlighted:'[<span class="hljs-string">&#x27;left ventricular dysfunction&#x27;</span>, <span class="hljs-string">&#x27;adhd&#x27;</span>, <span class="hljs-string">&#x27;birth control&#x27;</span>]'}}),sn=new ma({}),nn=new E({props:{code:`def compute_review_length(example):
    return {"review_length": len(example["review"].split())}`,highlighted:`<span class="hljs-keyword">def</span> <span class="hljs-title function_">compute_review_length</span>(<span class="hljs-params">example</span>):
    <span class="hljs-keyword">return</span> {<span class="hljs-string">&quot;review_length&quot;</span>: <span class="hljs-built_in">len</span>(example[<span class="hljs-string">&quot;review&quot;</span>].split())}`}}),an=new E({props:{code:`drug_dataset = drug_dataset.map(compute_review_length)
# Inspecter le premier exemple d'entra\xEEnement
drug_dataset["train"][0]`,highlighted:`drug_dataset = drug_dataset.<span class="hljs-built_in">map</span>(compute_review_length)
<span class="hljs-comment"># Inspecter le premier exemple d&#x27;entra\xEEnement</span>
drug_dataset[<span class="hljs-string">&quot;train&quot;</span>][<span class="hljs-number">0</span>]`}}),on=new E({props:{code:`{'patient_id': 206461,
 'drugName': 'Valsartan',
 'condition': 'left ventricular dysfunction', # dysfonctionnement du ventricule gauche
 'review': '"It has no side effect, I take it in combination of Bystolic 5 Mg and Fish Oil"', 
           # Il n'a aucun effet secondaire, je le prends en combinaison avec Bystolic 5 mg et de l'huile de poisson.
 'rating': 9.0,
 'date': 'May 20, 2012', # 20 mai 2012
 'usefulCount': 27,
 'review_length': 17}`,highlighted:`{<span class="hljs-string">&#x27;patient_id&#x27;</span>: <span class="hljs-number">206461</span>,
 <span class="hljs-string">&#x27;drugName&#x27;</span>: <span class="hljs-string">&#x27;Valsartan&#x27;</span>,
 <span class="hljs-string">&#x27;condition&#x27;</span>: <span class="hljs-string">&#x27;left ventricular dysfunction&#x27;</span>, <span class="hljs-comment"># dysfonctionnement du ventricule gauche</span>
 <span class="hljs-string">&#x27;review&#x27;</span>: <span class="hljs-string">&#x27;&quot;It has no side effect, I take it in combination of Bystolic 5 Mg and Fish Oil&quot;&#x27;</span>, 
           <span class="hljs-comment"># Il n&#x27;a aucun effet secondaire, je le prends en combinaison avec Bystolic 5 mg et de l&#x27;huile de poisson.</span>
 <span class="hljs-string">&#x27;rating&#x27;</span>: <span class="hljs-number">9.0</span>,
 <span class="hljs-string">&#x27;date&#x27;</span>: <span class="hljs-string">&#x27;May 20, 2012&#x27;</span>, <span class="hljs-comment"># 20 mai 2012</span>
 <span class="hljs-string">&#x27;usefulCount&#x27;</span>: <span class="hljs-number">27</span>,
 <span class="hljs-string">&#x27;review_length&#x27;</span>: <span class="hljs-number">17</span>}`}}),rn=new E({props:{code:'drug_dataset["train"].sort("review_length")[:3]',highlighted:'drug_dataset[<span class="hljs-string">&quot;train&quot;</span>].sort(<span class="hljs-string">&quot;review_length&quot;</span>)[:<span class="hljs-number">3</span>]'}}),ln=new E({props:{code:`{'patient_id': [103488, 23627, 20558],
 'drugName': ['Loestrin 21 1 / 20', 'Chlorzoxazone', 'Nucynta'],
 'condition': ['birth control', 'muscle spasm', 'pain'], 
              # contraception, spasme musculaire, douleur.
 'review': ['"Excellent."', '"useless"', '"ok"'], # Excellent, inutile, ok 
 'rating': [10.0, 1.0, 6.0],
 'date': ['November 4, 2008', 'March 24, 2017', 'August 20, 2016'], 
         # 4 novembre 2008, 24 mars 2017, 20 ao\xFBt 2016
 'usefulCount': [5, 2, 10],
 'review_length': [1, 1, 1]}`,highlighted:`{<span class="hljs-string">&#x27;patient_id&#x27;</span>: [<span class="hljs-number">103488</span>, <span class="hljs-number">23627</span>, <span class="hljs-number">20558</span>],
 <span class="hljs-string">&#x27;drugName&#x27;</span>: [<span class="hljs-string">&#x27;Loestrin 21 1 / 20&#x27;</span>, <span class="hljs-string">&#x27;Chlorzoxazone&#x27;</span>, <span class="hljs-string">&#x27;Nucynta&#x27;</span>],
 <span class="hljs-string">&#x27;condition&#x27;</span>: [<span class="hljs-string">&#x27;birth control&#x27;</span>, <span class="hljs-string">&#x27;muscle spasm&#x27;</span>, <span class="hljs-string">&#x27;pain&#x27;</span>], 
              <span class="hljs-comment"># contraception, spasme musculaire, douleur.</span>
 <span class="hljs-string">&#x27;review&#x27;</span>: [<span class="hljs-string">&#x27;&quot;Excellent.&quot;&#x27;</span>, <span class="hljs-string">&#x27;&quot;useless&quot;&#x27;</span>, <span class="hljs-string">&#x27;&quot;ok&quot;&#x27;</span>], <span class="hljs-comment"># Excellent, inutile, ok </span>
 <span class="hljs-string">&#x27;rating&#x27;</span>: [<span class="hljs-number">10.0</span>, <span class="hljs-number">1.0</span>, <span class="hljs-number">6.0</span>],
 <span class="hljs-string">&#x27;date&#x27;</span>: [<span class="hljs-string">&#x27;November 4, 2008&#x27;</span>, <span class="hljs-string">&#x27;March 24, 2017&#x27;</span>, <span class="hljs-string">&#x27;August 20, 2016&#x27;</span>], 
         <span class="hljs-comment"># 4 novembre 2008, 24 mars 2017, 20 ao\xFBt 2016</span>
 <span class="hljs-string">&#x27;usefulCount&#x27;</span>: [<span class="hljs-number">5</span>, <span class="hljs-number">2</span>, <span class="hljs-number">10</span>],
 <span class="hljs-string">&#x27;review_length&#x27;</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>]}`}}),St=new Cs({props:{$$slots:{default:[X3]},$$scope:{ctx:R}}}),un=new E({props:{code:`drug_dataset = drug_dataset.filter(lambda x: x["review_length"] > 30)
print(drug_dataset.num_rows)`,highlighted:`drug_dataset = drug_dataset.<span class="hljs-built_in">filter</span>(<span class="hljs-keyword">lambda</span> x: x[<span class="hljs-string">&quot;review_length&quot;</span>] &gt; <span class="hljs-number">30</span>)
<span class="hljs-built_in">print</span>(drug_dataset.num_rows)`}}),dn=new E({props:{code:"{'train': 138514, 'test': 46108}",highlighted:'{<span class="hljs-string">&#x27;train&#x27;</span>: <span class="hljs-number">138514</span>, <span class="hljs-string">&#x27;test&#x27;</span>: <span class="hljs-number">46108</span>}'}}),Ht=new Cs({props:{$$slots:{default:[W3]},$$scope:{ctx:R}}}),pn=new E({props:{code:"",highlighted:`<span class="hljs-keyword">import</span> html

text = <span class="hljs-string">&quot;I&amp;#039;m a transformer called BERT&quot;</span>
html.unescape(text)`}}),cn=new E({props:{code:`"I'm a transformer called BERT"`,highlighted:'<span class="hljs-string">&quot;I&#x27;m a transformer called BERT&quot;</span>'}}),mn=new E({props:{code:'drug_dataset = drug_dataset.map(lambda x: {"review": html.unescape(x["review"])})',highlighted:'drug_dataset = drug_dataset.<span class="hljs-built_in">map</span>(<span class="hljs-keyword">lambda</span> x: {<span class="hljs-string">&quot;review&quot;</span>: html.unescape(x[<span class="hljs-string">&quot;review&quot;</span>])})'}}),fn=new ma({}),vn=new E({props:{code:`new_drug_dataset = drug_dataset.map(
    lambda x: {"review": [html.unescape(o) for o in x["review"]]}, batched=True
)`,highlighted:`new_drug_dataset = drug_dataset.<span class="hljs-built_in">map</span>(
    <span class="hljs-keyword">lambda</span> x: {<span class="hljs-string">&quot;review&quot;</span>: [html.unescape(o) <span class="hljs-keyword">for</span> o <span class="hljs-keyword">in</span> x[<span class="hljs-string">&quot;review&quot;</span>]]}, batched=<span class="hljs-literal">True</span>
)`}}),hn=new E({props:{code:`

`,highlighted:`<span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> AutoTokenizer

tokenizer = AutoTokenizer.from_pretrained(<span class="hljs-string">&quot;bert-base-cased&quot;</span>)


<span class="hljs-keyword">def</span> <span class="hljs-title function_">tokenize_function</span>(<span class="hljs-params">examples</span>):
    <span class="hljs-keyword">return</span> tokenizer(examples[<span class="hljs-string">&quot;review&quot;</span>], truncation=<span class="hljs-literal">True</span>)`}}),_n=new E({props:{code:"%time tokenized_dataset = drug_dataset.map(tokenize_function, batched=True)",highlighted:'%time tokenized_dataset = drug_dataset.<span class="hljs-built_in">map</span>(tokenize_function, batched=<span class="hljs-literal">True</span>)'}}),Bt=new Cs({props:{$$slots:{default:[K3]},$$scope:{ctx:R}}}),bn=new E({props:{code:`


`,highlighted:`slow_tokenizer = AutoTokenizer.from_pretrained(<span class="hljs-string">&quot;bert-base-cased&quot;</span>, use_fast=<span class="hljs-literal">False</span>)


<span class="hljs-keyword">def</span> <span class="hljs-title function_">slow_tokenize_function</span>(<span class="hljs-params">examples</span>):
    <span class="hljs-keyword">return</span> slow_tokenizer(examples[<span class="hljs-string">&quot;review&quot;</span>], truncation=<span class="hljs-literal">True</span>)


tokenized_dataset = drug_dataset.<span class="hljs-built_in">map</span>(slow_tokenize_function, batched=<span class="hljs-literal">True</span>, num_proc=<span class="hljs-number">8</span>)`}}),Qt=new Cs({props:{$$slots:{default:[Q3]},$$scope:{ctx:R}}}),Zt=new Cs({props:{$$slots:{default:[Z3]},$$scope:{ctx:R}}}),qn=new E({props:{code:`def tokenize_and_split(examples):
    return tokenizer(
        examples["review"],
        truncation=True,
        max_length=128,
        return_overflowing_tokens=True,
    )`,highlighted:`<span class="hljs-keyword">def</span> <span class="hljs-title function_">tokenize_and_split</span>(<span class="hljs-params">examples</span>):
    <span class="hljs-keyword">return</span> tokenizer(
        examples[<span class="hljs-string">&quot;review&quot;</span>],
        truncation=<span class="hljs-literal">True</span>,
        max_length=<span class="hljs-number">128</span>,
        return_overflowing_tokens=<span class="hljs-literal">True</span>,
    )`}}),wn=new E({props:{code:`result = tokenize_and_split(drug_dataset["train"][0])
[len(inp) for inp in result["input_ids"]]`,highlighted:`result = tokenize_and_split(drug_dataset[<span class="hljs-string">&quot;train&quot;</span>][<span class="hljs-number">0</span>])
[<span class="hljs-built_in">len</span>(inp) <span class="hljs-keyword">for</span> inp <span class="hljs-keyword">in</span> result[<span class="hljs-string">&quot;input_ids&quot;</span>]]`}}),Dn=new E({props:{code:"[128, 49]",highlighted:'[<span class="hljs-number">128</span>, <span class="hljs-number">49</span>]'}}),kn=new E({props:{code:"tokenized_dataset = drug_dataset.map(tokenize_and_split, batched=True)",highlighted:'tokenized_dataset = drug_dataset.<span class="hljs-built_in">map</span>(tokenize_and_split, batched=<span class="hljs-literal">True</span>)'}}),yn=new E({props:{code:"ArrowInvalid: Column 1 named condition expected length 1463 but got length 1000",highlighted:'ArrowInvalid: Column <span class="hljs-number">1</span> named condition expected length <span class="hljs-number">1463</span> but got length <span class="hljs-number">1000</span>'}}),Tn=new E({props:{code:`tokenized_dataset = drug_dataset.map(
    tokenize_and_split, batched=True, remove_columns=drug_dataset["train"].column_names
)`,highlighted:`tokenized_dataset = drug_dataset.<span class="hljs-built_in">map</span>(
    tokenize_and_split, batched=<span class="hljs-literal">True</span>, remove_columns=drug_dataset[<span class="hljs-string">&quot;train&quot;</span>].column_names
)`}}),zn=new E({props:{code:'len(tokenized_dataset["train"]), len(drug_dataset["train"])',highlighted:'<span class="hljs-built_in">len</span>(tokenized_dataset[<span class="hljs-string">&quot;train&quot;</span>]), <span class="hljs-built_in">len</span>(drug_dataset[<span class="hljs-string">&quot;train&quot;</span>])'}}),On=new E({props:{code:"(206772, 138514)",highlighted:'(<span class="hljs-number">206772</span>, <span class="hljs-number">138514</span>)'}}),Pn=new E({props:{code:`def tokenize_and_split(examples):
    result = tokenizer(
        examples["review"],
        truncation=True,
        max_length=128,
        return_overflowing_tokens=True,
    )
    # Extract mapping between new and old indices
    sample_map = result.pop("overflow_to_sample_mapping")
    for key, values in examples.items():
        result[key] = [values[i] for i in sample_map]
    return result`,highlighted:`<span class="hljs-keyword">def</span> <span class="hljs-title function_">tokenize_and_split</span>(<span class="hljs-params">examples</span>):
    result = tokenizer(
        examples[<span class="hljs-string">&quot;review&quot;</span>],
        truncation=<span class="hljs-literal">True</span>,
        max_length=<span class="hljs-number">128</span>,
        return_overflowing_tokens=<span class="hljs-literal">True</span>,
    )
    <span class="hljs-comment"># Extract mapping between new and old indices</span>
    sample_map = result.pop(<span class="hljs-string">&quot;overflow_to_sample_mapping&quot;</span>)
    <span class="hljs-keyword">for</span> key, values <span class="hljs-keyword">in</span> examples.items():
        result[key] = [values[i] <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> sample_map]
    <span class="hljs-keyword">return</span> result`}}),Nn=new E({props:{code:`tokenized_dataset = drug_dataset.map(tokenize_and_split, batched=True)
tokenized_dataset`,highlighted:`tokenized_dataset = drug_dataset.<span class="hljs-built_in">map</span>(tokenize_and_split, batched=<span class="hljs-literal">True</span>)
tokenized_dataset`}}),An=new E({props:{code:`DatasetDict({
    train: Dataset({
        features: ['attention_mask', 'condition', 'date', 'drugName', 'input_ids', 'patient_id', 'rating', 'review', 'review_length', 'token_type_ids', 'usefulCount'],
        num_rows: 206772
    })
    test: Dataset({
        features: ['attention_mask', 'condition', 'date', 'drugName', 'input_ids', 'patient_id', 'rating', 'review', 'review_length', 'token_type_ids', 'usefulCount'],
        num_rows: 68876
    })
})`,highlighted:`DatasetDict({
    train: Dataset({
        features: [<span class="hljs-string">&#x27;attention_mask&#x27;</span>, <span class="hljs-string">&#x27;condition&#x27;</span>, <span class="hljs-string">&#x27;date&#x27;</span>, <span class="hljs-string">&#x27;drugName&#x27;</span>, <span class="hljs-string">&#x27;input_ids&#x27;</span>, <span class="hljs-string">&#x27;patient_id&#x27;</span>, <span class="hljs-string">&#x27;rating&#x27;</span>, <span class="hljs-string">&#x27;review&#x27;</span>, <span class="hljs-string">&#x27;review_length&#x27;</span>, <span class="hljs-string">&#x27;token_type_ids&#x27;</span>, <span class="hljs-string">&#x27;usefulCount&#x27;</span>],
        num_rows: <span class="hljs-number">206772</span>
    })
    test: Dataset({
        features: [<span class="hljs-string">&#x27;attention_mask&#x27;</span>, <span class="hljs-string">&#x27;condition&#x27;</span>, <span class="hljs-string">&#x27;date&#x27;</span>, <span class="hljs-string">&#x27;drugName&#x27;</span>, <span class="hljs-string">&#x27;input_ids&#x27;</span>, <span class="hljs-string">&#x27;patient_id&#x27;</span>, <span class="hljs-string">&#x27;rating&#x27;</span>, <span class="hljs-string">&#x27;review&#x27;</span>, <span class="hljs-string">&#x27;review_length&#x27;</span>, <span class="hljs-string">&#x27;token_type_ids&#x27;</span>, <span class="hljs-string">&#x27;usefulCount&#x27;</span>],
        num_rows: <span class="hljs-number">68876</span>
    })
})`}}),Mn=new ma({}),In=new xb({props:{id:"tfcY1067A5Q"}}),Ln=new E({props:{code:'drug_dataset.set_format("pandas")',highlighted:'drug_dataset.set_format(<span class="hljs-string">&quot;pandas&quot;</span>)'}}),Sn=new E({props:{code:'drug_dataset["train"][:3]',highlighted:'drug_dataset[<span class="hljs-string">&quot;train&quot;</span>][:<span class="hljs-number">3</span>]'}}),Hn=new E({props:{code:'train_df = drug_dataset["train"][:]',highlighted:'train_df = drug_dataset[<span class="hljs-string">&quot;train&quot;</span>][:]'}}),os=new Cs({props:{$$slots:{default:[e4]},$$scope:{ctx:R}}}),Rn=new E({props:{code:`frequencies = (
    train_df["condition"]
    .value_counts()
    .to_frame()
    .reset_index()
    .rename(columns={"index": "condition", "condition": "frequency"})
)
frequencies.head()`,highlighted:`frequencies = (
    train_df[<span class="hljs-string">&quot;condition&quot;</span>]
    .value_counts()
    .to_frame()
    .reset_index()
    .rename(columns={<span class="hljs-string">&quot;index&quot;</span>: <span class="hljs-string">&quot;condition&quot;</span>, <span class="hljs-string">&quot;condition&quot;</span>: <span class="hljs-string">&quot;frequency&quot;</span>})
)
frequencies.head()`}}),Un=new E({props:{code:"",highlighted:`<span class="hljs-keyword">from</span> datasets <span class="hljs-keyword">import</span> Dataset

freq_dataset = Dataset.from_pandas(frequencies)
freq_dataset`}}),Jn=new E({props:{code:`Dataset({
    features: ['condition', 'frequency'],
    num_rows: 819
})`,highlighted:`Dataset({
    features: [<span class="hljs-string">&#x27;condition&#x27;</span>, <span class="hljs-string">&#x27;frequency&#x27;</span>],
    num_rows: <span class="hljs-number">819</span>
})`}}),ls=new Cs({props:{$$slots:{default:[t4]},$$scope:{ctx:R}}}),Vn=new E({props:{code:"drug_dataset.reset_format()",highlighted:"drug_dataset.reset_format()"}}),Fn=new ma({}),Bn=new E({props:{code:`drug_dataset_clean = drug_dataset["train"].train_test_split(train_size=0.8, seed=42)
# Rename the default "test" split to "validation"
drug_dataset_clean["validation"] = drug_dataset_clean.pop("test")
# Add the "test" set to our \`DatasetDict\`
drug_dataset_clean["test"] = drug_dataset["test"]
drug_dataset_clean`,highlighted:`drug_dataset_clean = drug_dataset[<span class="hljs-string">&quot;train&quot;</span>].train_test_split(train_size=<span class="hljs-number">0.8</span>, seed=<span class="hljs-number">42</span>)
<span class="hljs-comment"># Rename the default &quot;test&quot; split to &quot;validation&quot;</span>
drug_dataset_clean[<span class="hljs-string">&quot;validation&quot;</span>] = drug_dataset_clean.pop(<span class="hljs-string">&quot;test&quot;</span>)
<span class="hljs-comment"># Add the &quot;test&quot; set to our \`DatasetDict\`</span>
drug_dataset_clean[<span class="hljs-string">&quot;test&quot;</span>] = drug_dataset[<span class="hljs-string">&quot;test&quot;</span>]
drug_dataset_clean`}}),Gn=new E({props:{code:`DatasetDict({
    train: Dataset({
        features: ['patient_id', 'drugName', 'condition', 'review', 'rating', 'date', 'usefulCount', 'review_length', 'review_clean'],
        num_rows: 110811
    })
    validation: Dataset({
        features: ['patient_id', 'drugName', 'condition', 'review', 'rating', 'date', 'usefulCount', 'review_length', 'review_clean'],
        num_rows: 27703
    })
    test: Dataset({
        features: ['patient_id', 'drugName', 'condition', 'review', 'rating', 'date', 'usefulCount', 'review_length', 'review_clean'],
        num_rows: 46108
    })
})`,highlighted:`DatasetDict({
    train: Dataset({
        features: [<span class="hljs-string">&#x27;patient_id&#x27;</span>, <span class="hljs-string">&#x27;drugName&#x27;</span>, <span class="hljs-string">&#x27;condition&#x27;</span>, <span class="hljs-string">&#x27;review&#x27;</span>, <span class="hljs-string">&#x27;rating&#x27;</span>, <span class="hljs-string">&#x27;date&#x27;</span>, <span class="hljs-string">&#x27;usefulCount&#x27;</span>, <span class="hljs-string">&#x27;review_length&#x27;</span>, <span class="hljs-string">&#x27;review_clean&#x27;</span>],
        num_rows: <span class="hljs-number">110811</span>
    })
    validation: Dataset({
        features: [<span class="hljs-string">&#x27;patient_id&#x27;</span>, <span class="hljs-string">&#x27;drugName&#x27;</span>, <span class="hljs-string">&#x27;condition&#x27;</span>, <span class="hljs-string">&#x27;review&#x27;</span>, <span class="hljs-string">&#x27;rating&#x27;</span>, <span class="hljs-string">&#x27;date&#x27;</span>, <span class="hljs-string">&#x27;usefulCount&#x27;</span>, <span class="hljs-string">&#x27;review_length&#x27;</span>, <span class="hljs-string">&#x27;review_clean&#x27;</span>],
        num_rows: <span class="hljs-number">27703</span>
    })
    test: Dataset({
        features: [<span class="hljs-string">&#x27;patient_id&#x27;</span>, <span class="hljs-string">&#x27;drugName&#x27;</span>, <span class="hljs-string">&#x27;condition&#x27;</span>, <span class="hljs-string">&#x27;review&#x27;</span>, <span class="hljs-string">&#x27;rating&#x27;</span>, <span class="hljs-string">&#x27;date&#x27;</span>, <span class="hljs-string">&#x27;usefulCount&#x27;</span>, <span class="hljs-string">&#x27;review_length&#x27;</span>, <span class="hljs-string">&#x27;review_clean&#x27;</span>],
        num_rows: <span class="hljs-number">46108</span>
    })
})`}}),Yn=new ma({}),Xn=new xb({props:{id:"blF9uxYcKHo"}}),ea=new E({props:{code:'drug_dataset_clean.save_to_disk("drug-reviews")',highlighted:'drug_dataset_clean.save_to_disk(<span class="hljs-string">&quot;drug-reviews&quot;</span>)'}}),ta=new E({props:{code:`drug-reviews/
\u251C\u2500\u2500 dataset_dict.json
\u251C\u2500\u2500 test
\u2502   \u251C\u2500\u2500 dataset.arrow
\u2502   \u251C\u2500\u2500 dataset_info.json
\u2502   \u2514\u2500\u2500 state.json
\u251C\u2500\u2500 train
\u2502   \u251C\u2500\u2500 dataset.arrow
\u2502   \u251C\u2500\u2500 dataset_info.json
\u2502   \u251C\u2500\u2500 indices.arrow
\u2502   \u2514\u2500\u2500 state.json
\u2514\u2500\u2500 validation
    \u251C\u2500\u2500 dataset.arrow
    \u251C\u2500\u2500 dataset_info.json
    \u251C\u2500\u2500 indices.arrow
    \u2514\u2500\u2500 state.json`,highlighted:`drug-reviews/
\u251C\u2500\u2500 dataset_dict.json
\u251C\u2500\u2500 test
\u2502   \u251C\u2500\u2500 dataset.arrow
\u2502   \u251C\u2500\u2500 dataset_info.json
\u2502   \u2514\u2500\u2500 <span class="hljs-keyword">state</span>.json
\u251C\u2500\u2500 train
\u2502   \u251C\u2500\u2500 dataset.arrow
\u2502   \u251C\u2500\u2500 dataset_info.json
\u2502   \u251C\u2500\u2500 indices.arrow
\u2502   \u2514\u2500\u2500 <span class="hljs-keyword">state</span>.json
\u2514\u2500\u2500 validation
    \u251C\u2500\u2500 dataset.arrow
    \u251C\u2500\u2500 dataset_info.json
    \u251C\u2500\u2500 indices.arrow
    \u2514\u2500\u2500 <span class="hljs-keyword">state</span>.json`}}),sa=new E({props:{code:"",highlighted:`<span class="hljs-keyword">from</span> datasets <span class="hljs-keyword">import</span> load_from_disk

drug_dataset_reloaded = load_from_disk(<span class="hljs-string">&quot;drug-reviews&quot;</span>)
drug_dataset_reloaded`}}),na=new E({props:{code:`DatasetDict({
    train: Dataset({
        features: ['patient_id', 'drugName', 'condition', 'review', 'rating', 'date', 'usefulCount', 'review_length'],
        num_rows: 110811
    })
    validation: Dataset({
        features: ['patient_id', 'drugName', 'condition', 'review', 'rating', 'date', 'usefulCount', 'review_length'],
        num_rows: 27703
    })
    test: Dataset({
        features: ['patient_id', 'drugName', 'condition', 'review', 'rating', 'date', 'usefulCount', 'review_length'],
        num_rows: 46108
    })
})`,highlighted:`DatasetDict({
    train: Dataset({
        features: [<span class="hljs-string">&#x27;patient_id&#x27;</span>, <span class="hljs-string">&#x27;drugName&#x27;</span>, <span class="hljs-string">&#x27;condition&#x27;</span>, <span class="hljs-string">&#x27;review&#x27;</span>, <span class="hljs-string">&#x27;rating&#x27;</span>, <span class="hljs-string">&#x27;date&#x27;</span>, <span class="hljs-string">&#x27;usefulCount&#x27;</span>, <span class="hljs-string">&#x27;review_length&#x27;</span>],
        num_rows: <span class="hljs-number">110811</span>
    })
    validation: Dataset({
        features: [<span class="hljs-string">&#x27;patient_id&#x27;</span>, <span class="hljs-string">&#x27;drugName&#x27;</span>, <span class="hljs-string">&#x27;condition&#x27;</span>, <span class="hljs-string">&#x27;review&#x27;</span>, <span class="hljs-string">&#x27;rating&#x27;</span>, <span class="hljs-string">&#x27;date&#x27;</span>, <span class="hljs-string">&#x27;usefulCount&#x27;</span>, <span class="hljs-string">&#x27;review_length&#x27;</span>],
        num_rows: <span class="hljs-number">27703</span>
    })
    test: Dataset({
        features: [<span class="hljs-string">&#x27;patient_id&#x27;</span>, <span class="hljs-string">&#x27;drugName&#x27;</span>, <span class="hljs-string">&#x27;condition&#x27;</span>, <span class="hljs-string">&#x27;review&#x27;</span>, <span class="hljs-string">&#x27;rating&#x27;</span>, <span class="hljs-string">&#x27;date&#x27;</span>, <span class="hljs-string">&#x27;usefulCount&#x27;</span>, <span class="hljs-string">&#x27;review_length&#x27;</span>],
        num_rows: <span class="hljs-number">46108</span>
    })
})`}}),aa=new E({props:{code:`for split, dataset in drug_dataset_clean.items():
    dataset.to_json(f"drug-reviews-{split}.jsonl")`,highlighted:`<span class="hljs-keyword">for</span> split, dataset <span class="hljs-keyword">in</span> drug_dataset_clean.items():
    dataset.to_json(<span class="hljs-string">f&quot;drug-reviews-<span class="hljs-subst">{split}</span>.jsonl&quot;</span>)`}}),ra=new E({props:{code:"!head -n 1 drug-reviews-train.jsonl",highlighted:'!head -n <span class="hljs-number">1</span> drug-reviews-train.jsonl'}}),la=new E({props:{code:`{"patient_id":141780,"drugName":"Escitalopram","condition":"depression","review":"\\"I seemed to experience the regular side effects of LEXAPRO, insomnia, low sex drive, sleepiness during the day. I am taking it at night because my doctor said if it made me tired to take it at night. I assumed it would and started out taking it at night. Strange dreams, some pleasant. I was diagnosed with fibromyalgia. Seems to be helping with the pain. Have had anxiety and depression in my family, and have tried quite a few other medications that haven't worked. Only have been on it for two weeks but feel more positive in my mind, want to accomplish more in my life. Hopefully the side effects will dwindle away, worth it to stick with it from hearing others responses. Great medication.\\"","rating":9.0,"date":"May 29, 2011","usefulCount":10,"review_length":125}
                                                                                  # Il semble que je ressente les effets secondaires habituels de LEXAPRO : insomnie, baisse de la libido, somnolence pendant la journ\xE9e. Je le prends le soir parce que mon m\xE9decin m'a dit de le prendre le soir s'il me fatiguait. J'ai suppos\xE9 que ce serait le cas et j'ai commenc\xE9 \xE0 le prendre la nuit. R\xEAves \xE9tranges, certains agr\xE9ables. On m'a diagnostiqu\xE9 une fibromyalgie. Il semble que ce m\xE9dicament aide \xE0 soulager la douleur. J'ai eu de l'anxi\xE9t\xE9 et de la d\xE9pression dans ma famille, et j'ai essay\xE9 plusieurs autres m\xE9dicaments qui n'ont pas fonctionn\xE9. Cela ne fait que deux semaines que je prends ce m\xE9dicament, mais je me sens plus positif dans mon esprit et je veux accomplir davantage dans ma vie. J'esp\xE8re que les effets secondaires vont s'estomper, cela vaut la peine de s'y tenir d'apr\xE8s les r\xE9ponses des autres. C'est un excellent m\xE9dicament.`,highlighted:`{<span class="hljs-string">&quot;patient_id&quot;</span>:<span class="hljs-number">141780</span>,<span class="hljs-string">&quot;drugName&quot;</span>:<span class="hljs-string">&quot;Escitalopram&quot;</span>,<span class="hljs-string">&quot;condition&quot;</span>:<span class="hljs-string">&quot;depression&quot;</span>,<span class="hljs-string">&quot;review&quot;</span>:<span class="hljs-string">&quot;\\&quot;I seemed to experience the regular side effects of LEXAPRO, insomnia, low sex drive, sleepiness during the day. I am taking it at night because my doctor said if it made me tired to take it at night. I assumed it would and started out taking it at night. Strange dreams, some pleasant. I was diagnosed with fibromyalgia. Seems to be helping with the pain. Have had anxiety and depression in my family, and have tried quite a few other medications that haven&#x27;t worked. Only have been on it for two weeks but feel more positive in my mind, want to accomplish more in my life. Hopefully the side effects will dwindle away, worth it to stick with it from hearing others responses. Great medication.\\&quot;&quot;</span>,<span class="hljs-string">&quot;rating&quot;</span>:<span class="hljs-number">9.0</span>,<span class="hljs-string">&quot;date&quot;</span>:<span class="hljs-string">&quot;May 29, 2011&quot;</span>,<span class="hljs-string">&quot;usefulCount&quot;</span>:<span class="hljs-number">10</span>,<span class="hljs-string">&quot;review_length&quot;</span>:<span class="hljs-number">125</span>}
                                                                                  <span class="hljs-comment"># Il semble que je ressente les effets secondaires habituels de LEXAPRO : insomnie, baisse de la libido, somnolence pendant la journ\xE9e. Je le prends le soir parce que mon m\xE9decin m&#x27;a dit de le prendre le soir s&#x27;il me fatiguait. J&#x27;ai suppos\xE9 que ce serait le cas et j&#x27;ai commenc\xE9 \xE0 le prendre la nuit. R\xEAves \xE9tranges, certains agr\xE9ables. On m&#x27;a diagnostiqu\xE9 une fibromyalgie. Il semble que ce m\xE9dicament aide \xE0 soulager la douleur. J&#x27;ai eu de l&#x27;anxi\xE9t\xE9 et de la d\xE9pression dans ma famille, et j&#x27;ai essay\xE9 plusieurs autres m\xE9dicaments qui n&#x27;ont pas fonctionn\xE9. Cela ne fait que deux semaines que je prends ce m\xE9dicament, mais je me sens plus positif dans mon esprit et je veux accomplir davantage dans ma vie. J&#x27;esp\xE8re que les effets secondaires vont s&#x27;estomper, cela vaut la peine de s&#x27;y tenir d&#x27;apr\xE8s les r\xE9ponses des autres. C&#x27;est un excellent m\xE9dicament.</span>`}}),ia=new E({props:{code:`data_files = {
    "train": "drug-reviews-train.jsonl",
    "validation": "drug-reviews-validation.jsonl",
    "test": "drug-reviews-test.jsonl",
}
drug_dataset_reloaded = load_dataset("json", data_files=data_files)`,highlighted:`data_files = {
    <span class="hljs-string">&quot;train&quot;</span>: <span class="hljs-string">&quot;drug-reviews-train.jsonl&quot;</span>,
    <span class="hljs-string">&quot;validation&quot;</span>: <span class="hljs-string">&quot;drug-reviews-validation.jsonl&quot;</span>,
    <span class="hljs-string">&quot;test&quot;</span>: <span class="hljs-string">&quot;drug-reviews-test.jsonl&quot;</span>,
}
drug_dataset_reloaded = load_dataset(<span class="hljs-string">&quot;json&quot;</span>, data_files=data_files)`}}),{c(){c=o("meta"),C=d(),b=o("h1"),w=o("a"),y=o("span"),f(x.$$.fragment),j=d(),T=o("span"),q=n("Il est temps de trancher et de d\xE9couper"),D=d(),f(O.$$.fragment),z=d(),k=o("p"),X=n("La plupart du temps, les donn\xE9es avec lesquelles vous travaillez ne sont pas parfaitement pr\xE9par\xE9es pour l\u2019entra\xEEnements de mod\xE8les. Dans cette section, nous allons explorer les diff\xE9rentes fonctionnalit\xE9s fournies par \u{1F917} "),A=o("em"),W=n("Datasets"),Pe=n(" pour nettoyer vos jeux de donn\xE9es."),K=d(),f(P.$$.fragment),Ne=d(),U=o("h2"),ne=o("a"),_e=o("span"),f(Q.$$.fragment),Ts=d(),dt=o("span"),pt=n("Trancher et d\xE9couper nos donn\xE9es"),N=d(),H=o("p"),fa=n("Semblable \xE0 Pandas, \u{1F917} "),At=o("em"),va=n("Datasets"),ha=n(" fournit plusieurs fonctions pour manipuler le contenu des objets "),Mt=o("code"),_a=n("Dataset"),ga=n(" et "),Yo=o("code"),Im=n("DatasetDict"),Lm=n(". Nous avons d\xE9j\xE0 rencontr\xE9 la m\xE9thode "),Xo=o("code"),Sm=n("Dataset.map()"),Hm=n(" dans le "),$a=o("a"),Rm=n("chapitre 3"),Um=n(" et dans cette section nous allons explorer certaines des autres fonctions \xE0 notre disposition."),id=d(),Ie=o("p"),Jm=n("Pour cet exemple, nous utiliserons le "),zs=o("a"),Wo=o("em"),Vm=n("Drug Review Dataset"),Fm=n(" qui est h\xE9berg\xE9 sur "),Os=o("a"),Ko=o("em"),Bm=n("UC Irvine Machine Learning Repository"),Gm=n(" et contenant des avis de patients sur divers m\xE9dicaments ainsi que la condition trait\xE9e et une note de 10 \xE9toiles sur la satisfaction du patient."),ud=d(),Le=o("p"),Ym=n("Nous devons d\u2019abord t\xE9l\xE9charger et extraire les donn\xE9es, ce qui peut \xEAtre fait avec les commandes "),Qo=o("code"),Xm=n("wget"),Wm=n(" et "),Zo=o("code"),Km=n("unzip"),Qm=n(" :"),dd=d(),f(Ps.$$.fragment),pd=d(),ge=o("p"),Zm=n("\xC9tant donn\xE9 que TSV n\u2019est qu\u2019une variante de CSV qui utilise des tabulations au lieu de virgules comme s\xE9parateurs, nous pouvons charger ces fichiers en utilisant le script de chargement "),er=o("code"),ef=n("csv"),tf=n(" et en sp\xE9cifiant l\u2019argument "),tr=o("code"),sf=n("delimiter"),nf=n(" dans la fonction "),sr=o("code"),af=n("load_dataset()"),of=n(" comme suit :"),cd=d(),f(Ns.$$.fragment),md=d(),$e=o("p"),rf=n("Une bonne pratique lors de toute sorte d\u2019analyse de donn\xE9es consiste \xE0 pr\xE9lever un petit \xE9chantillon al\xE9atoire pour avoir une id\xE9e rapide du type de donn\xE9es avec lesquelles vous travaillez. Dans \u{1F917} "),nr=o("em"),lf=n("Datasets"),uf=n(", nous pouvons cr\xE9er un \xE9chantillon al\xE9atoire en encha\xEEnant les fonctions "),ar=o("code"),df=n("Dataset.shuffle()"),pf=n(" et "),or=o("code"),cf=n("Dataset.select()"),mf=n(" :"),fd=d(),f(As.$$.fragment),vd=d(),f(Ms.$$.fragment),hd=d(),Ee=o("p"),ff=n("Notez que nous avons corrig\xE9 la graine dans "),rr=o("code"),vf=n("Dataset.shuffle()"),hf=n(" \xE0 des fins de reproductibilit\xE9. "),lr=o("code"),_f=n("Dataset.select()"),gf=n(" attend un it\xE9rable d\u2019indices, nous avons donc pass\xE9 "),ir=o("code"),$f=n("range(1000)"),Ef=n(" pour r\xE9cup\xE9rer les 1 000 premiers exemples du jeu de donn\xE9es m\xE9lang\xE9. \xC0 partir de cet \xE9chantillon, nous pouvons d\xE9j\xE0 voir quelques bizarreries dans notre jeu de donn\xE9es :"),_d=d(),Se=o("ul"),Is=o("li"),bf=n("la colonne "),ur=o("code"),xf=n("Unnamed: 0"),jf=n(" ressemble \xE9trangement \xE0 un identifiant anonyme pour chaque patient,"),qf=d(),Ls=o("li"),wf=n("la colonne "),dr=o("code"),Df=n("condition"),kf=n(" comprend un m\xE9lange d\u2019\xE9tiquettes en majuscules et en minuscules,"),yf=d(),ct=o("li"),Cf=n("les avis sont de longueur variable et contiennent un m\xE9lange de s\xE9parateurs de lignes Python ("),pr=o("code"),Tf=n("\\r\\n"),zf=n(") ainsi que des codes de caract\xE8res HTML comme "),cr=o("code"),Of=n("&\\#039;"),Pf=n("."),gd=d(),be=o("p"),Nf=n("Voyons comment nous pouvons utiliser \u{1F917} "),mr=o("em"),Af=n("Datasets"),Mf=n(" pour traiter chacun de ces probl\xE8mes. Pour tester l\u2019hypoth\xE8se de l\u2019ID patient pour la colonne "),fr=o("code"),If=n("Unnamed : 0"),Lf=n(", nous pouvons utiliser la fonction "),vr=o("code"),Sf=n("Dataset.unique()"),Hf=n(" pour v\xE9rifier que le nombre d\u2019ID correspond au nombre de lignes dans chaque division :"),$d=d(),f(Ss.$$.fragment),Ed=d(),He=o("p"),Rf=n("Cela semble confirmer notre hypoth\xE8se, alors nettoyons un peu en renommant la colonne "),hr=o("code"),Uf=n("Unnamed: 0"),Jf=n(" en quelque chose d\u2019un peu plus interpr\xE9table. Nous pouvons utiliser la fonction "),_r=o("code"),Vf=n("DatasetDict.rename_column()"),Ff=n(" pour renommer la colonne sur les deux divisions en une seule fois :"),bd=d(),f(Hs.$$.fragment),xd=d(),f(Rs.$$.fragment),jd=d(),f(It.$$.fragment),qd=d(),oe=o("p"),Bf=n("Ensuite, normalisons toutes les \xE9tiquettes "),gr=o("code"),Gf=n("condition"),Yf=n(" en utilisant "),$r=o("code"),Xf=n("Dataset.map()"),Wf=n(". Comme nous l\u2019avons fait avec la tokenisation dans le "),Ea=o("a"),Kf=n("chapitre 3"),Qf=n(", nous pouvons d\xE9finir une fonction simple qui peut \xEAtre appliqu\xE9e sur toutes les lignes de chaque division dans "),Er=o("code"),Zf=n("drug_dataset"),ev=n(" :"),wd=d(),f(Us.$$.fragment),Dd=d(),f(Js.$$.fragment),kd=d(),re=o("p"),tv=n("Oh non, nous rencontrons un probl\xE8me avec notre fonction ! \xC0 partir de l\u2019erreur, nous pouvons d\xE9duire que certaines des entr\xE9es de la colonne "),br=o("code"),sv=n("condition"),nv=n(" sont "),xr=o("code"),av=n("None"),ov=n(" ne pouvant donc pas \xEAtre mises en minuscules car ce ne sont pas des cha\xEEnes. Supprimons ces lignes en utilisant "),jr=o("code"),rv=n("Dataset.filter()"),lv=n(", qui fonctionne de mani\xE8re similaire \xE0 "),qr=o("code"),iv=n("Dataset.map()"),uv=n(" et attend une fonction qui re\xE7oit un seul exemple issu du jeu de donn\xE9es. Au lieu d\u2019\xE9crire une fonction explicite comme :"),yd=d(),f(Vs.$$.fragment),Cd=d(),Re=o("p"),dv=n("puis ex\xE9cuter "),wr=o("code"),pv=n("drug_dataset.filter(filter_nones)"),cv=n(", nous pouvons le faire en une seule ligne en utilisant une "),Dr=o("em"),mv=n("fonction lambda"),fv=n(". En Python, les fonctions lambda sont de petites fonctions que vous pouvez d\xE9finir sans les nommer explicitement. Ils prennent la forme g\xE9n\xE9rale :"),Td=d(),f(Fs.$$.fragment),zd=d(),le=o("p"),vv=n("o\xF9 "),kr=o("code"),hv=n("lambda"),_v=n(" est l\u2019un des "),Bs=o("a"),gv=n("mots cl\xE9s"),$v=n(" sp\xE9ciaux de Python, "),yr=o("code"),Ev=n("<arguments>"),bv=n(" est une liste/ensemble de valeurs s\xE9par\xE9es par des virgules qui d\xE9finissent les entr\xE9es de la fonction et "),Cr=o("code"),xv=n("<expression>"),jv=n(" repr\xE9sente les op\xE9rations que vous souhaitez ex\xE9cuter. Par exemple, nous pouvons d\xE9finir une simple fonction lambda qui met au carr\xE9 un nombre comme suit :"),Od=d(),f(Gs.$$.fragment),Pd=d(),ba=o("p"),qv=n("Pour appliquer cette fonction \xE0 une entr\xE9e, nous devons l\u2019envelopper ainsi que l\u2019entr\xE9e entre parenth\xE8ses :"),Nd=d(),f(Ys.$$.fragment),Ad=d(),f(Xs.$$.fragment),Md=d(),xa=o("p"),wv=n("De m\xEAme, nous pouvons d\xE9finir des fonctions lambda avec plusieurs arguments en les s\xE9parant par des virgules. Par exemple, nous pouvons calculer l\u2019aire d\u2019un triangle comme suit :"),Id=d(),f(Ws.$$.fragment),Ld=d(),f(Ks.$$.fragment),Sd=d(),xe=o("p"),Dv=n("Les fonctions lambda sont pratiques lorsque vous souhaitez d\xE9finir de petites fonctions \xE0 usage unique (pour plus d\u2019informations \xE0 leur sujet, nous vous recommandons de lire l\u2019excellent "),Qs=o("a"),kv=n("tutoriel Real Python"),yv=n(" d\u2019Andr\xE9 Burgaud) . Dans le contexte de la biblioth\xE8que \u{1F917} "),Tr=o("em"),Cv=n("Datasets"),Tv=n(", nous pouvons utiliser des fonctions lambda pour d\xE9finir des op\xE9rations simples de \xAB mappage \xBB et de filtrage. Utilisons cette astuce pour \xE9liminer les entr\xE9es "),zr=o("code"),zv=n("None"),Ov=n(" dans notre jeu de donn\xE9es :"),Hd=d(),f(Zs.$$.fragment),Rd=d(),Ue=o("p"),Pv=n("Avec les entr\xE9es "),Or=o("code"),Nv=n("None"),Av=n(" supprim\xE9es, nous pouvons normaliser notre colonne "),Pr=o("code"),Mv=n("condition"),Iv=n(" :"),Ud=d(),f(en.$$.fragment),Jd=d(),f(tn.$$.fragment),Vd=d(),ja=o("p"),Lv=n("\xC7a marche ! Maintenant que nous avons nettoy\xE9 les \xE9tiquettes, examinons le nettoyage des avis eux-m\xEAmes."),Fd=d(),mt=o("h2"),Lt=o("a"),Nr=o("span"),f(sn.$$.fragment),Sv=d(),Ar=o("span"),Hv=n("Cr\xE9ation de nouvelles colonnes"),Bd=d(),qa=o("p"),Rv=n("Chaque fois que vous avez affaire \xE0 des avis de clients, une bonne pratique consiste \xE0 v\xE9rifier le nombre de mots dans chaque avis. Une critique peut \xEAtre un simple mot comme \xAB G\xE9nial ! \xBB ou un essai complet avec des milliers de mots. Selon le cas d\u2019usage, vous devrez g\xE9rer ces extr\xEAmes diff\xE9remment. Pour calculer le nombre de mots dans chaque r\xE9vision, nous utiliserons une heuristique approximative bas\xE9e sur la division de chaque texte par des espaces."),Gd=d(),wa=o("p"),Uv=n("D\xE9finissons une fonction simple qui compte le nombre de mots dans chaque avis :"),Yd=d(),f(nn.$$.fragment),Xd=d(),Z=o("p"),Jv=n("Contrairement \xE0 notre fonction "),Mr=o("code"),Vv=n("lowercase_condition()"),Fv=n(", "),Ir=o("code"),Bv=n("compute_review_length()"),Gv=n(" renvoie un dictionnaire dont la cl\xE9 ne correspond pas \xE0 l\u2019un des noms de colonne du jeu de donn\xE9es. Dans ce cas, lorsque "),Lr=o("code"),Yv=n("compute_review_length()"),Xv=n(" est pass\xE9 \xE0 "),Sr=o("code"),Wv=n("Dataset.map()"),Kv=n(", il est appliqu\xE9 \xE0 toutes les lignes du jeu de donn\xE9es pour cr\xE9er une nouvelle colonne "),Hr=o("code"),Qv=n("review_length"),Zv=n(" :"),Wd=d(),f(an.$$.fragment),Kd=d(),f(on.$$.fragment),Qd=d(),Je=o("p"),eh=n("Comme pr\xE9vu, nous pouvons voir qu\u2019une colonne "),Rr=o("code"),th=n("review_length"),sh=n(" a \xE9t\xE9 ajout\xE9e \xE0 notre jeu d\u2019entra\xEEnement. Nous pouvons trier cette nouvelle colonne avec "),Ur=o("code"),nh=n("Dataset.sort()"),ah=n(" pour voir \xE0 quoi ressemblent les valeurs extr\xEAmes :"),Zd=d(),f(rn.$$.fragment),ep=d(),f(ln.$$.fragment),tp=d(),Da=o("p"),oh=n("Comme nous le soup\xE7onnions, certaines critiques ne contiennent qu\u2019un seul mot, ce qui, bien que cela puisse convenir \xE0 l\u2019analyse des sentiments, n\u2019est pas informatif si nous voulons pr\xE9dire la condition."),sp=d(),f(St.$$.fragment),np=d(),Ve=o("p"),rh=n("Utilisons la fonction "),Jr=o("code"),lh=n("Dataset.filter()"),ih=n(" pour supprimer les avis contenant moins de 30 mots. De la m\xEAme mani\xE8re que nous l\u2019avons fait avec la colonne "),Vr=o("code"),uh=n("condition"),dh=n(", nous pouvons filtrer les avis tr\xE8s courts en exigeant que les avis aient une longueur sup\xE9rieure \xE0 ce seuil :"),ap=d(),f(un.$$.fragment),op=d(),f(dn.$$.fragment),rp=d(),ka=o("p"),ph=n("Comme vous pouvez le constater, cela a supprim\xE9 environ 15 % des avis de nos jeux d\u2019entra\xEEnement et de test d\u2019origine."),lp=d(),f(Ht.$$.fragment),ip=d(),Rt=o("p"),ch=n("La derni\xE8re chose \xE0 laquelle nous devons faire face est la pr\xE9sence de caract\xE8res HTML dans nos avis. Nous pouvons utiliser le module "),Fr=o("code"),mh=n("html"),fh=n(" de Python pour supprimer ces caract\xE8res, comme ceci :"),up=d(),f(pn.$$.fragment),dp=d(),f(cn.$$.fragment),pp=d(),Ut=o("p"),vh=n("Nous utilisons "),Br=o("code"),hh=n("Dataset.map()"),_h=n(" pour d\xE9masquer tous les caract\xE8res HTML de notre corpus :"),cp=d(),f(mn.$$.fragment),mp=d(),Jt=o("p"),gh=n("Comme vous pouvez le voir, la m\xE9thode "),Gr=o("code"),$h=n("Dataset.map()"),Eh=n(" est tr\xE8s utile pour le traitement des donn\xE9es. Et nous n\u2019avons m\xEAme pas effleur\xE9 la surface de tout ce qu\u2019elle peut faire !"),fp=d(),ft=o("h2"),Vt=o("a"),Yr=o("span"),f(fn.$$.fragment),bh=d(),ya=o("span"),xh=n("Les superpouvoirs de la m\xE9thode "),Xr=o("code"),jh=n("map()"),vp=d(),ee=o("p"),qh=n("La m\xE9thode "),Wr=o("code"),wh=n("Dataset.map()"),Dh=n(" prend un argument "),Kr=o("code"),kh=n("batched"),yh=n(" qui, s\u2019il est d\xE9fini sur "),Qr=o("code"),Ch=n("True"),Th=n(", l\u2019am\xE8ne \xE0 envoyer un batch d\u2019exemples \xE0 la fonction "),Zr=o("em"),zh=n("map"),Oh=n(" en une seule fois (la taille du batch est configurable mais est fix\xE9 par d\xE9faut \xE0 1 000). Par exemple, la fonction "),el=o("code"),Ph=n("map()"),Nh=n(" pr\xE9c\xE9dente qui supprime tout le code HTML prend un peu de temps \xE0 s\u2019ex\xE9cuter (vous pouvez lire le temps pris dans les barres de progression). On peut acc\xE9l\xE9rer cela en traitant plusieurs \xE9l\xE9ments en m\xEAme temps \xE0 l\u2019aide d\u2019une compr\xE9hension de liste."),hp=d(),ie=o("p"),Ah=n("Lorsque vous sp\xE9cifiez "),tl=o("code"),Mh=n("batched=True"),Ih=n(", la fonction re\xE7oit un dictionnaire avec les champs du jeu de donn\xE9es mais chaque valeur est maintenant une "),sl=o("em"),Lh=n("liste de valeurs"),Sh=n(" et non plus une seule valeur. La valeur retourn\xE9e par "),nl=o("code"),Hh=n("Dataset.map()"),Rh=n(" devrait \xEAtre la m\xEAme : un dictionnaire avec les champs que nous voulons mettre \xE0 jour ou ajouter \xE0 notre jeu de donn\xE9es, et une liste de valeurs. Par exemple, voici une autre fa\xE7on de supprimer tous les caract\xE8res HTML, mais en utilisant "),al=o("code"),Uh=n("batched=True"),Jh=n(" :"),_p=d(),f(vn.$$.fragment),gp=d(),je=o("p"),Vh=n("Si vous ex\xE9cutez ce code dans un "),ol=o("em"),Fh=n("notebook"),Bh=n(", vous verrez que cette commande s\u2019ex\xE9cute beaucoup plus rapidement que la pr\xE9c\xE9dente. Et ce n\u2019est pas parce que nos critiques ont d\xE9j\xE0 \xE9t\xE9 scann\xE9es au format HTML. Si vous r\xE9-ex\xE9cutez l\u2019instruction de la section pr\xE9c\xE9dente (sans "),rl=o("code"),Gh=n("batched=True"),Yh=n("), cela prendra le m\xEAme temps qu\u2019avant. En effet, les compr\xE9hensions de liste sont g\xE9n\xE9ralement plus rapides que l\u2019ex\xE9cution du m\xEAme code dans une boucle "),ll=o("code"),Xh=n("for"),Wh=n(" et nous gagnons \xE9galement en performances en acc\xE9dant \xE0 de nombreux \xE9l\xE9ments en m\xEAme temps au lieu d\u2019un par un."),$p=d(),te=o("p"),Kh=n("L\u2019utilisation de "),il=o("code"),Qh=n("Dataset.map()"),Zh=n(" avec "),ul=o("code"),e_=n("batched=True"),t_=n(" est essentielle pour les "),dl=o("em"),s_=n("tokenizers rapides"),n_=n(" que nous rencontrerons dans le "),Ca=o("a"),a_=n("chapitre 6"),o_=n(" et qui peuvent rapidement tokeniser de grandes listes de textes. Par exemple, pour tokeniser toutes les critiques de m\xE9dicaments avec un "),pl=o("em"),r_=n("tokenizer"),l_=n(" rapide nous pouvons utiliser une fonction comme celle-ci :"),Ep=d(),f(hn.$$.fragment),bp=d(),se=o("p"),i_=n("Comme vous l\u2019avez vu dans le "),Ta=o("a"),u_=n("chapitre 3"),d_=n(", nous pouvons passer un ou plusieurs exemples au "),cl=o("em"),p_=n("tokenizer"),c_=n(". Nous pouvons donc utiliser cette fonction avec ou sans "),ml=o("code"),m_=n("batched=True"),f_=n(". Profitons-en pour comparer les performances des diff\xE9rentes options. Dans un "),fl=o("em"),v_=n("notebook"),h_=n(", vous pouvez chronom\xE9trer une instruction d\u2019une ligne en ajoutant "),vl=o("code"),__=n("%time"),g_=n(" avant la ligne de code que vous souhaitez mesurer :"),xp=d(),f(_n.$$.fragment),jp=d(),Ft=o("p"),$_=n("Vous pouvez \xE9galement chronom\xE9trer une cellule enti\xE8re en mettant "),hl=o("code"),E_=n("%%time"),b_=n(" au d\xE9but de la cellule. Sur le mat\xE9riel sur lequel nous avons ex\xE9cut\xE9 cela, cela affichait 10,8 s pour cette instruction (c\u2019est le nombre \xE9crit apr\xE8s \u201CWall time\u201D)."),qp=d(),f(Bt.$$.fragment),wp=d(),Fe=o("p"),x_=n("Voici les r\xE9sultats que nous avons obtenus avec et sans "),_l=o("em"),j_=n("batching"),q_=n(", avec un "),gl=o("em"),w_=n("tokenizer"),D_=n(" rapide et un lent :"),Dp=d(),Gt=o("table"),$l=o("thead"),vt=o("tr"),za=o("th"),k_=n("Options"),y_=d(),gn=o("th"),El=o("em"),C_=n("Tokenizer"),T_=n(" rapide"),z_=d(),$n=o("th"),bl=o("em"),O_=n("Tokenizer"),P_=n(" lent"),N_=d(),En=o("tbody"),ht=o("tr"),Oa=o("td"),xl=o("code"),A_=n("batched=True"),M_=d(),Pa=o("td"),I_=n("10.8s"),L_=d(),Na=o("td"),S_=n("4min41s"),H_=d(),_t=o("tr"),Aa=o("td"),jl=o("code"),R_=n("batched=False"),U_=d(),Ma=o("td"),J_=n("59.2s"),V_=d(),Ia=o("td"),F_=n("5min3s"),kp=d(),ue=o("p"),B_=n("Cela signifie que l\u2019utilisation d\u2019un "),ql=o("em"),G_=n("tokenizer"),Y_=n(" rapide avec l\u2019option "),wl=o("code"),X_=n("batched=True"),W_=n(" est 30 fois plus rapide que son homologue lent sans batch. C\u2019est vraiment incroyable ! C\u2019est la raison principale pour laquelle les "),Dl=o("em"),K_=n("tokenizers"),Q_=n(" rapides sont la valeur par d\xE9faut lors de l\u2019utilisation de "),kl=o("code"),Z_=n("AutoTokenizer"),e2=n(" (et pourquoi ils sont appel\xE9s \xAB rapides \xBB). Ils sont capables d\u2019atteindre une telle vitesse car en coulisses le code de tokenisation est ex\xE9cut\xE9 en Rust qui est un langage facilitant la parall\xE9lisation de l\u2019ex\xE9cution du code."),yp=d(),Yt=o("p"),t2=n("La parall\xE9lisation est \xE9galement la raison du gain de vitesse de pr\xE8s de 6 fois obtenue par le "),yl=o("em"),s2=n("tokenizer"),n2=n(" rapide avec batch. Vous ne pouvez pas parall\xE9liser une seule op\xE9ration de tokenisation, mais lorsque vous souhaitez tokeniser de nombreux textes en m\xEAme temps, vous pouvez simplement r\xE9partir l\u2019ex\xE9cution sur plusieurs processus. Chacun responsable de ses propres textes."),Cp=d(),ae=o("p"),Cl=o("code"),a2=n("Dataset.map()"),o2=n(" poss\xE8de aussi ses propres capacit\xE9s de parall\xE9lisation. Comme elles ne sont pas soutenus par Rust, un "),Tl=o("em"),r2=n("tokenizer"),l2=n(" lent ne peut pas rattraper un rapide mais cela peut toujours \xEAtre utile (surtout si vous utilisez un "),zl=o("em"),i2=n("tokenizer"),u2=n(" qui n\u2019a pas de version rapide). Pour activer le multitraitement, utilisez l\u2019argument "),Ol=o("code"),d2=n("num_proc"),p2=n(" et sp\xE9cifiez le nombre de processus \xE0 utiliser dans votre appel \xE0 "),Pl=o("code"),c2=n("Dataset.map()"),m2=n(" :"),Tp=d(),f(bn.$$.fragment),zp=d(),La=o("p"),f2=n("Vous pouvez faire des tests pour d\xE9terminer le nombre optimal de processus \xE0 utiliser. Dans notre cas 8 semble produire le meilleur gain de vitesse. Voici les chiffres que nous avons obtenus avec et sans multitraitement :"),Op=d(),Xt=o("table"),Nl=o("thead"),gt=o("tr"),Sa=o("th"),v2=n("Options"),h2=d(),xn=o("th"),Al=o("em"),_2=n("Tokenizer"),g2=n(" rapide"),$2=d(),jn=o("th"),Ml=o("em"),E2=n("Tokenizer"),b2=n(" lent"),x2=d(),Ae=o("tbody"),$t=o("tr"),Ha=o("td"),Il=o("code"),j2=n("batched=True"),q2=d(),Ra=o("td"),w2=n("10.8s"),D2=d(),Ua=o("td"),k2=n("4min41s"),y2=d(),Et=o("tr"),Ja=o("td"),Ll=o("code"),C2=n("batched=False"),T2=d(),Va=o("td"),z2=n("59.2s"),O2=d(),Fa=o("td"),P2=n("5min3s"),N2=d(),bt=o("tr"),Wt=o("td"),Sl=o("code"),A2=n("batched=True"),M2=n(", "),Hl=o("code"),I2=n("num_proc=8"),L2=d(),Ba=o("td"),S2=n("6.52s"),H2=d(),Ga=o("td"),R2=n("41.3s"),U2=d(),xt=o("tr"),Kt=o("td"),Rl=o("code"),J2=n("batched=False"),V2=n(", "),Ul=o("code"),F2=n("num_proc=8"),B2=d(),Ya=o("td"),G2=n("9.49s"),Y2=d(),Xa=o("td"),X2=n("45.2s"),Pp=d(),J=o("p"),W2=n("Ce sont des r\xE9sultats beaucoup plus raisonnables pour le "),Jl=o("em"),K2=n("tokenizer"),Q2=n(" lent mais les performances du "),Vl=o("em"),Z2=n("tokenizer"),eg=n(" rapide ont \xE9galement \xE9t\xE9 consid\xE9rablement am\xE9lior\xE9es. Notez, cependant, que ce ne sera pas toujours le cas : pour des valeurs de "),Fl=o("code"),tg=n("num_proc"),sg=n(" autres que 8, nos tests ont montr\xE9 qu\u2019il \xE9tait plus rapide d\u2019utiliser "),Bl=o("code"),ng=n("batched=True"),ag=n(" sans cette option. En g\xE9n\xE9ral, nous ne recommandons pas d\u2019utiliser le multitraitement pour les "),Gl=o("em"),og=n("tokenizers"),rg=n(" rapides avec "),Yl=o("code"),lg=n("batched=True"),ig=n("."),Np=d(),f(Qt.$$.fragment),Ap=d(),qe=o("p"),ug=n("Toutes ces fonctionnalit\xE9s condens\xE9es en une seule m\xE9thode sont d\xE9j\xE0 assez \xE9tonnantes, mais il y a plus ! Avec "),Xl=o("code"),dg=n("Dataset.map()"),pg=n(" et "),Wl=o("code"),cg=n("batched=True"),mg=n(" vous pouvez modifier le nombre d\u2019\xE9l\xE9ments dans votre jeu de donn\xE9es. Ceci est tr\xE8s utile dans de nombreuses situations o\xF9 vous souhaitez cr\xE9er plusieurs fonctionnalit\xE9s d\u2019entra\xEEnement \xE0 partir d\u2019un exemple. Nous devrons le faire dans le cadre du pr\xE9traitement de plusieurs des t\xE2ches de traitement du langage naturel que nous entreprendrons dans le "),Wa=o("a"),fg=n("chapitre 7"),vg=n("."),Mp=d(),f(Zt.$$.fragment),Ip=d(),we=o("p"),hg=n("Voyons comment cela fonctionne ! Ici, nous allons tokeniser nos exemples et les tronquer \xE0 une longueur maximale de 128 mais nous demanderons au "),Kl=o("em"),_g=n("tokenizer"),gg=n(" de renvoyer "),Ql=o("em"),$g=n("tous"),Eg=n(" les morceaux des textes au lieu du premier. Cela peut \xEAtre fait avec "),Zl=o("code"),bg=n("return_overflowing_tokens=True"),xg=n(" :"),Lp=d(),f(qn.$$.fragment),Sp=d(),es=o("p"),jg=n("Testons cela sur un exemple avant d\u2019utiliser "),ei=o("code"),qg=n("Dataset.map()"),wg=n(" sur le jeu de donn\xE9es :"),Hp=d(),f(wn.$$.fragment),Rp=d(),f(Dn.$$.fragment),Up=d(),ts=o("p"),Dg=n("Notre premier exemple du jeu d\u2019entra\xEEnement est devenu deux caract\xE9ristiques car il a \xE9t\xE9 segment\xE9 \xE0 plus que le nombre maximum de "),ti=o("em"),kg=n("tokens"),yg=n(" que nous avons sp\xE9cifi\xE9 : le premier de longueur 128 et le second de longueur 49. Faisons maintenant cela pour tous les \xE9l\xE9ments du jeu de donn\xE9es !"),Jp=d(),f(kn.$$.fragment),Vp=d(),f(yn.$$.fragment),Fp=d(),Be=o("p"),Cg=n("Oh non ! Cela n\u2019a pas fonctionn\xE9 ! Pourquoi ? L\u2019examen du message d\u2019erreur nous donne un indice : il y a une incompatibilit\xE9 dans les longueurs de l\u2019une des colonnes. L\u2019une \xE9tant de longueur 1 463 et l\u2019autre de longueur 1 000. Si vous avez consult\xE9 la "),Cn=o("a"),Tg=n("documentation"),zg=n(" de "),si=o("code"),Og=n("Dataset.map()"),Pg=n(", vous vous souvenez peut-\xEAtre qu\u2019il s\u2019agit du nombre d\u2019\xE9chantillons pass\xE9s \xE0 la fonction que nous mappons. Ici, ces 1 000 exemples ont donn\xE9 1 463 nouvelles caract\xE9ristiques, entra\xEEnant une erreur de forme."),Bp=d(),de=o("p"),Ng=n("Le probl\xE8me est que nous essayons de m\xE9langer deux jeux de donn\xE9es diff\xE9rents de tailles diff\xE9rentes : les colonnes "),ni=o("code"),Ag=n("drug_dataset"),Mg=n(" auront un certain nombre d\u2019exemples (les 1 000 dans notre erreur), mais le "),ai=o("code"),Ig=n("tokenized_dataset"),Lg=n(" que nous construisons en aura plus (le 1 463 dans le message d\u2019erreur). Cela ne fonctionne pas pour un "),oi=o("code"),Sg=n("Dataset"),Hg=n(", nous devons donc soit supprimer les colonnes de l\u2019ancien jeu de donn\xE9es, soit leur donner la m\xEAme taille que dans le nouveau jeu de donn\xE9es. Nous pouvons faire la premi\xE8re option avec l\u2019argument "),ri=o("code"),Rg=n("remove_columns"),Ug=n(" :"),Gp=d(),f(Tn.$$.fragment),Yp=d(),Ka=o("p"),Jg=n("Maintenant, cela fonctionne sans erreur. Nous pouvons v\xE9rifier que notre nouveau jeu de donn\xE9es contient beaucoup plus d\u2019\xE9l\xE9ments que le jeu de donn\xE9es d\u2019origine en comparant les longueurs :"),Xp=d(),f(zn.$$.fragment),Wp=d(),f(On.$$.fragment),Kp=d(),De=o("p"),Vg=n("Nous avons mentionn\xE9 que nous pouvions \xE9galement r\xE9soudre le probl\xE8me de longueur non concordante en donnant aux anciennes colonnes la m\xEAme taille que les nouvelles. Pour ce faire, nous avons besoin du champ "),li=o("code"),Fg=n("overflow_to_sample_mapping"),Bg=n(" que le "),ii=o("em"),Gg=n("tokenizer"),Yg=n(" renvoie lorsque nous d\xE9finissons "),ui=o("code"),Xg=n("return_overflowing_tokens=True"),Wg=n(". Il nous donne une correspondance entre un nouvel index de caract\xE9ristique et l\u2019index de l\u2019\xE9chantillon dont il est issu. Gr\xE2ce \xE0 cela, nous pouvons associer chaque cl\xE9 pr\xE9sente dans notre jeu de donn\xE9es d\u2019origine \xE0 une liste de valeurs de la bonne taille en r\xE9p\xE9tant les valeurs de chaque exemple autant de fois qu\u2019il g\xE9n\xE8re de nouvelles caract\xE9ristiques :"),Qp=d(),f(Pn.$$.fragment),Zp=d(),ss=o("p"),Kg=n("Nous pouvons voir que cela fonctionne avec "),di=o("code"),Qg=n("Dataset.map()"),Zg=n(" sans que nous ayons besoin de supprimer les anciennes colonnes :"),ec=d(),f(Nn.$$.fragment),tc=d(),f(An.$$.fragment),sc=d(),Qa=o("p"),e1=n("Nous obtenons le m\xEAme nombre de caract\xE9ristiques d\u2019entra\xEEnement qu\u2019auparavant, mais ici nous avons conserv\xE9 tous les anciens champs. Si vous en avez besoin pour un post-traitement apr\xE8s l\u2019application de votre mod\xE8le, vous pouvez utiliser cette approche."),nc=d(),pe=o("p"),t1=n("Vous avez maintenant vu comment \u{1F917} "),pi=o("em"),s1=n("Datasets"),n1=n(" peut \xEAtre utilis\xE9 pour pr\xE9traiter un jeu de donn\xE9es de diff\xE9rentes mani\xE8res. Bien que les fonctions de traitement de \u{1F917} "),ci=o("em"),a1=n("Datasets"),o1=n(" couvrent la plupart de vos besoins, il peut arriver que vous deviez passer \xE0 Pandas pour acc\xE9der \xE0 des fonctionnalit\xE9s plus puissantes, telles que "),mi=o("code"),r1=n("DataFrame.groupby()"),l1=n(" ou des API de haut niveau pour la visualisation. Heureusement, \u{1F917} "),fi=o("em"),i1=n("Datasets"),u1=n(" est con\xE7u pour \xEAtre interop\xE9rable avec des biblioth\xE8ques telles que Pandas, NumPy, PyTorch, TensorFlow et JAX. Voyons comment cela fonctionne."),ac=d(),jt=o("h2"),ns=o("a"),vi=o("span"),f(Mn.$$.fragment),d1=d(),qt=o("span"),p1=n("De "),hi=o("code"),c1=n("Dataset"),m1=n(" \xE0 "),_i=o("code"),f1=n("DataFrame"),v1=n(" et vice versa"),oc=d(),f(In.$$.fragment),rc=d(),ce=o("p"),h1=n("Pour permettre la conversion entre diverses biblioth\xE8ques tierces, \u{1F917} "),gi=o("em"),_1=n("Datasets"),g1=n(" fournit une fonction "),$i=o("code"),$1=n("Dataset.set_format()"),E1=n(". Cette fonction ne modifie que le "),Ei=o("em"),b1=n("format de sortie"),x1=n(" du jeu de donn\xE9es. Vous pouvez donc facilement passer \xE0 un autre format sans affecter le "),bi=o("em"),j1=n("format de donn\xE9es"),q1=n(" sous-jacent, qui est Apache Arrow. Le formatage se fait sur place. Pour d\xE9montrer, convertissons notre jeu de donn\xE9es vers Pandas :"),lc=d(),f(Ln.$$.fragment),ic=d(),as=o("p"),w1=n("Maintenant, lorsque nous acc\xE9dons aux \xE9l\xE9ments du jeu de donn\xE9es, nous obtenons un "),xi=o("code"),D1=n("pandas.DataFrame"),k1=n(" au lieu d\u2019un dictionnaire :"),uc=d(),f(Sn.$$.fragment),dc=d(),Ge=o("table"),ji=o("thead"),M=o("tr"),pc=o("th"),y1=d(),qi=o("th"),C1=n("patient_id"),T1=d(),wi=o("th"),z1=n("drugName"),O1=d(),Di=o("th"),P1=n("condition"),N1=d(),ki=o("th"),A1=n("review"),M1=d(),yi=o("th"),I1=n("rating"),L1=d(),Ci=o("th"),S1=n("date"),H1=d(),Ti=o("th"),R1=n("usefulCount"),U1=d(),zi=o("th"),J1=n("review_length"),V1=d(),wt=o("tbody"),I=o("tr"),Oi=o("th"),F1=n("0"),B1=d(),Pi=o("td"),G1=n("95260"),Y1=d(),Ni=o("td"),X1=n("Guanfacine"),W1=d(),Ai=o("td"),K1=n("adhd"),Q1=d(),Mi=o("td"),Z1=n('"My son is halfway through his fourth week of Intuniv..."'),e$=d(),Ii=o("td"),t$=n("8.0"),s$=d(),Li=o("td"),n$=n("April 27, 2010"),a$=d(),Si=o("td"),o$=n("192"),r$=d(),Hi=o("td"),l$=n("141"),i$=d(),L=o("tr"),Ri=o("th"),u$=n("1"),d$=d(),Ui=o("td"),p$=n("92703"),c$=d(),Ji=o("td"),m$=n("Lybrel"),f$=d(),Vi=o("td"),v$=n("birth control"),h$=d(),Fi=o("td"),_$=n('"I used to take another oral contraceptive, which had 21 pill cycle, and was very happy- very light periods, max 5 days, no other side effects..."'),g$=d(),Bi=o("td"),$$=n("5.0"),E$=d(),Gi=o("td"),b$=n("December 14, 2009"),x$=d(),Yi=o("td"),j$=n("17"),q$=d(),Xi=o("td"),w$=n("134"),D$=d(),S=o("tr"),Wi=o("th"),k$=n("2"),y$=d(),Ki=o("td"),C$=n("138000"),T$=d(),Qi=o("td"),z$=n("Ortho Evra"),O$=d(),Zi=o("td"),P$=n("birth control"),N$=d(),eu=o("td"),A$=n('"This is my first time using any form of birth control..."'),M$=d(),tu=o("td"),I$=n("8.0"),L$=d(),su=o("td"),S$=n("November 3, 2015"),H$=d(),nu=o("td"),R$=n("10"),U$=d(),au=o("td"),J$=n("89"),cc=d(),Ye=o("p"),V$=n("Cr\xE9ons un "),ou=o("code"),F$=n("pandas.DataFrame"),B$=n(" pour l\u2019ensemble d\u2019entra\xEEnement en s\xE9lectionnant tous les \xE9l\xE9ments de "),ru=o("code"),G$=n('drug_dataset["train"]'),Y$=n(" :"),mc=d(),f(Hn.$$.fragment),fc=d(),f(os.$$.fragment),vc=d(),rs=o("p"),X$=n("De l\xE0, nous pouvons utiliser toutes les fonctionnalit\xE9s Pandas que nous voulons. Par exemple, nous pouvons faire un cha\xEEnage sophistiqu\xE9 pour calculer la distribution de classe parmi les entr\xE9es "),lu=o("code"),W$=n("condition"),K$=n(" :"),hc=d(),f(Rn.$$.fragment),_c=d(),Xe=o("table"),iu=o("thead"),We=o("tr"),gc=o("th"),Q$=d(),uu=o("th"),Z$=n("condition"),e7=d(),du=o("th"),t7=n("frequency"),s7=d(),he=o("tbody"),Dt=o("tr"),pu=o("th"),n7=n("0"),a7=d(),cu=o("td"),o7=n("birth control"),r7=d(),mu=o("td"),l7=n("27655"),i7=d(),kt=o("tr"),fu=o("th"),u7=n("1"),d7=d(),vu=o("td"),p7=n("depression"),c7=d(),hu=o("td"),m7=n("8023"),f7=d(),yt=o("tr"),_u=o("th"),v7=n("2"),h7=d(),gu=o("td"),_7=n("acne"),g7=d(),$u=o("td"),$7=n("5209"),E7=d(),Ct=o("tr"),Eu=o("th"),b7=n("3"),x7=d(),bu=o("td"),j7=n("anxiety"),q7=d(),xu=o("td"),w7=n("4991"),D7=d(),Tt=o("tr"),ju=o("th"),k7=n("4"),y7=d(),qu=o("td"),C7=n("pain"),T7=d(),wu=o("td"),z7=n("4744"),$c=d(),Ke=o("p"),O7=n("Et une fois que nous avons termin\xE9 notre analyse Pandas, nous pouvons toujours cr\xE9er un nouvel objet "),Du=o("code"),P7=n("Dataset"),N7=n(" en utilisant la fonction "),ku=o("code"),A7=n("Dataset.from_pandas()"),M7=n(" comme suit :"),Ec=d(),f(Un.$$.fragment),bc=d(),f(Jn.$$.fragment),xc=d(),f(ls.$$.fragment),jc=d(),me=o("p"),I7=n("Ceci conclut notre visite des diff\xE9rentes techniques de pr\xE9traitement disponibles dans \u{1F917} "),yu=o("em"),L7=n("Datasets"),S7=n(". Pour compl\xE9ter la section, cr\xE9ons un ensemble de validation pour pr\xE9parer le jeu de donn\xE9es \xE0 l\u2019entra\xEEnement d\u2019un classifieur. Avant cela, nous allons r\xE9initialiser le format de sortie de "),Cu=o("code"),H7=n("drug_dataset"),R7=n(" de "),Tu=o("code"),U7=n('"pandas"'),J7=n(" \xE0 "),zu=o("code"),V7=n('"arrow"'),F7=n(" :"),qc=d(),f(Vn.$$.fragment),wc=d(),zt=o("h2"),is=o("a"),Ou=o("span"),f(Fn.$$.fragment),B7=d(),Pu=o("span"),G7=n("Cr\xE9ation d'un ensemble de validation"),Dc=d(),Za=o("p"),Y7=n("Bien que nous ayons un jeu de test que nous pourrions utiliser pour l\u2019\xE9valuation, il est recommand\xE9 de ne pas toucher au jeu de test et de cr\xE9er un jeu de validation s\xE9par\xE9 pendant le d\xE9veloppement. Une fois que vous \xEAtes satisfait des performances de vos mod\xE8les sur l\u2019ensemble de validation, vous pouvez effectuer une derni\xE8re v\xE9rification d\u2019int\xE9grit\xE9 sur l\u2019ensemble test. Ce processus permet d\u2019att\xE9nuer le risque de surentra\xEEnement sur le jeu de test et de d\xE9ployer un mod\xE8le qui \xE9choue sur des donn\xE9es du monde r\xE9el."),kc=d(),V=o("p"),X7=n("\u{1F917} "),Nu=o("em"),W7=n("Datasets"),K7=n(" fournit une fonction "),Au=o("code"),Q7=n("Dataset.train_test_split()"),Z7=n(" bas\xE9e sur la c\xE9l\xE8bre fonctionnalit\xE9 de "),Mu=o("code"),eE=n("scikit-learn"),tE=n(". Utilisons-la pour diviser notre ensemble d\u2019entra\xEEnement "),Iu=o("code"),sE=n("train"),nE=n(" et "),Lu=o("code"),aE=n("validation"),oE=n(" (nous d\xE9finissons l\u2019argument "),Su=o("code"),rE=n("seed"),lE=n(" pour la reproductibilit\xE9) :"),yc=d(),f(Bn.$$.fragment),Cc=d(),f(Gn.$$.fragment),Tc=d(),Qe=o("p"),iE=n("G\xE9nial, nous avons maintenant pr\xE9par\xE9 un jeu de donn\xE9es pr\xEAt pour l\u2019entra\xEEnement de certains mod\xE8les ! Dans la "),eo=o("a"),uE=n("section 5"),dE=n(", nous vous montrerons comment t\xE9l\xE9charger des jeux de donn\xE9es sur le "),Hu=o("em"),pE=n("Hub"),cE=n(". Mais pour l\u2019instant, terminons notre analyse en examinant quelques fa\xE7ons d\u2019enregistrer des jeux de donn\xE9es sur votre ordinateur local."),zc=d(),Ot=o("h2"),us=o("a"),Ru=o("span"),f(Yn.$$.fragment),mE=d(),Uu=o("span"),fE=n("Enregistrer un jeu de donn\xE9es"),Oc=d(),f(Xn.$$.fragment),Pc=d(),Ze=o("p"),vE=n("Bien que \u{1F917} "),Ju=o("em"),hE=n("Datasets"),_E=n(" mette en cache chaque jeu de donn\xE9es t\xE9l\xE9charg\xE9 et les op\xE9rations qui y sont effectu\xE9es, il y a des moments o\xF9 vous voudrez enregistrer un jeu de donn\xE9es sur le disque (par exemple, au cas o\xF9 le cache serait supprim\xE9). Comme indiqu\xE9 dans le tableau ci-dessous, \u{1F917} "),Vu=o("em"),gE=n("Datasets"),$E=n(" fournit trois fonctions principales pour enregistrer votre jeu de donn\xE9es dans diff\xE9rents formats :"),Nc=d(),ds=o("table"),Fu=o("thead"),Wn=o("tr"),to=o("th"),EE=n("Format de donn\xE9es"),bE=d(),so=o("th"),xE=n("Fonction"),jE=d(),Pt=o("tbody"),Kn=o("tr"),no=o("td"),qE=n("Arrow"),wE=d(),ao=o("td"),Bu=o("code"),DE=n("Dataset.save_to_disk()"),kE=d(),Qn=o("tr"),oo=o("td"),yE=n("CSV"),CE=d(),ro=o("td"),Gu=o("code"),TE=n("Dataset.to_csv()"),zE=d(),Zn=o("tr"),lo=o("td"),OE=n("JSON"),PE=d(),io=o("td"),Yu=o("code"),NE=n("Dataset.to_json()"),Ac=d(),uo=o("p"),AE=n("Par exemple, enregistrons notre jeu de donn\xE9es nettoy\xE9 au format Arrow :"),Mc=d(),f(ea.$$.fragment),Ic=d(),po=o("p"),ME=n("Cela cr\xE9era un r\xE9pertoire avec la structure suivante :"),Lc=d(),f(ta.$$.fragment),Sc=d(),ke=o("p"),IE=n("o\xF9 nous pouvons voir que chaque division est associ\xE9e \xE0 sa propre table "),Xu=o("em"),LE=n("dataset.arrow"),SE=n(" et \xE0 certaines m\xE9tadonn\xE9es dans "),Wu=o("em"),HE=n("dataset_info.json"),RE=n(" et "),Ku=o("em"),UE=n("state.json"),JE=n(". Vous pouvez consid\xE9rer le format Arrow comme un tableau sophistiqu\xE9 de colonnes et de lignes optimis\xE9 pour la cr\xE9ation d\u2019applications hautes performances qui traitent et transportent de grands ensembles de donn\xE9es."),Hc=d(),ps=o("p"),VE=n("Une fois le jeu de donn\xE9es enregistr\xE9, nous pouvons le charger en utilisant la fonction "),Qu=o("code"),FE=n("load_from_disk()"),BE=n(" comme suit :"),Rc=d(),f(sa.$$.fragment),Uc=d(),f(na.$$.fragment),Jc=d(),cs=o("p"),GE=n("Pour les formats CSV et JSON, nous devons stocker chaque fractionnement dans un fichier s\xE9par\xE9. Pour ce faire, vous pouvez parcourir les cl\xE9s et les valeurs de l\u2019objet "),Zu=o("code"),YE=n("DatasetDict"),XE=n(" :"),Vc=d(),f(aa.$$.fragment),Fc=d(),ms=o("p"),WE=n("Cela enregistre chaque fractionnement au "),oa=o("a"),KE=n("format JSON Lines"),QE=n(", o\xF9 chaque ligne du jeu de donn\xE9es est stock\xE9e sous la forme d\u2019une seule ligne de JSON. Voici \xE0 quoi ressemble le premier exemple :"),Bc=d(),f(ra.$$.fragment),Gc=d(),f(la.$$.fragment),Yc=d(),fs=o("p"),ZE=n("Nous pouvons ensuite utiliser les techniques de "),co=o("a"),eb=n("section 2"),tb=n(" pour charger les fichiers JSON comme suit :"),Xc=d(),f(ia.$$.fragment),Wc=d(),vs=o("p"),sb=n("Et c\u2019est tout pour notre excursion dans la manipulation des donn\xE9es avec \u{1F917} "),ed=o("em"),nb=n("Datasets"),ab=n(" ! Maintenant que nous disposons d\u2019un ensemble de donn\xE9es nettoy\xE9 pour entra\xEEner un mod\xE8le, voici quelques id\xE9es que vous pouvez essayer :"),Kc=d(),hs=o("ol"),ua=o("li"),ob=n("Utilisez les techniques du "),mo=o("a"),rb=n("chapitre 3"),lb=n(" pour entra\xEEner un classifieur capable de pr\xE9dire l\u2019\xE9tat du patient en fonction de l\u2019examen du m\xE9dicament."),ib=d(),Nt=o("li"),ub=n("Utilisez le pipeline "),td=o("code"),db=n("summarization"),pb=n(" du "),fo=o("a"),cb=n("chapitre 1"),mb=n(" pour g\xE9n\xE9rer des r\xE9sum\xE9s des r\xE9visions."),Qc=d(),_s=o("p"),fb=n("Ensuite, nous verrons comment \u{1F917} "),sd=o("em"),vb=n("Datasets"),hb=n(" peut vous permettre de travailler avec d\u2019\xE9normes jeux de donn\xE9es sans faire exploser votre ordinateur portable !"),this.h()},l(e){const i=F3('[data-svelte="svelte-1phssyn"]',document.head);c=r(i,"META",{name:!0,content:!0}),i.forEach(s),C=p(e),b=r(e,"H1",{class:!0});var da=l(b);w=r(da,"A",{id:!0,class:!0,href:!0});var nd=l(w);y=r(nd,"SPAN",{});var ad=l(y);v(x.$$.fragment,ad),ad.forEach(s),nd.forEach(s),j=p(da),T=r(da,"SPAN",{});var od=l(T);q=a(od,"Il est temps de trancher et de d\xE9couper"),od.forEach(s),da.forEach(s),D=p(e),v(O.$$.fragment,e),z=p(e),k=r(e,"P",{});var pa=l(k);X=a(pa,"La plupart du temps, les donn\xE9es avec lesquelles vous travaillez ne sont pas parfaitement pr\xE9par\xE9es pour l\u2019entra\xEEnements de mod\xE8les. Dans cette section, nous allons explorer les diff\xE9rentes fonctionnalit\xE9s fournies par \u{1F917} "),A=r(pa,"EM",{});var rd=l(A);W=a(rd,"Datasets"),rd.forEach(s),Pe=a(pa," pour nettoyer vos jeux de donn\xE9es."),pa.forEach(s),K=p(e),v(P.$$.fragment,e),Ne=p(e),U=r(e,"H2",{class:!0});var ca=l(U);ne=r(ca,"A",{id:!0,class:!0,href:!0});var ld=l(ne);_e=r(ld,"SPAN",{});var jb=l(_e);v(Q.$$.fragment,jb),jb.forEach(s),ld.forEach(s),Ts=p(ca),dt=r(ca,"SPAN",{});var qb=l(dt);pt=a(qb,"Trancher et d\xE9couper nos donn\xE9es"),qb.forEach(s),ca.forEach(s),N=p(e),H=r(e,"P",{});var ye=l(H);fa=a(ye,"Semblable \xE0 Pandas, \u{1F917} "),At=r(ye,"EM",{});var wb=l(At);va=a(wb,"Datasets"),wb.forEach(s),ha=a(ye," fournit plusieurs fonctions pour manipuler le contenu des objets "),Mt=r(ye,"CODE",{});var Db=l(Mt);_a=a(Db,"Dataset"),Db.forEach(s),ga=a(ye," et "),Yo=r(ye,"CODE",{});var kb=l(Yo);Im=a(kb,"DatasetDict"),kb.forEach(s),Lm=a(ye,". Nous avons d\xE9j\xE0 rencontr\xE9 la m\xE9thode "),Xo=r(ye,"CODE",{});var yb=l(Xo);Sm=a(yb,"Dataset.map()"),yb.forEach(s),Hm=a(ye," dans le "),$a=r(ye,"A",{href:!0});var Cb=l($a);Rm=a(Cb,"chapitre 3"),Cb.forEach(s),Um=a(ye," et dans cette section nous allons explorer certaines des autres fonctions \xE0 notre disposition."),ye.forEach(s),id=p(e),Ie=r(e,"P",{});var vo=l(Ie);Jm=a(vo,"Pour cet exemple, nous utiliserons le "),zs=r(vo,"A",{href:!0,rel:!0});var Tb=l(zs);Wo=r(Tb,"EM",{});var zb=l(Wo);Vm=a(zb,"Drug Review Dataset"),zb.forEach(s),Tb.forEach(s),Fm=a(vo," qui est h\xE9berg\xE9 sur "),Os=r(vo,"A",{href:!0,rel:!0});var Ob=l(Os);Ko=r(Ob,"EM",{});var Pb=l(Ko);Bm=a(Pb,"UC Irvine Machine Learning Repository"),Pb.forEach(s),Ob.forEach(s),Gm=a(vo," et contenant des avis de patients sur divers m\xE9dicaments ainsi que la condition trait\xE9e et une note de 10 \xE9toiles sur la satisfaction du patient."),vo.forEach(s),ud=p(e),Le=r(e,"P",{});var ho=l(Le);Ym=a(ho,"Nous devons d\u2019abord t\xE9l\xE9charger et extraire les donn\xE9es, ce qui peut \xEAtre fait avec les commandes "),Qo=r(ho,"CODE",{});var Nb=l(Qo);Xm=a(Nb,"wget"),Nb.forEach(s),Wm=a(ho," et "),Zo=r(ho,"CODE",{});var Ab=l(Zo);Km=a(Ab,"unzip"),Ab.forEach(s),Qm=a(ho," :"),ho.forEach(s),dd=p(e),v(Ps.$$.fragment,e),pd=p(e),ge=r(e,"P",{});var gs=l(ge);Zm=a(gs,"\xC9tant donn\xE9 que TSV n\u2019est qu\u2019une variante de CSV qui utilise des tabulations au lieu de virgules comme s\xE9parateurs, nous pouvons charger ces fichiers en utilisant le script de chargement "),er=r(gs,"CODE",{});var Mb=l(er);ef=a(Mb,"csv"),Mb.forEach(s),tf=a(gs," et en sp\xE9cifiant l\u2019argument "),tr=r(gs,"CODE",{});var Ib=l(tr);sf=a(Ib,"delimiter"),Ib.forEach(s),nf=a(gs," dans la fonction "),sr=r(gs,"CODE",{});var Lb=l(sr);af=a(Lb,"load_dataset()"),Lb.forEach(s),of=a(gs," comme suit :"),gs.forEach(s),cd=p(e),v(Ns.$$.fragment,e),md=p(e),$e=r(e,"P",{});var $s=l($e);rf=a($s,"Une bonne pratique lors de toute sorte d\u2019analyse de donn\xE9es consiste \xE0 pr\xE9lever un petit \xE9chantillon al\xE9atoire pour avoir une id\xE9e rapide du type de donn\xE9es avec lesquelles vous travaillez. Dans \u{1F917} "),nr=r($s,"EM",{});var Sb=l(nr);lf=a(Sb,"Datasets"),Sb.forEach(s),uf=a($s,", nous pouvons cr\xE9er un \xE9chantillon al\xE9atoire en encha\xEEnant les fonctions "),ar=r($s,"CODE",{});var Hb=l(ar);df=a(Hb,"Dataset.shuffle()"),Hb.forEach(s),pf=a($s," et "),or=r($s,"CODE",{});var Rb=l(or);cf=a(Rb,"Dataset.select()"),Rb.forEach(s),mf=a($s," :"),$s.forEach(s),fd=p(e),v(As.$$.fragment,e),vd=p(e),v(Ms.$$.fragment,e),hd=p(e),Ee=r(e,"P",{});var Es=l(Ee);ff=a(Es,"Notez que nous avons corrig\xE9 la graine dans "),rr=r(Es,"CODE",{});var Ub=l(rr);vf=a(Ub,"Dataset.shuffle()"),Ub.forEach(s),hf=a(Es," \xE0 des fins de reproductibilit\xE9. "),lr=r(Es,"CODE",{});var Jb=l(lr);_f=a(Jb,"Dataset.select()"),Jb.forEach(s),gf=a(Es," attend un it\xE9rable d\u2019indices, nous avons donc pass\xE9 "),ir=r(Es,"CODE",{});var Vb=l(ir);$f=a(Vb,"range(1000)"),Vb.forEach(s),Ef=a(Es," pour r\xE9cup\xE9rer les 1 000 premiers exemples du jeu de donn\xE9es m\xE9lang\xE9. \xC0 partir de cet \xE9chantillon, nous pouvons d\xE9j\xE0 voir quelques bizarreries dans notre jeu de donn\xE9es :"),Es.forEach(s),_d=p(e),Se=r(e,"UL",{});var _o=l(Se);Is=r(_o,"LI",{});var em=l(Is);bf=a(em,"la colonne "),ur=r(em,"CODE",{});var Fb=l(ur);xf=a(Fb,"Unnamed: 0"),Fb.forEach(s),jf=a(em," ressemble \xE9trangement \xE0 un identifiant anonyme pour chaque patient,"),em.forEach(s),qf=p(_o),Ls=r(_o,"LI",{});var tm=l(Ls);wf=a(tm,"la colonne "),dr=r(tm,"CODE",{});var Bb=l(dr);Df=a(Bb,"condition"),Bb.forEach(s),kf=a(tm," comprend un m\xE9lange d\u2019\xE9tiquettes en majuscules et en minuscules,"),tm.forEach(s),yf=p(_o),ct=r(_o,"LI",{});var go=l(ct);Cf=a(go,"les avis sont de longueur variable et contiennent un m\xE9lange de s\xE9parateurs de lignes Python ("),pr=r(go,"CODE",{});var Gb=l(pr);Tf=a(Gb,"\\r\\n"),Gb.forEach(s),zf=a(go,") ainsi que des codes de caract\xE8res HTML comme "),cr=r(go,"CODE",{});var Yb=l(cr);Of=a(Yb,"&\\#039;"),Yb.forEach(s),Pf=a(go,"."),go.forEach(s),_o.forEach(s),gd=p(e),be=r(e,"P",{});var bs=l(be);Nf=a(bs,"Voyons comment nous pouvons utiliser \u{1F917} "),mr=r(bs,"EM",{});var Xb=l(mr);Af=a(Xb,"Datasets"),Xb.forEach(s),Mf=a(bs," pour traiter chacun de ces probl\xE8mes. Pour tester l\u2019hypoth\xE8se de l\u2019ID patient pour la colonne "),fr=r(bs,"CODE",{});var Wb=l(fr);If=a(Wb,"Unnamed : 0"),Wb.forEach(s),Lf=a(bs,", nous pouvons utiliser la fonction "),vr=r(bs,"CODE",{});var Kb=l(vr);Sf=a(Kb,"Dataset.unique()"),Kb.forEach(s),Hf=a(bs," pour v\xE9rifier que le nombre d\u2019ID correspond au nombre de lignes dans chaque division :"),bs.forEach(s),$d=p(e),v(Ss.$$.fragment,e),Ed=p(e),He=r(e,"P",{});var $o=l(He);Rf=a($o,"Cela semble confirmer notre hypoth\xE8se, alors nettoyons un peu en renommant la colonne "),hr=r($o,"CODE",{});var Qb=l(hr);Uf=a(Qb,"Unnamed: 0"),Qb.forEach(s),Jf=a($o," en quelque chose d\u2019un peu plus interpr\xE9table. Nous pouvons utiliser la fonction "),_r=r($o,"CODE",{});var Zb=l(_r);Vf=a(Zb,"DatasetDict.rename_column()"),Zb.forEach(s),Ff=a($o," pour renommer la colonne sur les deux divisions en une seule fois :"),$o.forEach(s),bd=p(e),v(Hs.$$.fragment,e),xd=p(e),v(Rs.$$.fragment,e),jd=p(e),v(It.$$.fragment,e),qd=p(e),oe=r(e,"P",{});var et=l(oe);Bf=a(et,"Ensuite, normalisons toutes les \xE9tiquettes "),gr=r(et,"CODE",{});var ex=l(gr);Gf=a(ex,"condition"),ex.forEach(s),Yf=a(et," en utilisant "),$r=r(et,"CODE",{});var tx=l($r);Xf=a(tx,"Dataset.map()"),tx.forEach(s),Wf=a(et,". Comme nous l\u2019avons fait avec la tokenisation dans le "),Ea=r(et,"A",{href:!0});var sx=l(Ea);Kf=a(sx,"chapitre 3"),sx.forEach(s),Qf=a(et,", nous pouvons d\xE9finir une fonction simple qui peut \xEAtre appliqu\xE9e sur toutes les lignes de chaque division dans "),Er=r(et,"CODE",{});var nx=l(Er);Zf=a(nx,"drug_dataset"),nx.forEach(s),ev=a(et," :"),et.forEach(s),wd=p(e),v(Us.$$.fragment,e),Dd=p(e),v(Js.$$.fragment,e),kd=p(e),re=r(e,"P",{});var tt=l(re);tv=a(tt,"Oh non, nous rencontrons un probl\xE8me avec notre fonction ! \xC0 partir de l\u2019erreur, nous pouvons d\xE9duire que certaines des entr\xE9es de la colonne "),br=r(tt,"CODE",{});var ax=l(br);sv=a(ax,"condition"),ax.forEach(s),nv=a(tt," sont "),xr=r(tt,"CODE",{});var ox=l(xr);av=a(ox,"None"),ox.forEach(s),ov=a(tt," ne pouvant donc pas \xEAtre mises en minuscules car ce ne sont pas des cha\xEEnes. Supprimons ces lignes en utilisant "),jr=r(tt,"CODE",{});var rx=l(jr);rv=a(rx,"Dataset.filter()"),rx.forEach(s),lv=a(tt,", qui fonctionne de mani\xE8re similaire \xE0 "),qr=r(tt,"CODE",{});var lx=l(qr);iv=a(lx,"Dataset.map()"),lx.forEach(s),uv=a(tt," et attend une fonction qui re\xE7oit un seul exemple issu du jeu de donn\xE9es. Au lieu d\u2019\xE9crire une fonction explicite comme :"),tt.forEach(s),yd=p(e),v(Vs.$$.fragment,e),Cd=p(e),Re=r(e,"P",{});var Eo=l(Re);dv=a(Eo,"puis ex\xE9cuter "),wr=r(Eo,"CODE",{});var ix=l(wr);pv=a(ix,"drug_dataset.filter(filter_nones)"),ix.forEach(s),cv=a(Eo,", nous pouvons le faire en une seule ligne en utilisant une "),Dr=r(Eo,"EM",{});var ux=l(Dr);mv=a(ux,"fonction lambda"),ux.forEach(s),fv=a(Eo,". En Python, les fonctions lambda sont de petites fonctions que vous pouvez d\xE9finir sans les nommer explicitement. Ils prennent la forme g\xE9n\xE9rale :"),Eo.forEach(s),Td=p(e),v(Fs.$$.fragment,e),zd=p(e),le=r(e,"P",{});var st=l(le);vv=a(st,"o\xF9 "),kr=r(st,"CODE",{});var dx=l(kr);hv=a(dx,"lambda"),dx.forEach(s),_v=a(st," est l\u2019un des "),Bs=r(st,"A",{href:!0,rel:!0});var px=l(Bs);gv=a(px,"mots cl\xE9s"),px.forEach(s),$v=a(st," sp\xE9ciaux de Python, "),yr=r(st,"CODE",{});var cx=l(yr);Ev=a(cx,"<arguments>"),cx.forEach(s),bv=a(st," est une liste/ensemble de valeurs s\xE9par\xE9es par des virgules qui d\xE9finissent les entr\xE9es de la fonction et "),Cr=r(st,"CODE",{});var mx=l(Cr);xv=a(mx,"<expression>"),mx.forEach(s),jv=a(st," repr\xE9sente les op\xE9rations que vous souhaitez ex\xE9cuter. Par exemple, nous pouvons d\xE9finir une simple fonction lambda qui met au carr\xE9 un nombre comme suit :"),st.forEach(s),Od=p(e),v(Gs.$$.fragment,e),Pd=p(e),ba=r(e,"P",{});var fx=l(ba);qv=a(fx,"Pour appliquer cette fonction \xE0 une entr\xE9e, nous devons l\u2019envelopper ainsi que l\u2019entr\xE9e entre parenth\xE8ses :"),fx.forEach(s),Nd=p(e),v(Ys.$$.fragment,e),Ad=p(e),v(Xs.$$.fragment,e),Md=p(e),xa=r(e,"P",{});var vx=l(xa);wv=a(vx,"De m\xEAme, nous pouvons d\xE9finir des fonctions lambda avec plusieurs arguments en les s\xE9parant par des virgules. Par exemple, nous pouvons calculer l\u2019aire d\u2019un triangle comme suit :"),vx.forEach(s),Id=p(e),v(Ws.$$.fragment,e),Ld=p(e),v(Ks.$$.fragment,e),Sd=p(e),xe=r(e,"P",{});var xs=l(xe);Dv=a(xs,"Les fonctions lambda sont pratiques lorsque vous souhaitez d\xE9finir de petites fonctions \xE0 usage unique (pour plus d\u2019informations \xE0 leur sujet, nous vous recommandons de lire l\u2019excellent "),Qs=r(xs,"A",{href:!0,rel:!0});var hx=l(Qs);kv=a(hx,"tutoriel Real Python"),hx.forEach(s),yv=a(xs," d\u2019Andr\xE9 Burgaud) . Dans le contexte de la biblioth\xE8que \u{1F917} "),Tr=r(xs,"EM",{});var _x=l(Tr);Cv=a(_x,"Datasets"),_x.forEach(s),Tv=a(xs,", nous pouvons utiliser des fonctions lambda pour d\xE9finir des op\xE9rations simples de \xAB mappage \xBB et de filtrage. Utilisons cette astuce pour \xE9liminer les entr\xE9es "),zr=r(xs,"CODE",{});var gx=l(zr);zv=a(gx,"None"),gx.forEach(s),Ov=a(xs," dans notre jeu de donn\xE9es :"),xs.forEach(s),Hd=p(e),v(Zs.$$.fragment,e),Rd=p(e),Ue=r(e,"P",{});var bo=l(Ue);Pv=a(bo,"Avec les entr\xE9es "),Or=r(bo,"CODE",{});var $x=l(Or);Nv=a($x,"None"),$x.forEach(s),Av=a(bo," supprim\xE9es, nous pouvons normaliser notre colonne "),Pr=r(bo,"CODE",{});var Ex=l(Pr);Mv=a(Ex,"condition"),Ex.forEach(s),Iv=a(bo," :"),bo.forEach(s),Ud=p(e),v(en.$$.fragment,e),Jd=p(e),v(tn.$$.fragment,e),Vd=p(e),ja=r(e,"P",{});var bx=l(ja);Lv=a(bx,"\xC7a marche ! Maintenant que nous avons nettoy\xE9 les \xE9tiquettes, examinons le nettoyage des avis eux-m\xEAmes."),bx.forEach(s),Fd=p(e),mt=r(e,"H2",{class:!0});var sm=l(mt);Lt=r(sm,"A",{id:!0,class:!0,href:!0});var xx=l(Lt);Nr=r(xx,"SPAN",{});var jx=l(Nr);v(sn.$$.fragment,jx),jx.forEach(s),xx.forEach(s),Sv=p(sm),Ar=r(sm,"SPAN",{});var qx=l(Ar);Hv=a(qx,"Cr\xE9ation de nouvelles colonnes"),qx.forEach(s),sm.forEach(s),Bd=p(e),qa=r(e,"P",{});var wx=l(qa);Rv=a(wx,"Chaque fois que vous avez affaire \xE0 des avis de clients, une bonne pratique consiste \xE0 v\xE9rifier le nombre de mots dans chaque avis. Une critique peut \xEAtre un simple mot comme \xAB G\xE9nial ! \xBB ou un essai complet avec des milliers de mots. Selon le cas d\u2019usage, vous devrez g\xE9rer ces extr\xEAmes diff\xE9remment. Pour calculer le nombre de mots dans chaque r\xE9vision, nous utiliserons une heuristique approximative bas\xE9e sur la division de chaque texte par des espaces."),wx.forEach(s),Gd=p(e),wa=r(e,"P",{});var Dx=l(wa);Uv=a(Dx,"D\xE9finissons une fonction simple qui compte le nombre de mots dans chaque avis :"),Dx.forEach(s),Yd=p(e),v(nn.$$.fragment,e),Xd=p(e),Z=r(e,"P",{});var Ce=l(Z);Jv=a(Ce,"Contrairement \xE0 notre fonction "),Mr=r(Ce,"CODE",{});var kx=l(Mr);Vv=a(kx,"lowercase_condition()"),kx.forEach(s),Fv=a(Ce,", "),Ir=r(Ce,"CODE",{});var yx=l(Ir);Bv=a(yx,"compute_review_length()"),yx.forEach(s),Gv=a(Ce," renvoie un dictionnaire dont la cl\xE9 ne correspond pas \xE0 l\u2019un des noms de colonne du jeu de donn\xE9es. Dans ce cas, lorsque "),Lr=r(Ce,"CODE",{});var Cx=l(Lr);Yv=a(Cx,"compute_review_length()"),Cx.forEach(s),Xv=a(Ce," est pass\xE9 \xE0 "),Sr=r(Ce,"CODE",{});var Tx=l(Sr);Wv=a(Tx,"Dataset.map()"),Tx.forEach(s),Kv=a(Ce,", il est appliqu\xE9 \xE0 toutes les lignes du jeu de donn\xE9es pour cr\xE9er une nouvelle colonne "),Hr=r(Ce,"CODE",{});var zx=l(Hr);Qv=a(zx,"review_length"),zx.forEach(s),Zv=a(Ce," :"),Ce.forEach(s),Wd=p(e),v(an.$$.fragment,e),Kd=p(e),v(on.$$.fragment,e),Qd=p(e),Je=r(e,"P",{});var xo=l(Je);eh=a(xo,"Comme pr\xE9vu, nous pouvons voir qu\u2019une colonne "),Rr=r(xo,"CODE",{});var Ox=l(Rr);th=a(Ox,"review_length"),Ox.forEach(s),sh=a(xo," a \xE9t\xE9 ajout\xE9e \xE0 notre jeu d\u2019entra\xEEnement. Nous pouvons trier cette nouvelle colonne avec "),Ur=r(xo,"CODE",{});var Px=l(Ur);nh=a(Px,"Dataset.sort()"),Px.forEach(s),ah=a(xo," pour voir \xE0 quoi ressemblent les valeurs extr\xEAmes :"),xo.forEach(s),Zd=p(e),v(rn.$$.fragment,e),ep=p(e),v(ln.$$.fragment,e),tp=p(e),Da=r(e,"P",{});var Nx=l(Da);oh=a(Nx,"Comme nous le soup\xE7onnions, certaines critiques ne contiennent qu\u2019un seul mot, ce qui, bien que cela puisse convenir \xE0 l\u2019analyse des sentiments, n\u2019est pas informatif si nous voulons pr\xE9dire la condition."),Nx.forEach(s),sp=p(e),v(St.$$.fragment,e),np=p(e),Ve=r(e,"P",{});var jo=l(Ve);rh=a(jo,"Utilisons la fonction "),Jr=r(jo,"CODE",{});var Ax=l(Jr);lh=a(Ax,"Dataset.filter()"),Ax.forEach(s),ih=a(jo," pour supprimer les avis contenant moins de 30 mots. De la m\xEAme mani\xE8re que nous l\u2019avons fait avec la colonne "),Vr=r(jo,"CODE",{});var Mx=l(Vr);uh=a(Mx,"condition"),Mx.forEach(s),dh=a(jo,", nous pouvons filtrer les avis tr\xE8s courts en exigeant que les avis aient une longueur sup\xE9rieure \xE0 ce seuil :"),jo.forEach(s),ap=p(e),v(un.$$.fragment,e),op=p(e),v(dn.$$.fragment,e),rp=p(e),ka=r(e,"P",{});var Ix=l(ka);ph=a(Ix,"Comme vous pouvez le constater, cela a supprim\xE9 environ 15 % des avis de nos jeux d\u2019entra\xEEnement et de test d\u2019origine."),Ix.forEach(s),lp=p(e),v(Ht.$$.fragment,e),ip=p(e),Rt=r(e,"P",{});var nm=l(Rt);ch=a(nm,"La derni\xE8re chose \xE0 laquelle nous devons faire face est la pr\xE9sence de caract\xE8res HTML dans nos avis. Nous pouvons utiliser le module "),Fr=r(nm,"CODE",{});var Lx=l(Fr);mh=a(Lx,"html"),Lx.forEach(s),fh=a(nm," de Python pour supprimer ces caract\xE8res, comme ceci :"),nm.forEach(s),up=p(e),v(pn.$$.fragment,e),dp=p(e),v(cn.$$.fragment,e),pp=p(e),Ut=r(e,"P",{});var am=l(Ut);vh=a(am,"Nous utilisons "),Br=r(am,"CODE",{});var Sx=l(Br);hh=a(Sx,"Dataset.map()"),Sx.forEach(s),_h=a(am," pour d\xE9masquer tous les caract\xE8res HTML de notre corpus :"),am.forEach(s),cp=p(e),v(mn.$$.fragment,e),mp=p(e),Jt=r(e,"P",{});var om=l(Jt);gh=a(om,"Comme vous pouvez le voir, la m\xE9thode "),Gr=r(om,"CODE",{});var Hx=l(Gr);$h=a(Hx,"Dataset.map()"),Hx.forEach(s),Eh=a(om," est tr\xE8s utile pour le traitement des donn\xE9es. Et nous n\u2019avons m\xEAme pas effleur\xE9 la surface de tout ce qu\u2019elle peut faire !"),om.forEach(s),fp=p(e),ft=r(e,"H2",{class:!0});var rm=l(ft);Vt=r(rm,"A",{id:!0,class:!0,href:!0});var Rx=l(Vt);Yr=r(Rx,"SPAN",{});var Ux=l(Yr);v(fn.$$.fragment,Ux),Ux.forEach(s),Rx.forEach(s),bh=p(rm),ya=r(rm,"SPAN",{});var _b=l(ya);xh=a(_b,"Les superpouvoirs de la m\xE9thode "),Xr=r(_b,"CODE",{});var Jx=l(Xr);jh=a(Jx,"map()"),Jx.forEach(s),_b.forEach(s),rm.forEach(s),vp=p(e),ee=r(e,"P",{});var Te=l(ee);qh=a(Te,"La m\xE9thode "),Wr=r(Te,"CODE",{});var Vx=l(Wr);wh=a(Vx,"Dataset.map()"),Vx.forEach(s),Dh=a(Te," prend un argument "),Kr=r(Te,"CODE",{});var Fx=l(Kr);kh=a(Fx,"batched"),Fx.forEach(s),yh=a(Te," qui, s\u2019il est d\xE9fini sur "),Qr=r(Te,"CODE",{});var Bx=l(Qr);Ch=a(Bx,"True"),Bx.forEach(s),Th=a(Te,", l\u2019am\xE8ne \xE0 envoyer un batch d\u2019exemples \xE0 la fonction "),Zr=r(Te,"EM",{});var Gx=l(Zr);zh=a(Gx,"map"),Gx.forEach(s),Oh=a(Te," en une seule fois (la taille du batch est configurable mais est fix\xE9 par d\xE9faut \xE0 1 000). Par exemple, la fonction "),el=r(Te,"CODE",{});var Yx=l(el);Ph=a(Yx,"map()"),Yx.forEach(s),Nh=a(Te," pr\xE9c\xE9dente qui supprime tout le code HTML prend un peu de temps \xE0 s\u2019ex\xE9cuter (vous pouvez lire le temps pris dans les barres de progression). On peut acc\xE9l\xE9rer cela en traitant plusieurs \xE9l\xE9ments en m\xEAme temps \xE0 l\u2019aide d\u2019une compr\xE9hension de liste."),Te.forEach(s),hp=p(e),ie=r(e,"P",{});var nt=l(ie);Ah=a(nt,"Lorsque vous sp\xE9cifiez "),tl=r(nt,"CODE",{});var Xx=l(tl);Mh=a(Xx,"batched=True"),Xx.forEach(s),Ih=a(nt,", la fonction re\xE7oit un dictionnaire avec les champs du jeu de donn\xE9es mais chaque valeur est maintenant une "),sl=r(nt,"EM",{});var Wx=l(sl);Lh=a(Wx,"liste de valeurs"),Wx.forEach(s),Sh=a(nt," et non plus une seule valeur. La valeur retourn\xE9e par "),nl=r(nt,"CODE",{});var Kx=l(nl);Hh=a(Kx,"Dataset.map()"),Kx.forEach(s),Rh=a(nt," devrait \xEAtre la m\xEAme : un dictionnaire avec les champs que nous voulons mettre \xE0 jour ou ajouter \xE0 notre jeu de donn\xE9es, et une liste de valeurs. Par exemple, voici une autre fa\xE7on de supprimer tous les caract\xE8res HTML, mais en utilisant "),al=r(nt,"CODE",{});var Qx=l(al);Uh=a(Qx,"batched=True"),Qx.forEach(s),Jh=a(nt," :"),nt.forEach(s),_p=p(e),v(vn.$$.fragment,e),gp=p(e),je=r(e,"P",{});var js=l(je);Vh=a(js,"Si vous ex\xE9cutez ce code dans un "),ol=r(js,"EM",{});var Zx=l(ol);Fh=a(Zx,"notebook"),Zx.forEach(s),Bh=a(js,", vous verrez que cette commande s\u2019ex\xE9cute beaucoup plus rapidement que la pr\xE9c\xE9dente. Et ce n\u2019est pas parce que nos critiques ont d\xE9j\xE0 \xE9t\xE9 scann\xE9es au format HTML. Si vous r\xE9-ex\xE9cutez l\u2019instruction de la section pr\xE9c\xE9dente (sans "),rl=r(js,"CODE",{});var ej=l(rl);Gh=a(ej,"batched=True"),ej.forEach(s),Yh=a(js,"), cela prendra le m\xEAme temps qu\u2019avant. En effet, les compr\xE9hensions de liste sont g\xE9n\xE9ralement plus rapides que l\u2019ex\xE9cution du m\xEAme code dans une boucle "),ll=r(js,"CODE",{});var tj=l(ll);Xh=a(tj,"for"),tj.forEach(s),Wh=a(js," et nous gagnons \xE9galement en performances en acc\xE9dant \xE0 de nombreux \xE9l\xE9ments en m\xEAme temps au lieu d\u2019un par un."),js.forEach(s),$p=p(e),te=r(e,"P",{});var ze=l(te);Kh=a(ze,"L\u2019utilisation de "),il=r(ze,"CODE",{});var sj=l(il);Qh=a(sj,"Dataset.map()"),sj.forEach(s),Zh=a(ze," avec "),ul=r(ze,"CODE",{});var nj=l(ul);e_=a(nj,"batched=True"),nj.forEach(s),t_=a(ze," est essentielle pour les "),dl=r(ze,"EM",{});var aj=l(dl);s_=a(aj,"tokenizers rapides"),aj.forEach(s),n_=a(ze," que nous rencontrerons dans le "),Ca=r(ze,"A",{href:!0});var oj=l(Ca);a_=a(oj,"chapitre 6"),oj.forEach(s),o_=a(ze," et qui peuvent rapidement tokeniser de grandes listes de textes. Par exemple, pour tokeniser toutes les critiques de m\xE9dicaments avec un "),pl=r(ze,"EM",{});var rj=l(pl);r_=a(rj,"tokenizer"),rj.forEach(s),l_=a(ze," rapide nous pouvons utiliser une fonction comme celle-ci :"),ze.forEach(s),Ep=p(e),v(hn.$$.fragment,e),bp=p(e),se=r(e,"P",{});var Oe=l(se);i_=a(Oe,"Comme vous l\u2019avez vu dans le "),Ta=r(Oe,"A",{href:!0});var lj=l(Ta);u_=a(lj,"chapitre 3"),lj.forEach(s),d_=a(Oe,", nous pouvons passer un ou plusieurs exemples au "),cl=r(Oe,"EM",{});var ij=l(cl);p_=a(ij,"tokenizer"),ij.forEach(s),c_=a(Oe,". Nous pouvons donc utiliser cette fonction avec ou sans "),ml=r(Oe,"CODE",{});var uj=l(ml);m_=a(uj,"batched=True"),uj.forEach(s),f_=a(Oe,". Profitons-en pour comparer les performances des diff\xE9rentes options. Dans un "),fl=r(Oe,"EM",{});var dj=l(fl);v_=a(dj,"notebook"),dj.forEach(s),h_=a(Oe,", vous pouvez chronom\xE9trer une instruction d\u2019une ligne en ajoutant "),vl=r(Oe,"CODE",{});var pj=l(vl);__=a(pj,"%time"),pj.forEach(s),g_=a(Oe," avant la ligne de code que vous souhaitez mesurer :"),Oe.forEach(s),xp=p(e),v(_n.$$.fragment,e),jp=p(e),Ft=r(e,"P",{});var lm=l(Ft);$_=a(lm,"Vous pouvez \xE9galement chronom\xE9trer une cellule enti\xE8re en mettant "),hl=r(lm,"CODE",{});var cj=l(hl);E_=a(cj,"%%time"),cj.forEach(s),b_=a(lm," au d\xE9but de la cellule. Sur le mat\xE9riel sur lequel nous avons ex\xE9cut\xE9 cela, cela affichait 10,8 s pour cette instruction (c\u2019est le nombre \xE9crit apr\xE8s \u201CWall time\u201D)."),lm.forEach(s),qp=p(e),v(Bt.$$.fragment,e),wp=p(e),Fe=r(e,"P",{});var qo=l(Fe);x_=a(qo,"Voici les r\xE9sultats que nous avons obtenus avec et sans "),_l=r(qo,"EM",{});var mj=l(_l);j_=a(mj,"batching"),mj.forEach(s),q_=a(qo,", avec un "),gl=r(qo,"EM",{});var fj=l(gl);w_=a(fj,"tokenizer"),fj.forEach(s),D_=a(qo," rapide et un lent :"),qo.forEach(s),Dp=p(e),Gt=r(e,"TABLE",{});var im=l(Gt);$l=r(im,"THEAD",{});var vj=l($l);vt=r(vj,"TR",{});var wo=l(vt);za=r(wo,"TH",{align:!0});var hj=l(za);k_=a(hj,"Options"),hj.forEach(s),y_=p(wo),gn=r(wo,"TH",{align:!0});var gb=l(gn);El=r(gb,"EM",{});var _j=l(El);C_=a(_j,"Tokenizer"),_j.forEach(s),T_=a(gb," rapide"),gb.forEach(s),z_=p(wo),$n=r(wo,"TH",{align:!0});var $b=l($n);bl=r($b,"EM",{});var gj=l(bl);O_=a(gj,"Tokenizer"),gj.forEach(s),P_=a($b," lent"),$b.forEach(s),wo.forEach(s),vj.forEach(s),N_=p(im),En=r(im,"TBODY",{});var um=l(En);ht=r(um,"TR",{});var Do=l(ht);Oa=r(Do,"TD",{align:!0});var $j=l(Oa);xl=r($j,"CODE",{});var Ej=l(xl);A_=a(Ej,"batched=True"),Ej.forEach(s),$j.forEach(s),M_=p(Do),Pa=r(Do,"TD",{align:!0});var bj=l(Pa);I_=a(bj,"10.8s"),bj.forEach(s),L_=p(Do),Na=r(Do,"TD",{align:!0});var xj=l(Na);S_=a(xj,"4min41s"),xj.forEach(s),Do.forEach(s),H_=p(um),_t=r(um,"TR",{});var ko=l(_t);Aa=r(ko,"TD",{align:!0});var jj=l(Aa);jl=r(jj,"CODE",{});var qj=l(jl);R_=a(qj,"batched=False"),qj.forEach(s),jj.forEach(s),U_=p(ko),Ma=r(ko,"TD",{align:!0});var wj=l(Ma);J_=a(wj,"59.2s"),wj.forEach(s),V_=p(ko),Ia=r(ko,"TD",{align:!0});var Dj=l(Ia);F_=a(Dj,"5min3s"),Dj.forEach(s),ko.forEach(s),um.forEach(s),im.forEach(s),kp=p(e),ue=r(e,"P",{});var at=l(ue);B_=a(at,"Cela signifie que l\u2019utilisation d\u2019un "),ql=r(at,"EM",{});var kj=l(ql);G_=a(kj,"tokenizer"),kj.forEach(s),Y_=a(at," rapide avec l\u2019option "),wl=r(at,"CODE",{});var yj=l(wl);X_=a(yj,"batched=True"),yj.forEach(s),W_=a(at," est 30 fois plus rapide que son homologue lent sans batch. C\u2019est vraiment incroyable ! C\u2019est la raison principale pour laquelle les "),Dl=r(at,"EM",{});var Cj=l(Dl);K_=a(Cj,"tokenizers"),Cj.forEach(s),Q_=a(at," rapides sont la valeur par d\xE9faut lors de l\u2019utilisation de "),kl=r(at,"CODE",{});var Tj=l(kl);Z_=a(Tj,"AutoTokenizer"),Tj.forEach(s),e2=a(at," (et pourquoi ils sont appel\xE9s \xAB rapides \xBB). Ils sont capables d\u2019atteindre une telle vitesse car en coulisses le code de tokenisation est ex\xE9cut\xE9 en Rust qui est un langage facilitant la parall\xE9lisation de l\u2019ex\xE9cution du code."),at.forEach(s),yp=p(e),Yt=r(e,"P",{});var dm=l(Yt);t2=a(dm,"La parall\xE9lisation est \xE9galement la raison du gain de vitesse de pr\xE8s de 6 fois obtenue par le "),yl=r(dm,"EM",{});var zj=l(yl);s2=a(zj,"tokenizer"),zj.forEach(s),n2=a(dm," rapide avec batch. Vous ne pouvez pas parall\xE9liser une seule op\xE9ration de tokenisation, mais lorsque vous souhaitez tokeniser de nombreux textes en m\xEAme temps, vous pouvez simplement r\xE9partir l\u2019ex\xE9cution sur plusieurs processus. Chacun responsable de ses propres textes."),dm.forEach(s),Cp=p(e),ae=r(e,"P",{});var Me=l(ae);Cl=r(Me,"CODE",{});var Oj=l(Cl);a2=a(Oj,"Dataset.map()"),Oj.forEach(s),o2=a(Me," poss\xE8de aussi ses propres capacit\xE9s de parall\xE9lisation. Comme elles ne sont pas soutenus par Rust, un "),Tl=r(Me,"EM",{});var Pj=l(Tl);r2=a(Pj,"tokenizer"),Pj.forEach(s),l2=a(Me," lent ne peut pas rattraper un rapide mais cela peut toujours \xEAtre utile (surtout si vous utilisez un "),zl=r(Me,"EM",{});var Nj=l(zl);i2=a(Nj,"tokenizer"),Nj.forEach(s),u2=a(Me," qui n\u2019a pas de version rapide). Pour activer le multitraitement, utilisez l\u2019argument "),Ol=r(Me,"CODE",{});var Aj=l(Ol);d2=a(Aj,"num_proc"),Aj.forEach(s),p2=a(Me," et sp\xE9cifiez le nombre de processus \xE0 utiliser dans votre appel \xE0 "),Pl=r(Me,"CODE",{});var Mj=l(Pl);c2=a(Mj,"Dataset.map()"),Mj.forEach(s),m2=a(Me," :"),Me.forEach(s),Tp=p(e),v(bn.$$.fragment,e),zp=p(e),La=r(e,"P",{});var Ij=l(La);f2=a(Ij,"Vous pouvez faire des tests pour d\xE9terminer le nombre optimal de processus \xE0 utiliser. Dans notre cas 8 semble produire le meilleur gain de vitesse. Voici les chiffres que nous avons obtenus avec et sans multitraitement :"),Ij.forEach(s),Op=p(e),Xt=r(e,"TABLE",{});var pm=l(Xt);Nl=r(pm,"THEAD",{});var Lj=l(Nl);gt=r(Lj,"TR",{});var yo=l(gt);Sa=r(yo,"TH",{align:!0});var Sj=l(Sa);v2=a(Sj,"Options"),Sj.forEach(s),h2=p(yo),xn=r(yo,"TH",{align:!0});var Eb=l(xn);Al=r(Eb,"EM",{});var Hj=l(Al);_2=a(Hj,"Tokenizer"),Hj.forEach(s),g2=a(Eb," rapide"),Eb.forEach(s),$2=p(yo),jn=r(yo,"TH",{align:!0});var bb=l(jn);Ml=r(bb,"EM",{});var Rj=l(Ml);E2=a(Rj,"Tokenizer"),Rj.forEach(s),b2=a(bb," lent"),bb.forEach(s),yo.forEach(s),Lj.forEach(s),x2=p(pm),Ae=r(pm,"TBODY",{});var qs=l(Ae);$t=r(qs,"TR",{});var Co=l($t);Ha=r(Co,"TD",{align:!0});var Uj=l(Ha);Il=r(Uj,"CODE",{});var Jj=l(Il);j2=a(Jj,"batched=True"),Jj.forEach(s),Uj.forEach(s),q2=p(Co),Ra=r(Co,"TD",{align:!0});var Vj=l(Ra);w2=a(Vj,"10.8s"),Vj.forEach(s),D2=p(Co),Ua=r(Co,"TD",{align:!0});var Fj=l(Ua);k2=a(Fj,"4min41s"),Fj.forEach(s),Co.forEach(s),y2=p(qs),Et=r(qs,"TR",{});var To=l(Et);Ja=r(To,"TD",{align:!0});var Bj=l(Ja);Ll=r(Bj,"CODE",{});var Gj=l(Ll);C2=a(Gj,"batched=False"),Gj.forEach(s),Bj.forEach(s),T2=p(To),Va=r(To,"TD",{align:!0});var Yj=l(Va);z2=a(Yj,"59.2s"),Yj.forEach(s),O2=p(To),Fa=r(To,"TD",{align:!0});var Xj=l(Fa);P2=a(Xj,"5min3s"),Xj.forEach(s),To.forEach(s),N2=p(qs),bt=r(qs,"TR",{});var zo=l(bt);Wt=r(zo,"TD",{align:!0});var cm=l(Wt);Sl=r(cm,"CODE",{});var Wj=l(Sl);A2=a(Wj,"batched=True"),Wj.forEach(s),M2=a(cm,", "),Hl=r(cm,"CODE",{});var Kj=l(Hl);I2=a(Kj,"num_proc=8"),Kj.forEach(s),cm.forEach(s),L2=p(zo),Ba=r(zo,"TD",{align:!0});var Qj=l(Ba);S2=a(Qj,"6.52s"),Qj.forEach(s),H2=p(zo),Ga=r(zo,"TD",{align:!0});var Zj=l(Ga);R2=a(Zj,"41.3s"),Zj.forEach(s),zo.forEach(s),U2=p(qs),xt=r(qs,"TR",{});var Oo=l(xt);Kt=r(Oo,"TD",{align:!0});var mm=l(Kt);Rl=r(mm,"CODE",{});var eq=l(Rl);J2=a(eq,"batched=False"),eq.forEach(s),V2=a(mm,", "),Ul=r(mm,"CODE",{});var tq=l(Ul);F2=a(tq,"num_proc=8"),tq.forEach(s),mm.forEach(s),B2=p(Oo),Ya=r(Oo,"TD",{align:!0});var sq=l(Ya);G2=a(sq,"9.49s"),sq.forEach(s),Y2=p(Oo),Xa=r(Oo,"TD",{align:!0});var nq=l(Xa);X2=a(nq,"45.2s"),nq.forEach(s),Oo.forEach(s),qs.forEach(s),pm.forEach(s),Pp=p(e),J=r(e,"P",{});var fe=l(J);W2=a(fe,"Ce sont des r\xE9sultats beaucoup plus raisonnables pour le "),Jl=r(fe,"EM",{});var aq=l(Jl);K2=a(aq,"tokenizer"),aq.forEach(s),Q2=a(fe," lent mais les performances du "),Vl=r(fe,"EM",{});var oq=l(Vl);Z2=a(oq,"tokenizer"),oq.forEach(s),eg=a(fe," rapide ont \xE9galement \xE9t\xE9 consid\xE9rablement am\xE9lior\xE9es. Notez, cependant, que ce ne sera pas toujours le cas : pour des valeurs de "),Fl=r(fe,"CODE",{});var rq=l(Fl);tg=a(rq,"num_proc"),rq.forEach(s),sg=a(fe," autres que 8, nos tests ont montr\xE9 qu\u2019il \xE9tait plus rapide d\u2019utiliser "),Bl=r(fe,"CODE",{});var lq=l(Bl);ng=a(lq,"batched=True"),lq.forEach(s),ag=a(fe," sans cette option. En g\xE9n\xE9ral, nous ne recommandons pas d\u2019utiliser le multitraitement pour les "),Gl=r(fe,"EM",{});var iq=l(Gl);og=a(iq,"tokenizers"),iq.forEach(s),rg=a(fe," rapides avec "),Yl=r(fe,"CODE",{});var uq=l(Yl);lg=a(uq,"batched=True"),uq.forEach(s),ig=a(fe,"."),fe.forEach(s),Np=p(e),v(Qt.$$.fragment,e),Ap=p(e),qe=r(e,"P",{});var ws=l(qe);ug=a(ws,"Toutes ces fonctionnalit\xE9s condens\xE9es en une seule m\xE9thode sont d\xE9j\xE0 assez \xE9tonnantes, mais il y a plus ! Avec "),Xl=r(ws,"CODE",{});var dq=l(Xl);dg=a(dq,"Dataset.map()"),dq.forEach(s),pg=a(ws," et "),Wl=r(ws,"CODE",{});var pq=l(Wl);cg=a(pq,"batched=True"),pq.forEach(s),mg=a(ws," vous pouvez modifier le nombre d\u2019\xE9l\xE9ments dans votre jeu de donn\xE9es. Ceci est tr\xE8s utile dans de nombreuses situations o\xF9 vous souhaitez cr\xE9er plusieurs fonctionnalit\xE9s d\u2019entra\xEEnement \xE0 partir d\u2019un exemple. Nous devrons le faire dans le cadre du pr\xE9traitement de plusieurs des t\xE2ches de traitement du langage naturel que nous entreprendrons dans le "),Wa=r(ws,"A",{href:!0});var cq=l(Wa);fg=a(cq,"chapitre 7"),cq.forEach(s),vg=a(ws,"."),ws.forEach(s),Mp=p(e),v(Zt.$$.fragment,e),Ip=p(e),we=r(e,"P",{});var Ds=l(we);hg=a(Ds,"Voyons comment cela fonctionne ! Ici, nous allons tokeniser nos exemples et les tronquer \xE0 une longueur maximale de 128 mais nous demanderons au "),Kl=r(Ds,"EM",{});var mq=l(Kl);_g=a(mq,"tokenizer"),mq.forEach(s),gg=a(Ds," de renvoyer "),Ql=r(Ds,"EM",{});var fq=l(Ql);$g=a(fq,"tous"),fq.forEach(s),Eg=a(Ds," les morceaux des textes au lieu du premier. Cela peut \xEAtre fait avec "),Zl=r(Ds,"CODE",{});var vq=l(Zl);bg=a(vq,"return_overflowing_tokens=True"),vq.forEach(s),xg=a(Ds," :"),Ds.forEach(s),Lp=p(e),v(qn.$$.fragment,e),Sp=p(e),es=r(e,"P",{});var fm=l(es);jg=a(fm,"Testons cela sur un exemple avant d\u2019utiliser "),ei=r(fm,"CODE",{});var hq=l(ei);qg=a(hq,"Dataset.map()"),hq.forEach(s),wg=a(fm," sur le jeu de donn\xE9es :"),fm.forEach(s),Hp=p(e),v(wn.$$.fragment,e),Rp=p(e),v(Dn.$$.fragment,e),Up=p(e),ts=r(e,"P",{});var vm=l(ts);Dg=a(vm,"Notre premier exemple du jeu d\u2019entra\xEEnement est devenu deux caract\xE9ristiques car il a \xE9t\xE9 segment\xE9 \xE0 plus que le nombre maximum de "),ti=r(vm,"EM",{});var _q=l(ti);kg=a(_q,"tokens"),_q.forEach(s),yg=a(vm," que nous avons sp\xE9cifi\xE9 : le premier de longueur 128 et le second de longueur 49. Faisons maintenant cela pour tous les \xE9l\xE9ments du jeu de donn\xE9es !"),vm.forEach(s),Jp=p(e),v(kn.$$.fragment,e),Vp=p(e),v(yn.$$.fragment,e),Fp=p(e),Be=r(e,"P",{});var Po=l(Be);Cg=a(Po,"Oh non ! Cela n\u2019a pas fonctionn\xE9 ! Pourquoi ? L\u2019examen du message d\u2019erreur nous donne un indice : il y a une incompatibilit\xE9 dans les longueurs de l\u2019une des colonnes. L\u2019une \xE9tant de longueur 1 463 et l\u2019autre de longueur 1 000. Si vous avez consult\xE9 la "),Cn=r(Po,"A",{href:!0,rel:!0});var gq=l(Cn);Tg=a(gq,"documentation"),gq.forEach(s),zg=a(Po," de "),si=r(Po,"CODE",{});var $q=l(si);Og=a($q,"Dataset.map()"),$q.forEach(s),Pg=a(Po,", vous vous souvenez peut-\xEAtre qu\u2019il s\u2019agit du nombre d\u2019\xE9chantillons pass\xE9s \xE0 la fonction que nous mappons. Ici, ces 1 000 exemples ont donn\xE9 1 463 nouvelles caract\xE9ristiques, entra\xEEnant une erreur de forme."),Po.forEach(s),Bp=p(e),de=r(e,"P",{});var ot=l(de);Ng=a(ot,"Le probl\xE8me est que nous essayons de m\xE9langer deux jeux de donn\xE9es diff\xE9rents de tailles diff\xE9rentes : les colonnes "),ni=r(ot,"CODE",{});var Eq=l(ni);Ag=a(Eq,"drug_dataset"),Eq.forEach(s),Mg=a(ot," auront un certain nombre d\u2019exemples (les 1 000 dans notre erreur), mais le "),ai=r(ot,"CODE",{});var bq=l(ai);Ig=a(bq,"tokenized_dataset"),bq.forEach(s),Lg=a(ot," que nous construisons en aura plus (le 1 463 dans le message d\u2019erreur). Cela ne fonctionne pas pour un "),oi=r(ot,"CODE",{});var xq=l(oi);Sg=a(xq,"Dataset"),xq.forEach(s),Hg=a(ot,", nous devons donc soit supprimer les colonnes de l\u2019ancien jeu de donn\xE9es, soit leur donner la m\xEAme taille que dans le nouveau jeu de donn\xE9es. Nous pouvons faire la premi\xE8re option avec l\u2019argument "),ri=r(ot,"CODE",{});var jq=l(ri);Rg=a(jq,"remove_columns"),jq.forEach(s),Ug=a(ot," :"),ot.forEach(s),Gp=p(e),v(Tn.$$.fragment,e),Yp=p(e),Ka=r(e,"P",{});var qq=l(Ka);Jg=a(qq,"Maintenant, cela fonctionne sans erreur. Nous pouvons v\xE9rifier que notre nouveau jeu de donn\xE9es contient beaucoup plus d\u2019\xE9l\xE9ments que le jeu de donn\xE9es d\u2019origine en comparant les longueurs :"),qq.forEach(s),Xp=p(e),v(zn.$$.fragment,e),Wp=p(e),v(On.$$.fragment,e),Kp=p(e),De=r(e,"P",{});var ks=l(De);Vg=a(ks,"Nous avons mentionn\xE9 que nous pouvions \xE9galement r\xE9soudre le probl\xE8me de longueur non concordante en donnant aux anciennes colonnes la m\xEAme taille que les nouvelles. Pour ce faire, nous avons besoin du champ "),li=r(ks,"CODE",{});var wq=l(li);Fg=a(wq,"overflow_to_sample_mapping"),wq.forEach(s),Bg=a(ks," que le "),ii=r(ks,"EM",{});var Dq=l(ii);Gg=a(Dq,"tokenizer"),Dq.forEach(s),Yg=a(ks," renvoie lorsque nous d\xE9finissons "),ui=r(ks,"CODE",{});var kq=l(ui);Xg=a(kq,"return_overflowing_tokens=True"),kq.forEach(s),Wg=a(ks,". Il nous donne une correspondance entre un nouvel index de caract\xE9ristique et l\u2019index de l\u2019\xE9chantillon dont il est issu. Gr\xE2ce \xE0 cela, nous pouvons associer chaque cl\xE9 pr\xE9sente dans notre jeu de donn\xE9es d\u2019origine \xE0 une liste de valeurs de la bonne taille en r\xE9p\xE9tant les valeurs de chaque exemple autant de fois qu\u2019il g\xE9n\xE8re de nouvelles caract\xE9ristiques :"),ks.forEach(s),Qp=p(e),v(Pn.$$.fragment,e),Zp=p(e),ss=r(e,"P",{});var hm=l(ss);Kg=a(hm,"Nous pouvons voir que cela fonctionne avec "),di=r(hm,"CODE",{});var yq=l(di);Qg=a(yq,"Dataset.map()"),yq.forEach(s),Zg=a(hm," sans que nous ayons besoin de supprimer les anciennes colonnes :"),hm.forEach(s),ec=p(e),v(Nn.$$.fragment,e),tc=p(e),v(An.$$.fragment,e),sc=p(e),Qa=r(e,"P",{});var Cq=l(Qa);e1=a(Cq,"Nous obtenons le m\xEAme nombre de caract\xE9ristiques d\u2019entra\xEEnement qu\u2019auparavant, mais ici nous avons conserv\xE9 tous les anciens champs. Si vous en avez besoin pour un post-traitement apr\xE8s l\u2019application de votre mod\xE8le, vous pouvez utiliser cette approche."),Cq.forEach(s),nc=p(e),pe=r(e,"P",{});var rt=l(pe);t1=a(rt,"Vous avez maintenant vu comment \u{1F917} "),pi=r(rt,"EM",{});var Tq=l(pi);s1=a(Tq,"Datasets"),Tq.forEach(s),n1=a(rt," peut \xEAtre utilis\xE9 pour pr\xE9traiter un jeu de donn\xE9es de diff\xE9rentes mani\xE8res. Bien que les fonctions de traitement de \u{1F917} "),ci=r(rt,"EM",{});var zq=l(ci);a1=a(zq,"Datasets"),zq.forEach(s),o1=a(rt," couvrent la plupart de vos besoins, il peut arriver que vous deviez passer \xE0 Pandas pour acc\xE9der \xE0 des fonctionnalit\xE9s plus puissantes, telles que "),mi=r(rt,"CODE",{});var Oq=l(mi);r1=a(Oq,"DataFrame.groupby()"),Oq.forEach(s),l1=a(rt," ou des API de haut niveau pour la visualisation. Heureusement, \u{1F917} "),fi=r(rt,"EM",{});var Pq=l(fi);i1=a(Pq,"Datasets"),Pq.forEach(s),u1=a(rt," est con\xE7u pour \xEAtre interop\xE9rable avec des biblioth\xE8ques telles que Pandas, NumPy, PyTorch, TensorFlow et JAX. Voyons comment cela fonctionne."),rt.forEach(s),ac=p(e),jt=r(e,"H2",{class:!0});var _m=l(jt);ns=r(_m,"A",{id:!0,class:!0,href:!0});var Nq=l(ns);vi=r(Nq,"SPAN",{});var Aq=l(vi);v(Mn.$$.fragment,Aq),Aq.forEach(s),Nq.forEach(s),d1=p(_m),qt=r(_m,"SPAN",{});var No=l(qt);p1=a(No,"De "),hi=r(No,"CODE",{});var Mq=l(hi);c1=a(Mq,"Dataset"),Mq.forEach(s),m1=a(No," \xE0 "),_i=r(No,"CODE",{});var Iq=l(_i);f1=a(Iq,"DataFrame"),Iq.forEach(s),v1=a(No," et vice versa"),No.forEach(s),_m.forEach(s),oc=p(e),v(In.$$.fragment,e),rc=p(e),ce=r(e,"P",{});var lt=l(ce);h1=a(lt,"Pour permettre la conversion entre diverses biblioth\xE8ques tierces, \u{1F917} "),gi=r(lt,"EM",{});var Lq=l(gi);_1=a(Lq,"Datasets"),Lq.forEach(s),g1=a(lt," fournit une fonction "),$i=r(lt,"CODE",{});var Sq=l($i);$1=a(Sq,"Dataset.set_format()"),Sq.forEach(s),E1=a(lt,". Cette fonction ne modifie que le "),Ei=r(lt,"EM",{});var Hq=l(Ei);b1=a(Hq,"format de sortie"),Hq.forEach(s),x1=a(lt," du jeu de donn\xE9es. Vous pouvez donc facilement passer \xE0 un autre format sans affecter le "),bi=r(lt,"EM",{});var Rq=l(bi);j1=a(Rq,"format de donn\xE9es"),Rq.forEach(s),q1=a(lt," sous-jacent, qui est Apache Arrow. Le formatage se fait sur place. Pour d\xE9montrer, convertissons notre jeu de donn\xE9es vers Pandas :"),lt.forEach(s),lc=p(e),v(Ln.$$.fragment,e),ic=p(e),as=r(e,"P",{});var gm=l(as);w1=a(gm,"Maintenant, lorsque nous acc\xE9dons aux \xE9l\xE9ments du jeu de donn\xE9es, nous obtenons un "),xi=r(gm,"CODE",{});var Uq=l(xi);D1=a(Uq,"pandas.DataFrame"),Uq.forEach(s),k1=a(gm," au lieu d\u2019un dictionnaire :"),gm.forEach(s),uc=p(e),v(Sn.$$.fragment,e),dc=p(e),Ge=r(e,"TABLE",{border:!0,class:!0});var $m=l(Ge);ji=r($m,"THEAD",{});var Jq=l(ji);M=r(Jq,"TR",{style:!0});var F=l(M);pc=r(F,"TH",{}),l(pc).forEach(s),y1=p(F),qi=r(F,"TH",{});var Vq=l(qi);C1=a(Vq,"patient_id"),Vq.forEach(s),T1=p(F),wi=r(F,"TH",{});var Fq=l(wi);z1=a(Fq,"drugName"),Fq.forEach(s),O1=p(F),Di=r(F,"TH",{});var Bq=l(Di);P1=a(Bq,"condition"),Bq.forEach(s),N1=p(F),ki=r(F,"TH",{});var Gq=l(ki);A1=a(Gq,"review"),Gq.forEach(s),M1=p(F),yi=r(F,"TH",{});var Yq=l(yi);I1=a(Yq,"rating"),Yq.forEach(s),L1=p(F),Ci=r(F,"TH",{});var Xq=l(Ci);S1=a(Xq,"date"),Xq.forEach(s),H1=p(F),Ti=r(F,"TH",{});var Wq=l(Ti);R1=a(Wq,"usefulCount"),Wq.forEach(s),U1=p(F),zi=r(F,"TH",{});var Kq=l(zi);J1=a(Kq,"review_length"),Kq.forEach(s),F.forEach(s),Jq.forEach(s),V1=p($m),wt=r($m,"TBODY",{});var Ao=l(wt);I=r(Ao,"TR",{});var B=l(I);Oi=r(B,"TH",{});var Qq=l(Oi);F1=a(Qq,"0"),Qq.forEach(s),B1=p(B),Pi=r(B,"TD",{});var Zq=l(Pi);G1=a(Zq,"95260"),Zq.forEach(s),Y1=p(B),Ni=r(B,"TD",{});var e0=l(Ni);X1=a(e0,"Guanfacine"),e0.forEach(s),W1=p(B),Ai=r(B,"TD",{});var t0=l(Ai);K1=a(t0,"adhd"),t0.forEach(s),Q1=p(B),Mi=r(B,"TD",{});var s0=l(Mi);Z1=a(s0,'"My son is halfway through his fourth week of Intuniv..."'),s0.forEach(s),e$=p(B),Ii=r(B,"TD",{});var n0=l(Ii);t$=a(n0,"8.0"),n0.forEach(s),s$=p(B),Li=r(B,"TD",{});var a0=l(Li);n$=a(a0,"April 27, 2010"),a0.forEach(s),a$=p(B),Si=r(B,"TD",{});var o0=l(Si);o$=a(o0,"192"),o0.forEach(s),r$=p(B),Hi=r(B,"TD",{});var r0=l(Hi);l$=a(r0,"141"),r0.forEach(s),B.forEach(s),i$=p(Ao),L=r(Ao,"TR",{});var G=l(L);Ri=r(G,"TH",{});var l0=l(Ri);u$=a(l0,"1"),l0.forEach(s),d$=p(G),Ui=r(G,"TD",{});var i0=l(Ui);p$=a(i0,"92703"),i0.forEach(s),c$=p(G),Ji=r(G,"TD",{});var u0=l(Ji);m$=a(u0,"Lybrel"),u0.forEach(s),f$=p(G),Vi=r(G,"TD",{});var d0=l(Vi);v$=a(d0,"birth control"),d0.forEach(s),h$=p(G),Fi=r(G,"TD",{});var p0=l(Fi);_$=a(p0,'"I used to take another oral contraceptive, which had 21 pill cycle, and was very happy- very light periods, max 5 days, no other side effects..."'),p0.forEach(s),g$=p(G),Bi=r(G,"TD",{});var c0=l(Bi);$$=a(c0,"5.0"),c0.forEach(s),E$=p(G),Gi=r(G,"TD",{});var m0=l(Gi);b$=a(m0,"December 14, 2009"),m0.forEach(s),x$=p(G),Yi=r(G,"TD",{});var f0=l(Yi);j$=a(f0,"17"),f0.forEach(s),q$=p(G),Xi=r(G,"TD",{});var v0=l(Xi);w$=a(v0,"134"),v0.forEach(s),G.forEach(s),D$=p(Ao),S=r(Ao,"TR",{});var Y=l(S);Wi=r(Y,"TH",{});var h0=l(Wi);k$=a(h0,"2"),h0.forEach(s),y$=p(Y),Ki=r(Y,"TD",{});var _0=l(Ki);C$=a(_0,"138000"),_0.forEach(s),T$=p(Y),Qi=r(Y,"TD",{});var g0=l(Qi);z$=a(g0,"Ortho Evra"),g0.forEach(s),O$=p(Y),Zi=r(Y,"TD",{});var $0=l(Zi);P$=a($0,"birth control"),$0.forEach(s),N$=p(Y),eu=r(Y,"TD",{});var E0=l(eu);A$=a(E0,'"This is my first time using any form of birth control..."'),E0.forEach(s),M$=p(Y),tu=r(Y,"TD",{});var b0=l(tu);I$=a(b0,"8.0"),b0.forEach(s),L$=p(Y),su=r(Y,"TD",{});var x0=l(su);S$=a(x0,"November 3, 2015"),x0.forEach(s),H$=p(Y),nu=r(Y,"TD",{});var j0=l(nu);R$=a(j0,"10"),j0.forEach(s),U$=p(Y),au=r(Y,"TD",{});var q0=l(au);J$=a(q0,"89"),q0.forEach(s),Y.forEach(s),Ao.forEach(s),$m.forEach(s),cc=p(e),Ye=r(e,"P",{});var Mo=l(Ye);V$=a(Mo,"Cr\xE9ons un "),ou=r(Mo,"CODE",{});var w0=l(ou);F$=a(w0,"pandas.DataFrame"),w0.forEach(s),B$=a(Mo," pour l\u2019ensemble d\u2019entra\xEEnement en s\xE9lectionnant tous les \xE9l\xE9ments de "),ru=r(Mo,"CODE",{});var D0=l(ru);G$=a(D0,'drug_dataset["train"]'),D0.forEach(s),Y$=a(Mo," :"),Mo.forEach(s),mc=p(e),v(Hn.$$.fragment,e),fc=p(e),v(os.$$.fragment,e),vc=p(e),rs=r(e,"P",{});var Em=l(rs);X$=a(Em,"De l\xE0, nous pouvons utiliser toutes les fonctionnalit\xE9s Pandas que nous voulons. Par exemple, nous pouvons faire un cha\xEEnage sophistiqu\xE9 pour calculer la distribution de classe parmi les entr\xE9es "),lu=r(Em,"CODE",{});var k0=l(lu);W$=a(k0,"condition"),k0.forEach(s),K$=a(Em," :"),Em.forEach(s),hc=p(e),v(Rn.$$.fragment,e),_c=p(e),Xe=r(e,"TABLE",{border:!0,class:!0});var bm=l(Xe);iu=r(bm,"THEAD",{});var y0=l(iu);We=r(y0,"TR",{style:!0});var Io=l(We);gc=r(Io,"TH",{}),l(gc).forEach(s),Q$=p(Io),uu=r(Io,"TH",{});var C0=l(uu);Z$=a(C0,"condition"),C0.forEach(s),e7=p(Io),du=r(Io,"TH",{});var T0=l(du);t7=a(T0,"frequency"),T0.forEach(s),Io.forEach(s),y0.forEach(s),s7=p(bm),he=r(bm,"TBODY",{});var it=l(he);Dt=r(it,"TR",{});var Lo=l(Dt);pu=r(Lo,"TH",{});var z0=l(pu);n7=a(z0,"0"),z0.forEach(s),a7=p(Lo),cu=r(Lo,"TD",{});var O0=l(cu);o7=a(O0,"birth control"),O0.forEach(s),r7=p(Lo),mu=r(Lo,"TD",{});var P0=l(mu);l7=a(P0,"27655"),P0.forEach(s),Lo.forEach(s),i7=p(it),kt=r(it,"TR",{});var So=l(kt);fu=r(So,"TH",{});var N0=l(fu);u7=a(N0,"1"),N0.forEach(s),d7=p(So),vu=r(So,"TD",{});var A0=l(vu);p7=a(A0,"depression"),A0.forEach(s),c7=p(So),hu=r(So,"TD",{});var M0=l(hu);m7=a(M0,"8023"),M0.forEach(s),So.forEach(s),f7=p(it),yt=r(it,"TR",{});var Ho=l(yt);_u=r(Ho,"TH",{});var I0=l(_u);v7=a(I0,"2"),I0.forEach(s),h7=p(Ho),gu=r(Ho,"TD",{});var L0=l(gu);_7=a(L0,"acne"),L0.forEach(s),g7=p(Ho),$u=r(Ho,"TD",{});var S0=l($u);$7=a(S0,"5209"),S0.forEach(s),Ho.forEach(s),E7=p(it),Ct=r(it,"TR",{});var Ro=l(Ct);Eu=r(Ro,"TH",{});var H0=l(Eu);b7=a(H0,"3"),H0.forEach(s),x7=p(Ro),bu=r(Ro,"TD",{});var R0=l(bu);j7=a(R0,"anxiety"),R0.forEach(s),q7=p(Ro),xu=r(Ro,"TD",{});var U0=l(xu);w7=a(U0,"4991"),U0.forEach(s),Ro.forEach(s),D7=p(it),Tt=r(it,"TR",{});var Uo=l(Tt);ju=r(Uo,"TH",{});var J0=l(ju);k7=a(J0,"4"),J0.forEach(s),y7=p(Uo),qu=r(Uo,"TD",{});var V0=l(qu);C7=a(V0,"pain"),V0.forEach(s),T7=p(Uo),wu=r(Uo,"TD",{});var F0=l(wu);z7=a(F0,"4744"),F0.forEach(s),Uo.forEach(s),it.forEach(s),bm.forEach(s),$c=p(e),Ke=r(e,"P",{});var Jo=l(Ke);O7=a(Jo,"Et une fois que nous avons termin\xE9 notre analyse Pandas, nous pouvons toujours cr\xE9er un nouvel objet "),Du=r(Jo,"CODE",{});var B0=l(Du);P7=a(B0,"Dataset"),B0.forEach(s),N7=a(Jo," en utilisant la fonction "),ku=r(Jo,"CODE",{});var G0=l(ku);A7=a(G0,"Dataset.from_pandas()"),G0.forEach(s),M7=a(Jo," comme suit :"),Jo.forEach(s),Ec=p(e),v(Un.$$.fragment,e),bc=p(e),v(Jn.$$.fragment,e),xc=p(e),v(ls.$$.fragment,e),jc=p(e),me=r(e,"P",{});var ut=l(me);I7=a(ut,"Ceci conclut notre visite des diff\xE9rentes techniques de pr\xE9traitement disponibles dans \u{1F917} "),yu=r(ut,"EM",{});var Y0=l(yu);L7=a(Y0,"Datasets"),Y0.forEach(s),S7=a(ut,". Pour compl\xE9ter la section, cr\xE9ons un ensemble de validation pour pr\xE9parer le jeu de donn\xE9es \xE0 l\u2019entra\xEEnement d\u2019un classifieur. Avant cela, nous allons r\xE9initialiser le format de sortie de "),Cu=r(ut,"CODE",{});var X0=l(Cu);H7=a(X0,"drug_dataset"),X0.forEach(s),R7=a(ut," de "),Tu=r(ut,"CODE",{});var W0=l(Tu);U7=a(W0,'"pandas"'),W0.forEach(s),J7=a(ut," \xE0 "),zu=r(ut,"CODE",{});var K0=l(zu);V7=a(K0,'"arrow"'),K0.forEach(s),F7=a(ut," :"),ut.forEach(s),qc=p(e),v(Vn.$$.fragment,e),wc=p(e),zt=r(e,"H2",{class:!0});var xm=l(zt);is=r(xm,"A",{id:!0,class:!0,href:!0});var Q0=l(is);Ou=r(Q0,"SPAN",{});var Z0=l(Ou);v(Fn.$$.fragment,Z0),Z0.forEach(s),Q0.forEach(s),B7=p(xm),Pu=r(xm,"SPAN",{});var e3=l(Pu);G7=a(e3,"Cr\xE9ation d'un ensemble de validation"),e3.forEach(s),xm.forEach(s),Dc=p(e),Za=r(e,"P",{});var t3=l(Za);Y7=a(t3,"Bien que nous ayons un jeu de test que nous pourrions utiliser pour l\u2019\xE9valuation, il est recommand\xE9 de ne pas toucher au jeu de test et de cr\xE9er un jeu de validation s\xE9par\xE9 pendant le d\xE9veloppement. Une fois que vous \xEAtes satisfait des performances de vos mod\xE8les sur l\u2019ensemble de validation, vous pouvez effectuer une derni\xE8re v\xE9rification d\u2019int\xE9grit\xE9 sur l\u2019ensemble test. Ce processus permet d\u2019att\xE9nuer le risque de surentra\xEEnement sur le jeu de test et de d\xE9ployer un mod\xE8le qui \xE9choue sur des donn\xE9es du monde r\xE9el."),t3.forEach(s),kc=p(e),V=r(e,"P",{});var ve=l(V);X7=a(ve,"\u{1F917} "),Nu=r(ve,"EM",{});var s3=l(Nu);W7=a(s3,"Datasets"),s3.forEach(s),K7=a(ve," fournit une fonction "),Au=r(ve,"CODE",{});var n3=l(Au);Q7=a(n3,"Dataset.train_test_split()"),n3.forEach(s),Z7=a(ve," bas\xE9e sur la c\xE9l\xE8bre fonctionnalit\xE9 de "),Mu=r(ve,"CODE",{});var a3=l(Mu);eE=a(a3,"scikit-learn"),a3.forEach(s),tE=a(ve,". Utilisons-la pour diviser notre ensemble d\u2019entra\xEEnement "),Iu=r(ve,"CODE",{});var o3=l(Iu);sE=a(o3,"train"),o3.forEach(s),nE=a(ve," et "),Lu=r(ve,"CODE",{});var r3=l(Lu);aE=a(r3,"validation"),r3.forEach(s),oE=a(ve," (nous d\xE9finissons l\u2019argument "),Su=r(ve,"CODE",{});var l3=l(Su);rE=a(l3,"seed"),l3.forEach(s),lE=a(ve," pour la reproductibilit\xE9) :"),ve.forEach(s),yc=p(e),v(Bn.$$.fragment,e),Cc=p(e),v(Gn.$$.fragment,e),Tc=p(e),Qe=r(e,"P",{});var Vo=l(Qe);iE=a(Vo,"G\xE9nial, nous avons maintenant pr\xE9par\xE9 un jeu de donn\xE9es pr\xEAt pour l\u2019entra\xEEnement de certains mod\xE8les ! Dans la "),eo=r(Vo,"A",{href:!0});var i3=l(eo);uE=a(i3,"section 5"),i3.forEach(s),dE=a(Vo,", nous vous montrerons comment t\xE9l\xE9charger des jeux de donn\xE9es sur le "),Hu=r(Vo,"EM",{});var u3=l(Hu);pE=a(u3,"Hub"),u3.forEach(s),cE=a(Vo,". Mais pour l\u2019instant, terminons notre analyse en examinant quelques fa\xE7ons d\u2019enregistrer des jeux de donn\xE9es sur votre ordinateur local."),Vo.forEach(s),zc=p(e),Ot=r(e,"H2",{class:!0});var jm=l(Ot);us=r(jm,"A",{id:!0,class:!0,href:!0});var d3=l(us);Ru=r(d3,"SPAN",{});var p3=l(Ru);v(Yn.$$.fragment,p3),p3.forEach(s),d3.forEach(s),mE=p(jm),Uu=r(jm,"SPAN",{});var c3=l(Uu);fE=a(c3,"Enregistrer un jeu de donn\xE9es"),c3.forEach(s),jm.forEach(s),Oc=p(e),v(Xn.$$.fragment,e),Pc=p(e),Ze=r(e,"P",{});var Fo=l(Ze);vE=a(Fo,"Bien que \u{1F917} "),Ju=r(Fo,"EM",{});var m3=l(Ju);hE=a(m3,"Datasets"),m3.forEach(s),_E=a(Fo," mette en cache chaque jeu de donn\xE9es t\xE9l\xE9charg\xE9 et les op\xE9rations qui y sont effectu\xE9es, il y a des moments o\xF9 vous voudrez enregistrer un jeu de donn\xE9es sur le disque (par exemple, au cas o\xF9 le cache serait supprim\xE9). Comme indiqu\xE9 dans le tableau ci-dessous, \u{1F917} "),Vu=r(Fo,"EM",{});var f3=l(Vu);gE=a(f3,"Datasets"),f3.forEach(s),$E=a(Fo," fournit trois fonctions principales pour enregistrer votre jeu de donn\xE9es dans diff\xE9rents formats :"),Fo.forEach(s),Nc=p(e),ds=r(e,"TABLE",{});var qm=l(ds);Fu=r(qm,"THEAD",{});var v3=l(Fu);Wn=r(v3,"TR",{});var wm=l(Wn);to=r(wm,"TH",{align:!0});var h3=l(to);EE=a(h3,"Format de donn\xE9es"),h3.forEach(s),bE=p(wm),so=r(wm,"TH",{align:!0});var _3=l(so);xE=a(_3,"Fonction"),_3.forEach(s),wm.forEach(s),v3.forEach(s),jE=p(qm),Pt=r(qm,"TBODY",{});var Bo=l(Pt);Kn=r(Bo,"TR",{});var Dm=l(Kn);no=r(Dm,"TD",{align:!0});var g3=l(no);qE=a(g3,"Arrow"),g3.forEach(s),wE=p(Dm),ao=r(Dm,"TD",{align:!0});var $3=l(ao);Bu=r($3,"CODE",{});var E3=l(Bu);DE=a(E3,"Dataset.save_to_disk()"),E3.forEach(s),$3.forEach(s),Dm.forEach(s),kE=p(Bo),Qn=r(Bo,"TR",{});var km=l(Qn);oo=r(km,"TD",{align:!0});var b3=l(oo);yE=a(b3,"CSV"),b3.forEach(s),CE=p(km),ro=r(km,"TD",{align:!0});var x3=l(ro);Gu=r(x3,"CODE",{});var j3=l(Gu);TE=a(j3,"Dataset.to_csv()"),j3.forEach(s),x3.forEach(s),km.forEach(s),zE=p(Bo),Zn=r(Bo,"TR",{});var ym=l(Zn);lo=r(ym,"TD",{align:!0});var q3=l(lo);OE=a(q3,"JSON"),q3.forEach(s),PE=p(ym),io=r(ym,"TD",{align:!0});var w3=l(io);Yu=r(w3,"CODE",{});var D3=l(Yu);NE=a(D3,"Dataset.to_json()"),D3.forEach(s),w3.forEach(s),ym.forEach(s),Bo.forEach(s),qm.forEach(s),Ac=p(e),uo=r(e,"P",{});var k3=l(uo);AE=a(k3,"Par exemple, enregistrons notre jeu de donn\xE9es nettoy\xE9 au format Arrow :"),k3.forEach(s),Mc=p(e),v(ea.$$.fragment,e),Ic=p(e),po=r(e,"P",{});var y3=l(po);ME=a(y3,"Cela cr\xE9era un r\xE9pertoire avec la structure suivante :"),y3.forEach(s),Lc=p(e),v(ta.$$.fragment,e),Sc=p(e),ke=r(e,"P",{});var ys=l(ke);IE=a(ys,"o\xF9 nous pouvons voir que chaque division est associ\xE9e \xE0 sa propre table "),Xu=r(ys,"EM",{});var C3=l(Xu);LE=a(C3,"dataset.arrow"),C3.forEach(s),SE=a(ys," et \xE0 certaines m\xE9tadonn\xE9es dans "),Wu=r(ys,"EM",{});var T3=l(Wu);HE=a(T3,"dataset_info.json"),T3.forEach(s),RE=a(ys," et "),Ku=r(ys,"EM",{});var z3=l(Ku);UE=a(z3,"state.json"),z3.forEach(s),JE=a(ys,". Vous pouvez consid\xE9rer le format Arrow comme un tableau sophistiqu\xE9 de colonnes et de lignes optimis\xE9 pour la cr\xE9ation d\u2019applications hautes performances qui traitent et transportent de grands ensembles de donn\xE9es."),ys.forEach(s),Hc=p(e),ps=r(e,"P",{});var Cm=l(ps);VE=a(Cm,"Une fois le jeu de donn\xE9es enregistr\xE9, nous pouvons le charger en utilisant la fonction "),Qu=r(Cm,"CODE",{});var O3=l(Qu);FE=a(O3,"load_from_disk()"),O3.forEach(s),BE=a(Cm," comme suit :"),Cm.forEach(s),Rc=p(e),v(sa.$$.fragment,e),Uc=p(e),v(na.$$.fragment,e),Jc=p(e),cs=r(e,"P",{});var Tm=l(cs);GE=a(Tm,"Pour les formats CSV et JSON, nous devons stocker chaque fractionnement dans un fichier s\xE9par\xE9. Pour ce faire, vous pouvez parcourir les cl\xE9s et les valeurs de l\u2019objet "),Zu=r(Tm,"CODE",{});var P3=l(Zu);YE=a(P3,"DatasetDict"),P3.forEach(s),XE=a(Tm," :"),Tm.forEach(s),Vc=p(e),v(aa.$$.fragment,e),Fc=p(e),ms=r(e,"P",{});var zm=l(ms);WE=a(zm,"Cela enregistre chaque fractionnement au "),oa=r(zm,"A",{href:!0,rel:!0});var N3=l(oa);KE=a(N3,"format JSON Lines"),N3.forEach(s),QE=a(zm,", o\xF9 chaque ligne du jeu de donn\xE9es est stock\xE9e sous la forme d\u2019une seule ligne de JSON. Voici \xE0 quoi ressemble le premier exemple :"),zm.forEach(s),Bc=p(e),v(ra.$$.fragment,e),Gc=p(e),v(la.$$.fragment,e),Yc=p(e),fs=r(e,"P",{});var Om=l(fs);ZE=a(Om,"Nous pouvons ensuite utiliser les techniques de "),co=r(Om,"A",{href:!0});var A3=l(co);eb=a(A3,"section 2"),A3.forEach(s),tb=a(Om," pour charger les fichiers JSON comme suit :"),Om.forEach(s),Xc=p(e),v(ia.$$.fragment,e),Wc=p(e),vs=r(e,"P",{});var Pm=l(vs);sb=a(Pm,"Et c\u2019est tout pour notre excursion dans la manipulation des donn\xE9es avec \u{1F917} "),ed=r(Pm,"EM",{});var M3=l(ed);nb=a(M3,"Datasets"),M3.forEach(s),ab=a(Pm," ! Maintenant que nous disposons d\u2019un ensemble de donn\xE9es nettoy\xE9 pour entra\xEEner un mod\xE8le, voici quelques id\xE9es que vous pouvez essayer :"),Pm.forEach(s),Kc=p(e),hs=r(e,"OL",{});var Nm=l(hs);ua=r(Nm,"LI",{});var Am=l(ua);ob=a(Am,"Utilisez les techniques du "),mo=r(Am,"A",{href:!0});var I3=l(mo);rb=a(I3,"chapitre 3"),I3.forEach(s),lb=a(Am," pour entra\xEEner un classifieur capable de pr\xE9dire l\u2019\xE9tat du patient en fonction de l\u2019examen du m\xE9dicament."),Am.forEach(s),ib=p(Nm),Nt=r(Nm,"LI",{});var Go=l(Nt);ub=a(Go,"Utilisez le pipeline "),td=r(Go,"CODE",{});var L3=l(td);db=a(L3,"summarization"),L3.forEach(s),pb=a(Go," du "),fo=r(Go,"A",{href:!0});var S3=l(fo);cb=a(S3,"chapitre 1"),S3.forEach(s),mb=a(Go," pour g\xE9n\xE9rer des r\xE9sum\xE9s des r\xE9visions."),Go.forEach(s),Nm.forEach(s),Qc=p(e),_s=r(e,"P",{});var Mm=l(_s);fb=a(Mm,"Ensuite, nous verrons comment \u{1F917} "),sd=r(Mm,"EM",{});var H3=l(sd);vb=a(H3,"Datasets"),H3.forEach(s),hb=a(Mm," peut vous permettre de travailler avec d\u2019\xE9normes jeux de donn\xE9es sans faire exploser votre ordinateur portable !"),Mm.forEach(s),this.h()},h(){m(c,"name","hf:doc:metadata"),m(c,"content",JSON.stringify(n4)),m(w,"id","il-est-temps-de-trancher-et-de-dcouper"),m(w,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),m(w,"href","#il-est-temps-de-trancher-et-de-dcouper"),m(b,"class","relative group"),m(ne,"id","trancher-et-dcouper-nos-donnes"),m(ne,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),m(ne,"href","#trancher-et-dcouper-nos-donnes"),m(U,"class","relative group"),m($a,"href","/course/fr/chapter3"),m(zs,"href","https://archive.ics.uci.edu/ml/datasets/Drug+Review+Dataset+%28Drugs.com%29"),m(zs,"rel","nofollow"),m(Os,"href","https://archive.ics.uci.edu/ml/index.php"),m(Os,"rel","nofollow"),m(Ea,"href","/course/fr/chapter3"),m(Bs,"href","https://docs.python.org/3/reference/lexical_analysis.html#keywords"),m(Bs,"rel","nofollow"),m(Qs,"href","https://realpython.com/python-lambda/"),m(Qs,"rel","nofollow"),m(Lt,"id","cration-de-nouvelles-colonnes"),m(Lt,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),m(Lt,"href","#cration-de-nouvelles-colonnes"),m(mt,"class","relative group"),m(Vt,"id","les-superpouvoirs-de-la-mthode-map"),m(Vt,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),m(Vt,"href","#les-superpouvoirs-de-la-mthode-map"),m(ft,"class","relative group"),m(Ca,"href","/course/fr/chapter6"),m(Ta,"href","/course/fr/chapter3"),m(za,"align","center"),m(gn,"align","center"),m($n,"align","center"),m(Oa,"align","center"),m(Pa,"align","center"),m(Na,"align","center"),m(Aa,"align","center"),m(Ma,"align","center"),m(Ia,"align","center"),m(Sa,"align","center"),m(xn,"align","center"),m(jn,"align","center"),m(Ha,"align","center"),m(Ra,"align","center"),m(Ua,"align","center"),m(Ja,"align","center"),m(Va,"align","center"),m(Fa,"align","center"),m(Wt,"align","center"),m(Ba,"align","center"),m(Ga,"align","center"),m(Kt,"align","center"),m(Ya,"align","center"),m(Xa,"align","center"),m(Wa,"href","/course/fr/chapter7"),m(Cn,"href","https://huggingface.co/docs/datasets/package_reference/main_classes.html#datasets.Dataset.map"),m(Cn,"rel","nofollow"),m(ns,"id","de-dataset-dataframe-et-vice-versa"),m(ns,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),m(ns,"href","#de-dataset-dataframe-et-vice-versa"),m(jt,"class","relative group"),R3(M,"text-align","right"),m(Ge,"border","1"),m(Ge,"class","dataframe"),R3(We,"text-align","right"),m(Xe,"border","1"),m(Xe,"class","dataframe"),m(is,"id","cration-dun-ensemble-de-validation"),m(is,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),m(is,"href","#cration-dun-ensemble-de-validation"),m(zt,"class","relative group"),m(eo,"href","/course/fr/chapter5/5"),m(us,"id","enregistrer-un-jeu-de-donnes"),m(us,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),m(us,"href","#enregistrer-un-jeu-de-donnes"),m(Ot,"class","relative group"),m(to,"align","center"),m(so,"align","center"),m(no,"align","center"),m(ao,"align","center"),m(oo,"align","center"),m(ro,"align","center"),m(lo,"align","center"),m(io,"align","center"),m(oa,"href","https://jsonlines.org"),m(oa,"rel","nofollow"),m(co,"href","/course/fr/chapter5/2"),m(mo,"href","/course/fr/chapter3"),m(fo,"href","/course/fr/chapter1")},m(e,i){t(document.head,c),u(e,C,i),u(e,b,i),t(b,w),t(w,y),h(x,y,null),t(b,j),t(b,T),t(T,q),u(e,D,i),h(O,e,i),u(e,z,i),u(e,k,i),t(k,X),t(k,A),t(A,W),t(k,Pe),u(e,K,i),h(P,e,i),u(e,Ne,i),u(e,U,i),t(U,ne),t(ne,_e),h(Q,_e,null),t(U,Ts),t(U,dt),t(dt,pt),u(e,N,i),u(e,H,i),t(H,fa),t(H,At),t(At,va),t(H,ha),t(H,Mt),t(Mt,_a),t(H,ga),t(H,Yo),t(Yo,Im),t(H,Lm),t(H,Xo),t(Xo,Sm),t(H,Hm),t(H,$a),t($a,Rm),t(H,Um),u(e,id,i),u(e,Ie,i),t(Ie,Jm),t(Ie,zs),t(zs,Wo),t(Wo,Vm),t(Ie,Fm),t(Ie,Os),t(Os,Ko),t(Ko,Bm),t(Ie,Gm),u(e,ud,i),u(e,Le,i),t(Le,Ym),t(Le,Qo),t(Qo,Xm),t(Le,Wm),t(Le,Zo),t(Zo,Km),t(Le,Qm),u(e,dd,i),h(Ps,e,i),u(e,pd,i),u(e,ge,i),t(ge,Zm),t(ge,er),t(er,ef),t(ge,tf),t(ge,tr),t(tr,sf),t(ge,nf),t(ge,sr),t(sr,af),t(ge,of),u(e,cd,i),h(Ns,e,i),u(e,md,i),u(e,$e,i),t($e,rf),t($e,nr),t(nr,lf),t($e,uf),t($e,ar),t(ar,df),t($e,pf),t($e,or),t(or,cf),t($e,mf),u(e,fd,i),h(As,e,i),u(e,vd,i),h(Ms,e,i),u(e,hd,i),u(e,Ee,i),t(Ee,ff),t(Ee,rr),t(rr,vf),t(Ee,hf),t(Ee,lr),t(lr,_f),t(Ee,gf),t(Ee,ir),t(ir,$f),t(Ee,Ef),u(e,_d,i),u(e,Se,i),t(Se,Is),t(Is,bf),t(Is,ur),t(ur,xf),t(Is,jf),t(Se,qf),t(Se,Ls),t(Ls,wf),t(Ls,dr),t(dr,Df),t(Ls,kf),t(Se,yf),t(Se,ct),t(ct,Cf),t(ct,pr),t(pr,Tf),t(ct,zf),t(ct,cr),t(cr,Of),t(ct,Pf),u(e,gd,i),u(e,be,i),t(be,Nf),t(be,mr),t(mr,Af),t(be,Mf),t(be,fr),t(fr,If),t(be,Lf),t(be,vr),t(vr,Sf),t(be,Hf),u(e,$d,i),h(Ss,e,i),u(e,Ed,i),u(e,He,i),t(He,Rf),t(He,hr),t(hr,Uf),t(He,Jf),t(He,_r),t(_r,Vf),t(He,Ff),u(e,bd,i),h(Hs,e,i),u(e,xd,i),h(Rs,e,i),u(e,jd,i),h(It,e,i),u(e,qd,i),u(e,oe,i),t(oe,Bf),t(oe,gr),t(gr,Gf),t(oe,Yf),t(oe,$r),t($r,Xf),t(oe,Wf),t(oe,Ea),t(Ea,Kf),t(oe,Qf),t(oe,Er),t(Er,Zf),t(oe,ev),u(e,wd,i),h(Us,e,i),u(e,Dd,i),h(Js,e,i),u(e,kd,i),u(e,re,i),t(re,tv),t(re,br),t(br,sv),t(re,nv),t(re,xr),t(xr,av),t(re,ov),t(re,jr),t(jr,rv),t(re,lv),t(re,qr),t(qr,iv),t(re,uv),u(e,yd,i),h(Vs,e,i),u(e,Cd,i),u(e,Re,i),t(Re,dv),t(Re,wr),t(wr,pv),t(Re,cv),t(Re,Dr),t(Dr,mv),t(Re,fv),u(e,Td,i),h(Fs,e,i),u(e,zd,i),u(e,le,i),t(le,vv),t(le,kr),t(kr,hv),t(le,_v),t(le,Bs),t(Bs,gv),t(le,$v),t(le,yr),t(yr,Ev),t(le,bv),t(le,Cr),t(Cr,xv),t(le,jv),u(e,Od,i),h(Gs,e,i),u(e,Pd,i),u(e,ba,i),t(ba,qv),u(e,Nd,i),h(Ys,e,i),u(e,Ad,i),h(Xs,e,i),u(e,Md,i),u(e,xa,i),t(xa,wv),u(e,Id,i),h(Ws,e,i),u(e,Ld,i),h(Ks,e,i),u(e,Sd,i),u(e,xe,i),t(xe,Dv),t(xe,Qs),t(Qs,kv),t(xe,yv),t(xe,Tr),t(Tr,Cv),t(xe,Tv),t(xe,zr),t(zr,zv),t(xe,Ov),u(e,Hd,i),h(Zs,e,i),u(e,Rd,i),u(e,Ue,i),t(Ue,Pv),t(Ue,Or),t(Or,Nv),t(Ue,Av),t(Ue,Pr),t(Pr,Mv),t(Ue,Iv),u(e,Ud,i),h(en,e,i),u(e,Jd,i),h(tn,e,i),u(e,Vd,i),u(e,ja,i),t(ja,Lv),u(e,Fd,i),u(e,mt,i),t(mt,Lt),t(Lt,Nr),h(sn,Nr,null),t(mt,Sv),t(mt,Ar),t(Ar,Hv),u(e,Bd,i),u(e,qa,i),t(qa,Rv),u(e,Gd,i),u(e,wa,i),t(wa,Uv),u(e,Yd,i),h(nn,e,i),u(e,Xd,i),u(e,Z,i),t(Z,Jv),t(Z,Mr),t(Mr,Vv),t(Z,Fv),t(Z,Ir),t(Ir,Bv),t(Z,Gv),t(Z,Lr),t(Lr,Yv),t(Z,Xv),t(Z,Sr),t(Sr,Wv),t(Z,Kv),t(Z,Hr),t(Hr,Qv),t(Z,Zv),u(e,Wd,i),h(an,e,i),u(e,Kd,i),h(on,e,i),u(e,Qd,i),u(e,Je,i),t(Je,eh),t(Je,Rr),t(Rr,th),t(Je,sh),t(Je,Ur),t(Ur,nh),t(Je,ah),u(e,Zd,i),h(rn,e,i),u(e,ep,i),h(ln,e,i),u(e,tp,i),u(e,Da,i),t(Da,oh),u(e,sp,i),h(St,e,i),u(e,np,i),u(e,Ve,i),t(Ve,rh),t(Ve,Jr),t(Jr,lh),t(Ve,ih),t(Ve,Vr),t(Vr,uh),t(Ve,dh),u(e,ap,i),h(un,e,i),u(e,op,i),h(dn,e,i),u(e,rp,i),u(e,ka,i),t(ka,ph),u(e,lp,i),h(Ht,e,i),u(e,ip,i),u(e,Rt,i),t(Rt,ch),t(Rt,Fr),t(Fr,mh),t(Rt,fh),u(e,up,i),h(pn,e,i),u(e,dp,i),h(cn,e,i),u(e,pp,i),u(e,Ut,i),t(Ut,vh),t(Ut,Br),t(Br,hh),t(Ut,_h),u(e,cp,i),h(mn,e,i),u(e,mp,i),u(e,Jt,i),t(Jt,gh),t(Jt,Gr),t(Gr,$h),t(Jt,Eh),u(e,fp,i),u(e,ft,i),t(ft,Vt),t(Vt,Yr),h(fn,Yr,null),t(ft,bh),t(ft,ya),t(ya,xh),t(ya,Xr),t(Xr,jh),u(e,vp,i),u(e,ee,i),t(ee,qh),t(ee,Wr),t(Wr,wh),t(ee,Dh),t(ee,Kr),t(Kr,kh),t(ee,yh),t(ee,Qr),t(Qr,Ch),t(ee,Th),t(ee,Zr),t(Zr,zh),t(ee,Oh),t(ee,el),t(el,Ph),t(ee,Nh),u(e,hp,i),u(e,ie,i),t(ie,Ah),t(ie,tl),t(tl,Mh),t(ie,Ih),t(ie,sl),t(sl,Lh),t(ie,Sh),t(ie,nl),t(nl,Hh),t(ie,Rh),t(ie,al),t(al,Uh),t(ie,Jh),u(e,_p,i),h(vn,e,i),u(e,gp,i),u(e,je,i),t(je,Vh),t(je,ol),t(ol,Fh),t(je,Bh),t(je,rl),t(rl,Gh),t(je,Yh),t(je,ll),t(ll,Xh),t(je,Wh),u(e,$p,i),u(e,te,i),t(te,Kh),t(te,il),t(il,Qh),t(te,Zh),t(te,ul),t(ul,e_),t(te,t_),t(te,dl),t(dl,s_),t(te,n_),t(te,Ca),t(Ca,a_),t(te,o_),t(te,pl),t(pl,r_),t(te,l_),u(e,Ep,i),h(hn,e,i),u(e,bp,i),u(e,se,i),t(se,i_),t(se,Ta),t(Ta,u_),t(se,d_),t(se,cl),t(cl,p_),t(se,c_),t(se,ml),t(ml,m_),t(se,f_),t(se,fl),t(fl,v_),t(se,h_),t(se,vl),t(vl,__),t(se,g_),u(e,xp,i),h(_n,e,i),u(e,jp,i),u(e,Ft,i),t(Ft,$_),t(Ft,hl),t(hl,E_),t(Ft,b_),u(e,qp,i),h(Bt,e,i),u(e,wp,i),u(e,Fe,i),t(Fe,x_),t(Fe,_l),t(_l,j_),t(Fe,q_),t(Fe,gl),t(gl,w_),t(Fe,D_),u(e,Dp,i),u(e,Gt,i),t(Gt,$l),t($l,vt),t(vt,za),t(za,k_),t(vt,y_),t(vt,gn),t(gn,El),t(El,C_),t(gn,T_),t(vt,z_),t(vt,$n),t($n,bl),t(bl,O_),t($n,P_),t(Gt,N_),t(Gt,En),t(En,ht),t(ht,Oa),t(Oa,xl),t(xl,A_),t(ht,M_),t(ht,Pa),t(Pa,I_),t(ht,L_),t(ht,Na),t(Na,S_),t(En,H_),t(En,_t),t(_t,Aa),t(Aa,jl),t(jl,R_),t(_t,U_),t(_t,Ma),t(Ma,J_),t(_t,V_),t(_t,Ia),t(Ia,F_),u(e,kp,i),u(e,ue,i),t(ue,B_),t(ue,ql),t(ql,G_),t(ue,Y_),t(ue,wl),t(wl,X_),t(ue,W_),t(ue,Dl),t(Dl,K_),t(ue,Q_),t(ue,kl),t(kl,Z_),t(ue,e2),u(e,yp,i),u(e,Yt,i),t(Yt,t2),t(Yt,yl),t(yl,s2),t(Yt,n2),u(e,Cp,i),u(e,ae,i),t(ae,Cl),t(Cl,a2),t(ae,o2),t(ae,Tl),t(Tl,r2),t(ae,l2),t(ae,zl),t(zl,i2),t(ae,u2),t(ae,Ol),t(Ol,d2),t(ae,p2),t(ae,Pl),t(Pl,c2),t(ae,m2),u(e,Tp,i),h(bn,e,i),u(e,zp,i),u(e,La,i),t(La,f2),u(e,Op,i),u(e,Xt,i),t(Xt,Nl),t(Nl,gt),t(gt,Sa),t(Sa,v2),t(gt,h2),t(gt,xn),t(xn,Al),t(Al,_2),t(xn,g2),t(gt,$2),t(gt,jn),t(jn,Ml),t(Ml,E2),t(jn,b2),t(Xt,x2),t(Xt,Ae),t(Ae,$t),t($t,Ha),t(Ha,Il),t(Il,j2),t($t,q2),t($t,Ra),t(Ra,w2),t($t,D2),t($t,Ua),t(Ua,k2),t(Ae,y2),t(Ae,Et),t(Et,Ja),t(Ja,Ll),t(Ll,C2),t(Et,T2),t(Et,Va),t(Va,z2),t(Et,O2),t(Et,Fa),t(Fa,P2),t(Ae,N2),t(Ae,bt),t(bt,Wt),t(Wt,Sl),t(Sl,A2),t(Wt,M2),t(Wt,Hl),t(Hl,I2),t(bt,L2),t(bt,Ba),t(Ba,S2),t(bt,H2),t(bt,Ga),t(Ga,R2),t(Ae,U2),t(Ae,xt),t(xt,Kt),t(Kt,Rl),t(Rl,J2),t(Kt,V2),t(Kt,Ul),t(Ul,F2),t(xt,B2),t(xt,Ya),t(Ya,G2),t(xt,Y2),t(xt,Xa),t(Xa,X2),u(e,Pp,i),u(e,J,i),t(J,W2),t(J,Jl),t(Jl,K2),t(J,Q2),t(J,Vl),t(Vl,Z2),t(J,eg),t(J,Fl),t(Fl,tg),t(J,sg),t(J,Bl),t(Bl,ng),t(J,ag),t(J,Gl),t(Gl,og),t(J,rg),t(J,Yl),t(Yl,lg),t(J,ig),u(e,Np,i),h(Qt,e,i),u(e,Ap,i),u(e,qe,i),t(qe,ug),t(qe,Xl),t(Xl,dg),t(qe,pg),t(qe,Wl),t(Wl,cg),t(qe,mg),t(qe,Wa),t(Wa,fg),t(qe,vg),u(e,Mp,i),h(Zt,e,i),u(e,Ip,i),u(e,we,i),t(we,hg),t(we,Kl),t(Kl,_g),t(we,gg),t(we,Ql),t(Ql,$g),t(we,Eg),t(we,Zl),t(Zl,bg),t(we,xg),u(e,Lp,i),h(qn,e,i),u(e,Sp,i),u(e,es,i),t(es,jg),t(es,ei),t(ei,qg),t(es,wg),u(e,Hp,i),h(wn,e,i),u(e,Rp,i),h(Dn,e,i),u(e,Up,i),u(e,ts,i),t(ts,Dg),t(ts,ti),t(ti,kg),t(ts,yg),u(e,Jp,i),h(kn,e,i),u(e,Vp,i),h(yn,e,i),u(e,Fp,i),u(e,Be,i),t(Be,Cg),t(Be,Cn),t(Cn,Tg),t(Be,zg),t(Be,si),t(si,Og),t(Be,Pg),u(e,Bp,i),u(e,de,i),t(de,Ng),t(de,ni),t(ni,Ag),t(de,Mg),t(de,ai),t(ai,Ig),t(de,Lg),t(de,oi),t(oi,Sg),t(de,Hg),t(de,ri),t(ri,Rg),t(de,Ug),u(e,Gp,i),h(Tn,e,i),u(e,Yp,i),u(e,Ka,i),t(Ka,Jg),u(e,Xp,i),h(zn,e,i),u(e,Wp,i),h(On,e,i),u(e,Kp,i),u(e,De,i),t(De,Vg),t(De,li),t(li,Fg),t(De,Bg),t(De,ii),t(ii,Gg),t(De,Yg),t(De,ui),t(ui,Xg),t(De,Wg),u(e,Qp,i),h(Pn,e,i),u(e,Zp,i),u(e,ss,i),t(ss,Kg),t(ss,di),t(di,Qg),t(ss,Zg),u(e,ec,i),h(Nn,e,i),u(e,tc,i),h(An,e,i),u(e,sc,i),u(e,Qa,i),t(Qa,e1),u(e,nc,i),u(e,pe,i),t(pe,t1),t(pe,pi),t(pi,s1),t(pe,n1),t(pe,ci),t(ci,a1),t(pe,o1),t(pe,mi),t(mi,r1),t(pe,l1),t(pe,fi),t(fi,i1),t(pe,u1),u(e,ac,i),u(e,jt,i),t(jt,ns),t(ns,vi),h(Mn,vi,null),t(jt,d1),t(jt,qt),t(qt,p1),t(qt,hi),t(hi,c1),t(qt,m1),t(qt,_i),t(_i,f1),t(qt,v1),u(e,oc,i),h(In,e,i),u(e,rc,i),u(e,ce,i),t(ce,h1),t(ce,gi),t(gi,_1),t(ce,g1),t(ce,$i),t($i,$1),t(ce,E1),t(ce,Ei),t(Ei,b1),t(ce,x1),t(ce,bi),t(bi,j1),t(ce,q1),u(e,lc,i),h(Ln,e,i),u(e,ic,i),u(e,as,i),t(as,w1),t(as,xi),t(xi,D1),t(as,k1),u(e,uc,i),h(Sn,e,i),u(e,dc,i),u(e,Ge,i),t(Ge,ji),t(ji,M),t(M,pc),t(M,y1),t(M,qi),t(qi,C1),t(M,T1),t(M,wi),t(wi,z1),t(M,O1),t(M,Di),t(Di,P1),t(M,N1),t(M,ki),t(ki,A1),t(M,M1),t(M,yi),t(yi,I1),t(M,L1),t(M,Ci),t(Ci,S1),t(M,H1),t(M,Ti),t(Ti,R1),t(M,U1),t(M,zi),t(zi,J1),t(Ge,V1),t(Ge,wt),t(wt,I),t(I,Oi),t(Oi,F1),t(I,B1),t(I,Pi),t(Pi,G1),t(I,Y1),t(I,Ni),t(Ni,X1),t(I,W1),t(I,Ai),t(Ai,K1),t(I,Q1),t(I,Mi),t(Mi,Z1),t(I,e$),t(I,Ii),t(Ii,t$),t(I,s$),t(I,Li),t(Li,n$),t(I,a$),t(I,Si),t(Si,o$),t(I,r$),t(I,Hi),t(Hi,l$),t(wt,i$),t(wt,L),t(L,Ri),t(Ri,u$),t(L,d$),t(L,Ui),t(Ui,p$),t(L,c$),t(L,Ji),t(Ji,m$),t(L,f$),t(L,Vi),t(Vi,v$),t(L,h$),t(L,Fi),t(Fi,_$),t(L,g$),t(L,Bi),t(Bi,$$),t(L,E$),t(L,Gi),t(Gi,b$),t(L,x$),t(L,Yi),t(Yi,j$),t(L,q$),t(L,Xi),t(Xi,w$),t(wt,D$),t(wt,S),t(S,Wi),t(Wi,k$),t(S,y$),t(S,Ki),t(Ki,C$),t(S,T$),t(S,Qi),t(Qi,z$),t(S,O$),t(S,Zi),t(Zi,P$),t(S,N$),t(S,eu),t(eu,A$),t(S,M$),t(S,tu),t(tu,I$),t(S,L$),t(S,su),t(su,S$),t(S,H$),t(S,nu),t(nu,R$),t(S,U$),t(S,au),t(au,J$),u(e,cc,i),u(e,Ye,i),t(Ye,V$),t(Ye,ou),t(ou,F$),t(Ye,B$),t(Ye,ru),t(ru,G$),t(Ye,Y$),u(e,mc,i),h(Hn,e,i),u(e,fc,i),h(os,e,i),u(e,vc,i),u(e,rs,i),t(rs,X$),t(rs,lu),t(lu,W$),t(rs,K$),u(e,hc,i),h(Rn,e,i),u(e,_c,i),u(e,Xe,i),t(Xe,iu),t(iu,We),t(We,gc),t(We,Q$),t(We,uu),t(uu,Z$),t(We,e7),t(We,du),t(du,t7),t(Xe,s7),t(Xe,he),t(he,Dt),t(Dt,pu),t(pu,n7),t(Dt,a7),t(Dt,cu),t(cu,o7),t(Dt,r7),t(Dt,mu),t(mu,l7),t(he,i7),t(he,kt),t(kt,fu),t(fu,u7),t(kt,d7),t(kt,vu),t(vu,p7),t(kt,c7),t(kt,hu),t(hu,m7),t(he,f7),t(he,yt),t(yt,_u),t(_u,v7),t(yt,h7),t(yt,gu),t(gu,_7),t(yt,g7),t(yt,$u),t($u,$7),t(he,E7),t(he,Ct),t(Ct,Eu),t(Eu,b7),t(Ct,x7),t(Ct,bu),t(bu,j7),t(Ct,q7),t(Ct,xu),t(xu,w7),t(he,D7),t(he,Tt),t(Tt,ju),t(ju,k7),t(Tt,y7),t(Tt,qu),t(qu,C7),t(Tt,T7),t(Tt,wu),t(wu,z7),u(e,$c,i),u(e,Ke,i),t(Ke,O7),t(Ke,Du),t(Du,P7),t(Ke,N7),t(Ke,ku),t(ku,A7),t(Ke,M7),u(e,Ec,i),h(Un,e,i),u(e,bc,i),h(Jn,e,i),u(e,xc,i),h(ls,e,i),u(e,jc,i),u(e,me,i),t(me,I7),t(me,yu),t(yu,L7),t(me,S7),t(me,Cu),t(Cu,H7),t(me,R7),t(me,Tu),t(Tu,U7),t(me,J7),t(me,zu),t(zu,V7),t(me,F7),u(e,qc,i),h(Vn,e,i),u(e,wc,i),u(e,zt,i),t(zt,is),t(is,Ou),h(Fn,Ou,null),t(zt,B7),t(zt,Pu),t(Pu,G7),u(e,Dc,i),u(e,Za,i),t(Za,Y7),u(e,kc,i),u(e,V,i),t(V,X7),t(V,Nu),t(Nu,W7),t(V,K7),t(V,Au),t(Au,Q7),t(V,Z7),t(V,Mu),t(Mu,eE),t(V,tE),t(V,Iu),t(Iu,sE),t(V,nE),t(V,Lu),t(Lu,aE),t(V,oE),t(V,Su),t(Su,rE),t(V,lE),u(e,yc,i),h(Bn,e,i),u(e,Cc,i),h(Gn,e,i),u(e,Tc,i),u(e,Qe,i),t(Qe,iE),t(Qe,eo),t(eo,uE),t(Qe,dE),t(Qe,Hu),t(Hu,pE),t(Qe,cE),u(e,zc,i),u(e,Ot,i),t(Ot,us),t(us,Ru),h(Yn,Ru,null),t(Ot,mE),t(Ot,Uu),t(Uu,fE),u(e,Oc,i),h(Xn,e,i),u(e,Pc,i),u(e,Ze,i),t(Ze,vE),t(Ze,Ju),t(Ju,hE),t(Ze,_E),t(Ze,Vu),t(Vu,gE),t(Ze,$E),u(e,Nc,i),u(e,ds,i),t(ds,Fu),t(Fu,Wn),t(Wn,to),t(to,EE),t(Wn,bE),t(Wn,so),t(so,xE),t(ds,jE),t(ds,Pt),t(Pt,Kn),t(Kn,no),t(no,qE),t(Kn,wE),t(Kn,ao),t(ao,Bu),t(Bu,DE),t(Pt,kE),t(Pt,Qn),t(Qn,oo),t(oo,yE),t(Qn,CE),t(Qn,ro),t(ro,Gu),t(Gu,TE),t(Pt,zE),t(Pt,Zn),t(Zn,lo),t(lo,OE),t(Zn,PE),t(Zn,io),t(io,Yu),t(Yu,NE),u(e,Ac,i),u(e,uo,i),t(uo,AE),u(e,Mc,i),h(ea,e,i),u(e,Ic,i),u(e,po,i),t(po,ME),u(e,Lc,i),h(ta,e,i),u(e,Sc,i),u(e,ke,i),t(ke,IE),t(ke,Xu),t(Xu,LE),t(ke,SE),t(ke,Wu),t(Wu,HE),t(ke,RE),t(ke,Ku),t(Ku,UE),t(ke,JE),u(e,Hc,i),u(e,ps,i),t(ps,VE),t(ps,Qu),t(Qu,FE),t(ps,BE),u(e,Rc,i),h(sa,e,i),u(e,Uc,i),h(na,e,i),u(e,Jc,i),u(e,cs,i),t(cs,GE),t(cs,Zu),t(Zu,YE),t(cs,XE),u(e,Vc,i),h(aa,e,i),u(e,Fc,i),u(e,ms,i),t(ms,WE),t(ms,oa),t(oa,KE),t(ms,QE),u(e,Bc,i),h(ra,e,i),u(e,Gc,i),h(la,e,i),u(e,Yc,i),u(e,fs,i),t(fs,ZE),t(fs,co),t(co,eb),t(fs,tb),u(e,Xc,i),h(ia,e,i),u(e,Wc,i),u(e,vs,i),t(vs,sb),t(vs,ed),t(ed,nb),t(vs,ab),u(e,Kc,i),u(e,hs,i),t(hs,ua),t(ua,ob),t(ua,mo),t(mo,rb),t(ua,lb),t(hs,ib),t(hs,Nt),t(Nt,ub),t(Nt,td),t(td,db),t(Nt,pb),t(Nt,fo),t(fo,cb),t(Nt,mb),u(e,Qc,i),u(e,_s,i),t(_s,fb),t(_s,sd),t(sd,vb),t(_s,hb),Zc=!0},p(e,[i]){const da={};i&2&&(da.$$scope={dirty:i,ctx:e}),It.$set(da);const nd={};i&2&&(nd.$$scope={dirty:i,ctx:e}),St.$set(nd);const ad={};i&2&&(ad.$$scope={dirty:i,ctx:e}),Ht.$set(ad);const od={};i&2&&(od.$$scope={dirty:i,ctx:e}),Bt.$set(od);const pa={};i&2&&(pa.$$scope={dirty:i,ctx:e}),Qt.$set(pa);const rd={};i&2&&(rd.$$scope={dirty:i,ctx:e}),Zt.$set(rd);const ca={};i&2&&(ca.$$scope={dirty:i,ctx:e}),os.$set(ca);const ld={};i&2&&(ld.$$scope={dirty:i,ctx:e}),ls.$set(ld)},i(e){Zc||(_(x.$$.fragment,e),_(O.$$.fragment,e),_(P.$$.fragment,e),_(Q.$$.fragment,e),_(Ps.$$.fragment,e),_(Ns.$$.fragment,e),_(As.$$.fragment,e),_(Ms.$$.fragment,e),_(Ss.$$.fragment,e),_(Hs.$$.fragment,e),_(Rs.$$.fragment,e),_(It.$$.fragment,e),_(Us.$$.fragment,e),_(Js.$$.fragment,e),_(Vs.$$.fragment,e),_(Fs.$$.fragment,e),_(Gs.$$.fragment,e),_(Ys.$$.fragment,e),_(Xs.$$.fragment,e),_(Ws.$$.fragment,e),_(Ks.$$.fragment,e),_(Zs.$$.fragment,e),_(en.$$.fragment,e),_(tn.$$.fragment,e),_(sn.$$.fragment,e),_(nn.$$.fragment,e),_(an.$$.fragment,e),_(on.$$.fragment,e),_(rn.$$.fragment,e),_(ln.$$.fragment,e),_(St.$$.fragment,e),_(un.$$.fragment,e),_(dn.$$.fragment,e),_(Ht.$$.fragment,e),_(pn.$$.fragment,e),_(cn.$$.fragment,e),_(mn.$$.fragment,e),_(fn.$$.fragment,e),_(vn.$$.fragment,e),_(hn.$$.fragment,e),_(_n.$$.fragment,e),_(Bt.$$.fragment,e),_(bn.$$.fragment,e),_(Qt.$$.fragment,e),_(Zt.$$.fragment,e),_(qn.$$.fragment,e),_(wn.$$.fragment,e),_(Dn.$$.fragment,e),_(kn.$$.fragment,e),_(yn.$$.fragment,e),_(Tn.$$.fragment,e),_(zn.$$.fragment,e),_(On.$$.fragment,e),_(Pn.$$.fragment,e),_(Nn.$$.fragment,e),_(An.$$.fragment,e),_(Mn.$$.fragment,e),_(In.$$.fragment,e),_(Ln.$$.fragment,e),_(Sn.$$.fragment,e),_(Hn.$$.fragment,e),_(os.$$.fragment,e),_(Rn.$$.fragment,e),_(Un.$$.fragment,e),_(Jn.$$.fragment,e),_(ls.$$.fragment,e),_(Vn.$$.fragment,e),_(Fn.$$.fragment,e),_(Bn.$$.fragment,e),_(Gn.$$.fragment,e),_(Yn.$$.fragment,e),_(Xn.$$.fragment,e),_(ea.$$.fragment,e),_(ta.$$.fragment,e),_(sa.$$.fragment,e),_(na.$$.fragment,e),_(aa.$$.fragment,e),_(ra.$$.fragment,e),_(la.$$.fragment,e),_(ia.$$.fragment,e),Zc=!0)},o(e){g(x.$$.fragment,e),g(O.$$.fragment,e),g(P.$$.fragment,e),g(Q.$$.fragment,e),g(Ps.$$.fragment,e),g(Ns.$$.fragment,e),g(As.$$.fragment,e),g(Ms.$$.fragment,e),g(Ss.$$.fragment,e),g(Hs.$$.fragment,e),g(Rs.$$.fragment,e),g(It.$$.fragment,e),g(Us.$$.fragment,e),g(Js.$$.fragment,e),g(Vs.$$.fragment,e),g(Fs.$$.fragment,e),g(Gs.$$.fragment,e),g(Ys.$$.fragment,e),g(Xs.$$.fragment,e),g(Ws.$$.fragment,e),g(Ks.$$.fragment,e),g(Zs.$$.fragment,e),g(en.$$.fragment,e),g(tn.$$.fragment,e),g(sn.$$.fragment,e),g(nn.$$.fragment,e),g(an.$$.fragment,e),g(on.$$.fragment,e),g(rn.$$.fragment,e),g(ln.$$.fragment,e),g(St.$$.fragment,e),g(un.$$.fragment,e),g(dn.$$.fragment,e),g(Ht.$$.fragment,e),g(pn.$$.fragment,e),g(cn.$$.fragment,e),g(mn.$$.fragment,e),g(fn.$$.fragment,e),g(vn.$$.fragment,e),g(hn.$$.fragment,e),g(_n.$$.fragment,e),g(Bt.$$.fragment,e),g(bn.$$.fragment,e),g(Qt.$$.fragment,e),g(Zt.$$.fragment,e),g(qn.$$.fragment,e),g(wn.$$.fragment,e),g(Dn.$$.fragment,e),g(kn.$$.fragment,e),g(yn.$$.fragment,e),g(Tn.$$.fragment,e),g(zn.$$.fragment,e),g(On.$$.fragment,e),g(Pn.$$.fragment,e),g(Nn.$$.fragment,e),g(An.$$.fragment,e),g(Mn.$$.fragment,e),g(In.$$.fragment,e),g(Ln.$$.fragment,e),g(Sn.$$.fragment,e),g(Hn.$$.fragment,e),g(os.$$.fragment,e),g(Rn.$$.fragment,e),g(Un.$$.fragment,e),g(Jn.$$.fragment,e),g(ls.$$.fragment,e),g(Vn.$$.fragment,e),g(Fn.$$.fragment,e),g(Bn.$$.fragment,e),g(Gn.$$.fragment,e),g(Yn.$$.fragment,e),g(Xn.$$.fragment,e),g(ea.$$.fragment,e),g(ta.$$.fragment,e),g(sa.$$.fragment,e),g(na.$$.fragment,e),g(aa.$$.fragment,e),g(ra.$$.fragment,e),g(la.$$.fragment,e),g(ia.$$.fragment,e),Zc=!1},d(e){s(c),e&&s(C),e&&s(b),$(x),e&&s(D),$(O,e),e&&s(z),e&&s(k),e&&s(K),$(P,e),e&&s(Ne),e&&s(U),$(Q),e&&s(N),e&&s(H),e&&s(id),e&&s(Ie),e&&s(ud),e&&s(Le),e&&s(dd),$(Ps,e),e&&s(pd),e&&s(ge),e&&s(cd),$(Ns,e),e&&s(md),e&&s($e),e&&s(fd),$(As,e),e&&s(vd),$(Ms,e),e&&s(hd),e&&s(Ee),e&&s(_d),e&&s(Se),e&&s(gd),e&&s(be),e&&s($d),$(Ss,e),e&&s(Ed),e&&s(He),e&&s(bd),$(Hs,e),e&&s(xd),$(Rs,e),e&&s(jd),$(It,e),e&&s(qd),e&&s(oe),e&&s(wd),$(Us,e),e&&s(Dd),$(Js,e),e&&s(kd),e&&s(re),e&&s(yd),$(Vs,e),e&&s(Cd),e&&s(Re),e&&s(Td),$(Fs,e),e&&s(zd),e&&s(le),e&&s(Od),$(Gs,e),e&&s(Pd),e&&s(ba),e&&s(Nd),$(Ys,e),e&&s(Ad),$(Xs,e),e&&s(Md),e&&s(xa),e&&s(Id),$(Ws,e),e&&s(Ld),$(Ks,e),e&&s(Sd),e&&s(xe),e&&s(Hd),$(Zs,e),e&&s(Rd),e&&s(Ue),e&&s(Ud),$(en,e),e&&s(Jd),$(tn,e),e&&s(Vd),e&&s(ja),e&&s(Fd),e&&s(mt),$(sn),e&&s(Bd),e&&s(qa),e&&s(Gd),e&&s(wa),e&&s(Yd),$(nn,e),e&&s(Xd),e&&s(Z),e&&s(Wd),$(an,e),e&&s(Kd),$(on,e),e&&s(Qd),e&&s(Je),e&&s(Zd),$(rn,e),e&&s(ep),$(ln,e),e&&s(tp),e&&s(Da),e&&s(sp),$(St,e),e&&s(np),e&&s(Ve),e&&s(ap),$(un,e),e&&s(op),$(dn,e),e&&s(rp),e&&s(ka),e&&s(lp),$(Ht,e),e&&s(ip),e&&s(Rt),e&&s(up),$(pn,e),e&&s(dp),$(cn,e),e&&s(pp),e&&s(Ut),e&&s(cp),$(mn,e),e&&s(mp),e&&s(Jt),e&&s(fp),e&&s(ft),$(fn),e&&s(vp),e&&s(ee),e&&s(hp),e&&s(ie),e&&s(_p),$(vn,e),e&&s(gp),e&&s(je),e&&s($p),e&&s(te),e&&s(Ep),$(hn,e),e&&s(bp),e&&s(se),e&&s(xp),$(_n,e),e&&s(jp),e&&s(Ft),e&&s(qp),$(Bt,e),e&&s(wp),e&&s(Fe),e&&s(Dp),e&&s(Gt),e&&s(kp),e&&s(ue),e&&s(yp),e&&s(Yt),e&&s(Cp),e&&s(ae),e&&s(Tp),$(bn,e),e&&s(zp),e&&s(La),e&&s(Op),e&&s(Xt),e&&s(Pp),e&&s(J),e&&s(Np),$(Qt,e),e&&s(Ap),e&&s(qe),e&&s(Mp),$(Zt,e),e&&s(Ip),e&&s(we),e&&s(Lp),$(qn,e),e&&s(Sp),e&&s(es),e&&s(Hp),$(wn,e),e&&s(Rp),$(Dn,e),e&&s(Up),e&&s(ts),e&&s(Jp),$(kn,e),e&&s(Vp),$(yn,e),e&&s(Fp),e&&s(Be),e&&s(Bp),e&&s(de),e&&s(Gp),$(Tn,e),e&&s(Yp),e&&s(Ka),e&&s(Xp),$(zn,e),e&&s(Wp),$(On,e),e&&s(Kp),e&&s(De),e&&s(Qp),$(Pn,e),e&&s(Zp),e&&s(ss),e&&s(ec),$(Nn,e),e&&s(tc),$(An,e),e&&s(sc),e&&s(Qa),e&&s(nc),e&&s(pe),e&&s(ac),e&&s(jt),$(Mn),e&&s(oc),$(In,e),e&&s(rc),e&&s(ce),e&&s(lc),$(Ln,e),e&&s(ic),e&&s(as),e&&s(uc),$(Sn,e),e&&s(dc),e&&s(Ge),e&&s(cc),e&&s(Ye),e&&s(mc),$(Hn,e),e&&s(fc),$(os,e),e&&s(vc),e&&s(rs),e&&s(hc),$(Rn,e),e&&s(_c),e&&s(Xe),e&&s($c),e&&s(Ke),e&&s(Ec),$(Un,e),e&&s(bc),$(Jn,e),e&&s(xc),$(ls,e),e&&s(jc),e&&s(me),e&&s(qc),$(Vn,e),e&&s(wc),e&&s(zt),$(Fn),e&&s(Dc),e&&s(Za),e&&s(kc),e&&s(V),e&&s(yc),$(Bn,e),e&&s(Cc),$(Gn,e),e&&s(Tc),e&&s(Qe),e&&s(zc),e&&s(Ot),$(Yn),e&&s(Oc),$(Xn,e),e&&s(Pc),e&&s(Ze),e&&s(Nc),e&&s(ds),e&&s(Ac),e&&s(uo),e&&s(Mc),$(ea,e),e&&s(Ic),e&&s(po),e&&s(Lc),$(ta,e),e&&s(Sc),e&&s(ke),e&&s(Hc),e&&s(ps),e&&s(Rc),$(sa,e),e&&s(Uc),$(na,e),e&&s(Jc),e&&s(cs),e&&s(Vc),$(aa,e),e&&s(Fc),e&&s(ms),e&&s(Bc),$(ra,e),e&&s(Gc),$(la,e),e&&s(Yc),e&&s(fs),e&&s(Xc),$(ia,e),e&&s(Wc),e&&s(vs),e&&s(Kc),e&&s(hs),e&&s(Qc),e&&s(_s)}}}const n4={local:"il-est-temps-de-trancher-et-de-dcouper",sections:[{local:"trancher-et-dcouper-nos-donnes",title:"Trancher et d\xE9couper nos donn\xE9es"},{local:"cration-de-nouvelles-colonnes",title:"Cr\xE9ation de nouvelles colonnes"},{local:"les-superpouvoirs-de-la-mthode-map",title:"Les superpouvoirs de la m\xE9thode `map()`"},{local:"de-dataset-dataframe-et-vice-versa",title:"De `Dataset` \xE0 `DataFrame` et vice versa"},{local:"cration-dun-ensemble-de-validation",title:"Cr\xE9ation d'un ensemble de validation"},{local:"enregistrer-un-jeu-de-donnes",title:"Enregistrer un jeu de donn\xE9es"}],title:"Il est temps de trancher et de d\xE9couper"};function a4(R){return B3(()=>{new URLSearchParams(window.location.search).get("fw")}),[]}class p4 extends U3{constructor(c){super();J3(this,c,a4,s4,V3,{})}}export{p4 as default,n4 as metadata};
