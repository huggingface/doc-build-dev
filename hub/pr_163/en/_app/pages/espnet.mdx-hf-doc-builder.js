import{S as ql,i as Cl,s as Ll,e as l,k as p,w as ee,t as r,N as Fl,c as a,d as o,m as h,a as s,x as te,h as i,b as c,P as St,G as t,g as f,y as oe,L as Tl,q as le,o as ae,B as se,v as jl}from"../chunks/vendor-hf-doc-builder.js";import{I as ze}from"../chunks/IconCopyLink-hf-doc-builder.js";import{C as Hl}from"../chunks/CodeBlock-hf-doc-builder.js";function Dl(zo){let _,Ge,E,x,_e,j,xt,Ee,Pt,Re,D,we,At,It,Be,w,P,ye,N,Ht,be,qt,Ve,m,Ct,$e,Lt,Ft,O,Tt,jt,Ye,re,Dt,Je,u,ke,Nt,Ot,Se,Ut,Mt,xe,zt,Gt,Pe,Rt,Ke,y,ie,Go,Bt,ne,Ro,Qe,b,A,Ae,U,Vt,Ie,Yt,We,I,Jt,M,Kt,Qt,Xe,H,Wt,He,Xt,Zt,Ze,g,ce,qe,eo,to,oo,fe,Ce,lo,ao,so,pe,Le,ro,io,et,he,no,tt,z,ot,q,co,Fe,fo,po,lt,$,ue,Bo,ho,de,Vo,at,k,C,Te,G,uo,je,mo,st,d,De,go,vo,Ne,_o,Eo,R,wo,yo,rt,L,bo,Oe,$o,ko,it,B,nt,S,F,Ue,V,So,Me,xo,ct,v,Y,Po,J,Ao,Io,Ho,K,qo,Q,Co,Lo,Fo,W,To,X,jo,Do,ft;return j=new ze({}),N=new ze({}),U=new ze({}),z=new Hl({props:{code:`import soundfile
from espnet2.bin.tts_inference import Text2Speech

text2speech = Text2Speech.from_pretrained("model_name")
speech = text2speech("foobar")["wav"]
soundfile.write("out.wav", speech.numpy(), text2speech.fs, "PCM_16")`,highlighted:`<span class="hljs-keyword">import</span> soundfile
<span class="hljs-keyword">from</span> espnet2.<span class="hljs-built_in">bin</span>.tts_inference <span class="hljs-keyword">import</span> Text2Speech

text2speech = Text2Speech.from_pretrained(<span class="hljs-string">&quot;model_name&quot;</span>)
speech = text2speech(<span class="hljs-string">&quot;foobar&quot;</span>)[<span class="hljs-string">&quot;wav&quot;</span>]
soundfile.write(<span class="hljs-string">&quot;out.wav&quot;</span>, speech.numpy(), text2speech.fs, <span class="hljs-string">&quot;PCM_16&quot;</span>)`}}),G=new ze({}),B=new Hl({props:{code:"./run.sh --stage 15 --skip_upload_hf false --hf_repo username/model_repo",highlighted:'./run.sh --stage 15 --skip_upload_hf <span class="hljs-literal">false</span> --hf_repo username/model_repo'}}),V=new ze({}),{c(){_=l("meta"),Ge=p(),E=l("h1"),x=l("a"),_e=l("span"),ee(j.$$.fragment),xt=p(),Ee=l("span"),Pt=r("Using ESPnet at Hugging Face"),Re=p(),D=l("p"),we=l("code"),At=r("espnet"),It=r(" is an end-to-end toolkit for speech processing, including automatic speech recognition, text to speech, speech enhancement, dirarization and other tasks."),Be=p(),w=l("h2"),P=l("a"),ye=l("span"),ee(N.$$.fragment),Ht=p(),be=l("span"),qt=r("Exploring ESPnet in the Hub"),Ve=p(),m=l("p"),Ct=r("You can find hundreds of "),$e=l("code"),Lt=r("espnet"),Ft=r(" models by filtering at the left of the "),O=l("a"),Tt=r("models page"),jt=r("."),Ye=p(),re=l("p"),Dt=r("All models on the Hub come up with useful features:"),Je=p(),u=l("ol"),ke=l("li"),Nt=r("An automatically generated model card with a description, a training configuration, licenses and more."),Ot=p(),Se=l("li"),Ut=r("Metadata tags that help for discoverability and contain information such as license, language and datasets."),Mt=p(),xe=l("li"),zt=r("An interactive widget you can use to play out with the model directly in the browser."),Gt=p(),Pe=l("li"),Rt=r("An Inference API that allows to make inference requests."),Ke=p(),y=l("div"),ie=l("img"),Bt=p(),ne=l("img"),Qe=p(),b=l("h2"),A=l("a"),Ae=l("span"),ee(U.$$.fragment),Vt=p(),Ie=l("span"),Yt=r("Using existing models"),We=p(),I=l("p"),Jt=r("For a full guide on loading pre-trained models, we recommend checking out the "),M=l("a"),Kt=r("official guide"),Qt=r(")."),Xe=p(),H=l("p"),Wt=r("If you\u2019re interested in doing inference, different classes for different tasks have a "),He=l("code"),Xt=r("from_pretrained"),Zt=r(" method that allows loading models from the Hub. For example:"),Ze=p(),g=l("ul"),ce=l("li"),qe=l("code"),eo=r("Speech2Text"),to=r(" for Automatic Speech Recognition."),oo=p(),fe=l("li"),Ce=l("code"),lo=r("Text2Speech"),ao=r(" for Text to Speech."),so=p(),pe=l("li"),Le=l("code"),ro=r("SeparateSpeech"),io=r(" for Audio Source Separation."),et=p(),he=l("p"),no=r("Here is an inference example:"),tt=p(),ee(z.$$.fragment),ot=p(),q=l("p"),co=r("If you want to see how to load a specific model, you can click "),Fe=l("code"),fo=r("Use in ESPnet"),po=r(" and you will be given a working snippet that you can load it!"),lt=p(),$=l("div"),ue=l("img"),ho=p(),de=l("img"),at=p(),k=l("h2"),C=l("a"),Te=l("span"),ee(G.$$.fragment),uo=p(),je=l("span"),mo=r("Sharing your models"),st=p(),d=l("p"),De=l("code"),go=r("ESPnet"),vo=r(" outputs a "),Ne=l("code"),_o=r("zip"),Eo=r(" file that can be uploaded to Hugging Face easily. For a full guide on sharing  models, we recommend checking out the "),R=l("a"),wo=r("official guide"),yo=r(")."),rt=p(),L=l("p"),bo=r("The "),Oe=l("code"),$o=r("run.sh"),ko=r(" script allows to upload a given model to a Hugging Face repository."),it=p(),ee(B.$$.fragment),nt=p(),S=l("h2"),F=l("a"),Ue=l("span"),ee(V.$$.fragment),So=p(),Me=l("span"),xo=r("Additional resources"),ct=p(),v=l("ul"),Y=l("li"),Po=r("ESPnet "),J=l("a"),Ao=r("docs"),Io=r("."),Ho=p(),K=l("li"),qo=r("ESPnet model zoo "),Q=l("a"),Co=r("repository"),Lo=r("."),Fo=p(),W=l("li"),To=r("Integration "),X=l("a"),jo=r("docs"),Do=r("."),this.h()},l(e){const n=Fl('[data-svelte="svelte-1phssyn"]',document.head);_=a(n,"META",{name:!0,content:!0}),n.forEach(o),Ge=h(e),E=a(e,"H1",{class:!0});var pt=s(E);x=a(pt,"A",{id:!0,class:!0,href:!0});var Yo=s(x);_e=a(Yo,"SPAN",{});var Jo=s(_e);te(j.$$.fragment,Jo),Jo.forEach(o),Yo.forEach(o),xt=h(pt),Ee=a(pt,"SPAN",{});var Ko=s(Ee);Pt=i(Ko,"Using ESPnet at Hugging Face"),Ko.forEach(o),pt.forEach(o),Re=h(e),D=a(e,"P",{});var No=s(D);we=a(No,"CODE",{});var Qo=s(we);At=i(Qo,"espnet"),Qo.forEach(o),It=i(No," is an end-to-end toolkit for speech processing, including automatic speech recognition, text to speech, speech enhancement, dirarization and other tasks."),No.forEach(o),Be=h(e),w=a(e,"H2",{class:!0});var ht=s(w);P=a(ht,"A",{id:!0,class:!0,href:!0});var Wo=s(P);ye=a(Wo,"SPAN",{});var Xo=s(ye);te(N.$$.fragment,Xo),Xo.forEach(o),Wo.forEach(o),Ht=h(ht),be=a(ht,"SPAN",{});var Zo=s(be);qt=i(Zo,"Exploring ESPnet in the Hub"),Zo.forEach(o),ht.forEach(o),Ve=h(e),m=a(e,"P",{});var me=s(m);Ct=i(me,"You can find hundreds of "),$e=a(me,"CODE",{});var el=s($e);Lt=i(el,"espnet"),el.forEach(o),Ft=i(me," models by filtering at the left of the "),O=a(me,"A",{href:!0,rel:!0});var tl=s(O);Tt=i(tl,"models page"),tl.forEach(o),jt=i(me,"."),me.forEach(o),Ye=h(e),re=a(e,"P",{});var ol=s(re);Dt=i(ol,"All models on the Hub come up with useful features:"),ol.forEach(o),Je=h(e),u=a(e,"OL",{});var T=s(u);ke=a(T,"LI",{});var ll=s(ke);Nt=i(ll,"An automatically generated model card with a description, a training configuration, licenses and more."),ll.forEach(o),Ot=h(T),Se=a(T,"LI",{});var al=s(Se);Ut=i(al,"Metadata tags that help for discoverability and contain information such as license, language and datasets."),al.forEach(o),Mt=h(T),xe=a(T,"LI",{});var sl=s(xe);zt=i(sl,"An interactive widget you can use to play out with the model directly in the browser."),sl.forEach(o),Gt=h(T),Pe=a(T,"LI",{});var rl=s(Pe);Rt=i(rl,"An Inference API that allows to make inference requests."),rl.forEach(o),T.forEach(o),Ke=h(e),y=a(e,"DIV",{class:!0});var ut=s(y);ie=a(ut,"IMG",{class:!0,src:!0}),Bt=h(ut),ne=a(ut,"IMG",{class:!0,src:!0}),ut.forEach(o),Qe=h(e),b=a(e,"H2",{class:!0});var dt=s(b);A=a(dt,"A",{id:!0,class:!0,href:!0});var il=s(A);Ae=a(il,"SPAN",{});var nl=s(Ae);te(U.$$.fragment,nl),nl.forEach(o),il.forEach(o),Vt=h(dt),Ie=a(dt,"SPAN",{});var cl=s(Ie);Yt=i(cl,"Using existing models"),cl.forEach(o),dt.forEach(o),We=h(e),I=a(e,"P",{});var mt=s(I);Jt=i(mt,"For a full guide on loading pre-trained models, we recommend checking out the "),M=a(mt,"A",{href:!0,rel:!0});var fl=s(M);Kt=i(fl,"official guide"),fl.forEach(o),Qt=i(mt,")."),mt.forEach(o),Xe=h(e),H=a(e,"P",{});var gt=s(H);Wt=i(gt,"If you\u2019re interested in doing inference, different classes for different tasks have a "),He=a(gt,"CODE",{});var pl=s(He);Xt=i(pl,"from_pretrained"),pl.forEach(o),Zt=i(gt," method that allows loading models from the Hub. For example:"),gt.forEach(o),Ze=h(e),g=a(e,"UL",{});var ge=s(g);ce=a(ge,"LI",{});var Oo=s(ce);qe=a(Oo,"CODE",{});var hl=s(qe);eo=i(hl,"Speech2Text"),hl.forEach(o),to=i(Oo," for Automatic Speech Recognition."),Oo.forEach(o),oo=h(ge),fe=a(ge,"LI",{});var Uo=s(fe);Ce=a(Uo,"CODE",{});var ul=s(Ce);lo=i(ul,"Text2Speech"),ul.forEach(o),ao=i(Uo," for Text to Speech."),Uo.forEach(o),so=h(ge),pe=a(ge,"LI",{});var Mo=s(pe);Le=a(Mo,"CODE",{});var dl=s(Le);ro=i(dl,"SeparateSpeech"),dl.forEach(o),io=i(Mo," for Audio Source Separation."),Mo.forEach(o),ge.forEach(o),et=h(e),he=a(e,"P",{});var ml=s(he);no=i(ml,"Here is an inference example:"),ml.forEach(o),tt=h(e),te(z.$$.fragment,e),ot=h(e),q=a(e,"P",{});var vt=s(q);co=i(vt,"If you want to see how to load a specific model, you can click "),Fe=a(vt,"CODE",{});var gl=s(Fe);fo=i(gl,"Use in ESPnet"),gl.forEach(o),po=i(vt," and you will be given a working snippet that you can load it!"),vt.forEach(o),lt=h(e),$=a(e,"DIV",{class:!0});var _t=s($);ue=a(_t,"IMG",{class:!0,src:!0}),ho=h(_t),de=a(_t,"IMG",{class:!0,src:!0}),_t.forEach(o),at=h(e),k=a(e,"H2",{class:!0});var Et=s(k);C=a(Et,"A",{id:!0,class:!0,href:!0});var vl=s(C);Te=a(vl,"SPAN",{});var _l=s(Te);te(G.$$.fragment,_l),_l.forEach(o),vl.forEach(o),uo=h(Et),je=a(Et,"SPAN",{});var El=s(je);mo=i(El,"Sharing your models"),El.forEach(o),Et.forEach(o),st=h(e),d=a(e,"P",{});var Z=s(d);De=a(Z,"CODE",{});var wl=s(De);go=i(wl,"ESPnet"),wl.forEach(o),vo=i(Z," outputs a "),Ne=a(Z,"CODE",{});var yl=s(Ne);_o=i(yl,"zip"),yl.forEach(o),Eo=i(Z," file that can be uploaded to Hugging Face easily. For a full guide on sharing  models, we recommend checking out the "),R=a(Z,"A",{href:!0,rel:!0});var bl=s(R);wo=i(bl,"official guide"),bl.forEach(o),yo=i(Z,")."),Z.forEach(o),rt=h(e),L=a(e,"P",{});var wt=s(L);bo=i(wt,"The "),Oe=a(wt,"CODE",{});var $l=s(Oe);$o=i($l,"run.sh"),$l.forEach(o),ko=i(wt," script allows to upload a given model to a Hugging Face repository."),wt.forEach(o),it=h(e),te(B.$$.fragment,e),nt=h(e),S=a(e,"H2",{class:!0});var yt=s(S);F=a(yt,"A",{id:!0,class:!0,href:!0});var kl=s(F);Ue=a(kl,"SPAN",{});var Sl=s(Ue);te(V.$$.fragment,Sl),Sl.forEach(o),kl.forEach(o),So=h(yt),Me=a(yt,"SPAN",{});var xl=s(Me);xo=i(xl,"Additional resources"),xl.forEach(o),yt.forEach(o),ct=h(e),v=a(e,"UL",{});var ve=s(v);Y=a(ve,"LI",{});var bt=s(Y);Po=i(bt,"ESPnet "),J=a(bt,"A",{href:!0,rel:!0});var Pl=s(J);Ao=i(Pl,"docs"),Pl.forEach(o),Io=i(bt,"."),bt.forEach(o),Ho=h(ve),K=a(ve,"LI",{});var $t=s(K);qo=i($t,"ESPnet model zoo "),Q=a($t,"A",{href:!0,rel:!0});var Al=s(Q);Co=i(Al,"repository"),Al.forEach(o),Lo=i($t,"."),$t.forEach(o),Fo=h(ve),W=a(ve,"LI",{});var kt=s(W);To=i(kt,"Integration "),X=a(kt,"A",{href:!0,rel:!0});var Il=s(X);jo=i(Il,"docs"),Il.forEach(o),Do=i(kt,"."),kt.forEach(o),ve.forEach(o),this.h()},h(){c(_,"name","hf:doc:metadata"),c(_,"content",JSON.stringify(Nl)),c(x,"id","using-espnet-at-hugging-face"),c(x,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),c(x,"href","#using-espnet-at-hugging-face"),c(E,"class","relative group"),c(P,"id","exploring-espnet-in-the-hub"),c(P,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),c(P,"href","#exploring-espnet-in-the-hub"),c(w,"class","relative group"),c(O,"href","https://huggingface.co/models?library=espnet&sort=downloads"),c(O,"rel","nofollow"),c(ie,"class","block dark:hidden"),St(ie.src,Go="https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/hub/libraries-espnet_widget.png")||c(ie,"src",Go),c(ne,"class","hidden dark:block"),St(ne.src,Ro="https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/hub/libraries-espnet_widget-dark.png")||c(ne,"src",Ro),c(y,"class","flex justify-center"),c(A,"id","using-existing-models"),c(A,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),c(A,"href","#using-existing-models"),c(b,"class","relative group"),c(M,"href","https://github.com/espnet/espnet_model_zoo"),c(M,"rel","nofollow"),c(ue,"class","block dark:hidden"),St(ue.src,Bo="https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/hub/libraries-espnet_snippet.png")||c(ue,"src",Bo),c(de,"class","hidden dark:block"),St(de.src,Vo="https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/hub/libraries-espnet_snippet-dark.png")||c(de,"src",Vo),c($,"class","flex justify-center"),c(C,"id","sharing-your-models"),c(C,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),c(C,"href","#sharing-your-models"),c(k,"class","relative group"),c(R,"href","https://github.com/espnet/espnet_model_zoo#register-your-model"),c(R,"rel","nofollow"),c(F,"id","additional-resources"),c(F,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),c(F,"href","#additional-resources"),c(S,"class","relative group"),c(J,"href","https://espnet.github.io/espnet/index.html"),c(J,"rel","nofollow"),c(Q,"href","https://github.com/espnet/espnet_model_zoo"),c(Q,"rel","nofollow"),c(X,"href","https://github.com/asteroid-team/asteroid/blob/master/docs/source/readmes/pretrained_models.md"),c(X,"rel","nofollow")},m(e,n){t(document.head,_),f(e,Ge,n),f(e,E,n),t(E,x),t(x,_e),oe(j,_e,null),t(E,xt),t(E,Ee),t(Ee,Pt),f(e,Re,n),f(e,D,n),t(D,we),t(we,At),t(D,It),f(e,Be,n),f(e,w,n),t(w,P),t(P,ye),oe(N,ye,null),t(w,Ht),t(w,be),t(be,qt),f(e,Ve,n),f(e,m,n),t(m,Ct),t(m,$e),t($e,Lt),t(m,Ft),t(m,O),t(O,Tt),t(m,jt),f(e,Ye,n),f(e,re,n),t(re,Dt),f(e,Je,n),f(e,u,n),t(u,ke),t(ke,Nt),t(u,Ot),t(u,Se),t(Se,Ut),t(u,Mt),t(u,xe),t(xe,zt),t(u,Gt),t(u,Pe),t(Pe,Rt),f(e,Ke,n),f(e,y,n),t(y,ie),t(y,Bt),t(y,ne),f(e,Qe,n),f(e,b,n),t(b,A),t(A,Ae),oe(U,Ae,null),t(b,Vt),t(b,Ie),t(Ie,Yt),f(e,We,n),f(e,I,n),t(I,Jt),t(I,M),t(M,Kt),t(I,Qt),f(e,Xe,n),f(e,H,n),t(H,Wt),t(H,He),t(He,Xt),t(H,Zt),f(e,Ze,n),f(e,g,n),t(g,ce),t(ce,qe),t(qe,eo),t(ce,to),t(g,oo),t(g,fe),t(fe,Ce),t(Ce,lo),t(fe,ao),t(g,so),t(g,pe),t(pe,Le),t(Le,ro),t(pe,io),f(e,et,n),f(e,he,n),t(he,no),f(e,tt,n),oe(z,e,n),f(e,ot,n),f(e,q,n),t(q,co),t(q,Fe),t(Fe,fo),t(q,po),f(e,lt,n),f(e,$,n),t($,ue),t($,ho),t($,de),f(e,at,n),f(e,k,n),t(k,C),t(C,Te),oe(G,Te,null),t(k,uo),t(k,je),t(je,mo),f(e,st,n),f(e,d,n),t(d,De),t(De,go),t(d,vo),t(d,Ne),t(Ne,_o),t(d,Eo),t(d,R),t(R,wo),t(d,yo),f(e,rt,n),f(e,L,n),t(L,bo),t(L,Oe),t(Oe,$o),t(L,ko),f(e,it,n),oe(B,e,n),f(e,nt,n),f(e,S,n),t(S,F),t(F,Ue),oe(V,Ue,null),t(S,So),t(S,Me),t(Me,xo),f(e,ct,n),f(e,v,n),t(v,Y),t(Y,Po),t(Y,J),t(J,Ao),t(Y,Io),t(v,Ho),t(v,K),t(K,qo),t(K,Q),t(Q,Co),t(K,Lo),t(v,Fo),t(v,W),t(W,To),t(W,X),t(X,jo),t(W,Do),ft=!0},p:Tl,i(e){ft||(le(j.$$.fragment,e),le(N.$$.fragment,e),le(U.$$.fragment,e),le(z.$$.fragment,e),le(G.$$.fragment,e),le(B.$$.fragment,e),le(V.$$.fragment,e),ft=!0)},o(e){ae(j.$$.fragment,e),ae(N.$$.fragment,e),ae(U.$$.fragment,e),ae(z.$$.fragment,e),ae(G.$$.fragment,e),ae(B.$$.fragment,e),ae(V.$$.fragment,e),ft=!1},d(e){o(_),e&&o(Ge),e&&o(E),se(j),e&&o(Re),e&&o(D),e&&o(Be),e&&o(w),se(N),e&&o(Ve),e&&o(m),e&&o(Ye),e&&o(re),e&&o(Je),e&&o(u),e&&o(Ke),e&&o(y),e&&o(Qe),e&&o(b),se(U),e&&o(We),e&&o(I),e&&o(Xe),e&&o(H),e&&o(Ze),e&&o(g),e&&o(et),e&&o(he),e&&o(tt),se(z,e),e&&o(ot),e&&o(q),e&&o(lt),e&&o($),e&&o(at),e&&o(k),se(G),e&&o(st),e&&o(d),e&&o(rt),e&&o(L),e&&o(it),se(B,e),e&&o(nt),e&&o(S),se(V),e&&o(ct),e&&o(v)}}}const Nl={local:"using-espnet-at-hugging-face",sections:[{local:"exploring-espnet-in-the-hub",title:"Exploring ESPnet in the Hub"},{local:"using-existing-models",title:"Using existing models"},{local:"sharing-your-models",title:"Sharing your models"},{local:"additional-resources",title:"Additional resources"}],title:"Using ESPnet at Hugging Face"};function Ol(zo){return jl(()=>{new URLSearchParams(window.location.search).get("fw")}),[]}class Gl extends ql{constructor(_){super();Cl(this,_,Ol,Dl,Ll,{})}}export{Gl as default,Nl as metadata};
