import{S as ql,i as Ll,s as Cl,e as l,k as p,w as ee,t as r,N as Fl,c as a,d as o,m as h,a as s,x as te,h as i,b as c,P as St,G as t,g as f,y as oe,L as jl,q as le,o as ae,B as se,v as Dl}from"../chunks/vendor-hf-doc-builder.js";import{I as Me}from"../chunks/IconCopyLink-hf-doc-builder.js";import{C as Hl}from"../chunks/CodeBlock-hf-doc-builder.js";function Nl(Mo){let _,Ge,E,x,_e,D,xt,Ee,Pt,Re,N,we,At,It,Be,w,P,ye,O,Ht,$e,qt,Ve,m,Lt,be,Ct,Ft,T,jt,Dt,Ye,re,Nt,Je,u,ke,Ot,Tt,Se,Ut,zt,xe,Mt,Gt,Pe,Rt,Ke,y,ie,Go,Bt,ne,Ro,Qe,$,A,Ae,U,Vt,Ie,Yt,We,I,Jt,z,Kt,Qt,Xe,H,Wt,He,Xt,Zt,Ze,g,ce,qe,eo,to,oo,fe,Le,lo,ao,so,pe,Ce,ro,io,et,he,no,tt,M,ot,q,co,Fe,fo,po,lt,b,ue,Bo,ho,de,Vo,at,k,L,je,G,uo,De,mo,st,d,Ne,go,vo,Oe,_o,Eo,R,wo,yo,rt,C,$o,Te,bo,ko,it,B,nt,S,F,Ue,V,So,ze,xo,ct,v,Y,Po,J,Ao,Io,Ho,K,qo,Q,Lo,Co,Fo,W,jo,X,Do,No,ft;return D=new Me({}),O=new Me({}),U=new Me({}),M=new Hl({props:{code:"",highlighted:`<span class="hljs-keyword">import</span> soundfile
<span class="hljs-keyword">from</span> espnet2.<span class="hljs-built_in">bin</span>.tts_inference <span class="hljs-keyword">import</span> Text2Speech

text2speech = Text2Speech.from_pretrained(<span class="hljs-string">&quot;model_name&quot;</span>)
speech = text2speech(<span class="hljs-string">&quot;foobar&quot;</span>)[<span class="hljs-string">&quot;wav&quot;</span>]
soundfile.write(<span class="hljs-string">&quot;out.wav&quot;</span>, speech.numpy(), text2speech.fs, <span class="hljs-string">&quot;PCM_16&quot;</span>)`}}),G=new Me({}),B=new Hl({props:{code:"./run.sh --stage 15 --skip_upload_hf false --hf_repo username/model_repo",highlighted:'./run.sh --stage 15 --skip_upload_hf <span class="hljs-literal">false</span> --hf_repo username/model_repo'}}),V=new Me({}),{c(){_=l("meta"),Ge=p(),E=l("h1"),x=l("a"),_e=l("span"),ee(D.$$.fragment),xt=p(),Ee=l("span"),Pt=r("Using ESPnet at Hugging Face"),Re=p(),N=l("p"),we=l("code"),At=r("espnet"),It=r(" is an end-to-end toolkit for speech processing, including automatic speech recognition, text to speech, speech enhancement, dirarization and other tasks."),Be=p(),w=l("h2"),P=l("a"),ye=l("span"),ee(O.$$.fragment),Ht=p(),$e=l("span"),qt=r("Exploring ESPnet in the Hub"),Ve=p(),m=l("p"),Lt=r("You can find hundreds of "),be=l("code"),Ct=r("espnet"),Ft=r(" models by filtering at the left of the "),T=l("a"),jt=r("models page"),Dt=r("."),Ye=p(),re=l("p"),Nt=r("All models on the Hub come up with useful features:"),Je=p(),u=l("ol"),ke=l("li"),Ot=r("An automatically generated model card with a description, a training configuration, licenses and more."),Tt=p(),Se=l("li"),Ut=r("Metadata tags that help for discoverability and contain information such as license, language and datasets."),zt=p(),xe=l("li"),Mt=r("An interactive widget you can use to play out with the model directly in the browser."),Gt=p(),Pe=l("li"),Rt=r("An Inference API that allows to make inference requests."),Ke=p(),y=l("div"),ie=l("img"),Bt=p(),ne=l("img"),Qe=p(),$=l("h2"),A=l("a"),Ae=l("span"),ee(U.$$.fragment),Vt=p(),Ie=l("span"),Yt=r("Using existing models"),We=p(),I=l("p"),Jt=r("For a full guide on loading pre-trained models, we recommend checking out the "),z=l("a"),Kt=r("official guide"),Qt=r(")."),Xe=p(),H=l("p"),Wt=r("If you\u2019re interested in doing inference, different classes for different tasks have a "),He=l("code"),Xt=r("from_pretrained"),Zt=r(" method that allows loading models from the Hub. For example:"),Ze=p(),g=l("ul"),ce=l("li"),qe=l("code"),eo=r("Speech2Text"),to=r(" for Automatic Speech Recognition."),oo=p(),fe=l("li"),Le=l("code"),lo=r("Text2Speech"),ao=r(" for Text to Speech."),so=p(),pe=l("li"),Ce=l("code"),ro=r("SeparateSpeech"),io=r(" for Audio Source Separation."),et=p(),he=l("p"),no=r("Here is an inference example:"),tt=p(),ee(M.$$.fragment),ot=p(),q=l("p"),co=r("If you want to see how to load a specific model, you can click "),Fe=l("code"),fo=r("Use in ESPnet"),po=r(" and you will be given a working snippet that you can load it!"),lt=p(),b=l("div"),ue=l("img"),ho=p(),de=l("img"),at=p(),k=l("h2"),L=l("a"),je=l("span"),ee(G.$$.fragment),uo=p(),De=l("span"),mo=r("Sharing your models"),st=p(),d=l("p"),Ne=l("code"),go=r("ESPnet"),vo=r(" outputs a "),Oe=l("code"),_o=r("zip"),Eo=r(" file that can be uploaded to Hugging Face easily. For a full guide on sharing  models, we recommend checking out the "),R=l("a"),wo=r("official guide"),yo=r(")."),rt=p(),C=l("p"),$o=r("The "),Te=l("code"),bo=r("run.sh"),ko=r(" script allows to upload a given model to a Hugging Face repository."),it=p(),ee(B.$$.fragment),nt=p(),S=l("h2"),F=l("a"),Ue=l("span"),ee(V.$$.fragment),So=p(),ze=l("span"),xo=r("Additional resources"),ct=p(),v=l("ul"),Y=l("li"),Po=r("ESPnet "),J=l("a"),Ao=r("docs"),Io=r("."),Ho=p(),K=l("li"),qo=r("ESPnet model zoo "),Q=l("a"),Lo=r("repository"),Co=r("."),Fo=p(),W=l("li"),jo=r("Integration "),X=l("a"),Do=r("docs"),No=r("."),this.h()},l(e){const n=Fl('[data-svelte="svelte-1phssyn"]',document.head);_=a(n,"META",{name:!0,content:!0}),n.forEach(o),Ge=h(e),E=a(e,"H1",{class:!0});var pt=s(E);x=a(pt,"A",{id:!0,class:!0,href:!0});var Yo=s(x);_e=a(Yo,"SPAN",{});var Jo=s(_e);te(D.$$.fragment,Jo),Jo.forEach(o),Yo.forEach(o),xt=h(pt),Ee=a(pt,"SPAN",{});var Ko=s(Ee);Pt=i(Ko,"Using ESPnet at Hugging Face"),Ko.forEach(o),pt.forEach(o),Re=h(e),N=a(e,"P",{});var Oo=s(N);we=a(Oo,"CODE",{});var Qo=s(we);At=i(Qo,"espnet"),Qo.forEach(o),It=i(Oo," is an end-to-end toolkit for speech processing, including automatic speech recognition, text to speech, speech enhancement, dirarization and other tasks."),Oo.forEach(o),Be=h(e),w=a(e,"H2",{class:!0});var ht=s(w);P=a(ht,"A",{id:!0,class:!0,href:!0});var Wo=s(P);ye=a(Wo,"SPAN",{});var Xo=s(ye);te(O.$$.fragment,Xo),Xo.forEach(o),Wo.forEach(o),Ht=h(ht),$e=a(ht,"SPAN",{});var Zo=s($e);qt=i(Zo,"Exploring ESPnet in the Hub"),Zo.forEach(o),ht.forEach(o),Ve=h(e),m=a(e,"P",{});var me=s(m);Lt=i(me,"You can find hundreds of "),be=a(me,"CODE",{});var el=s(be);Ct=i(el,"espnet"),el.forEach(o),Ft=i(me," models by filtering at the left of the "),T=a(me,"A",{href:!0,rel:!0});var tl=s(T);jt=i(tl,"models page"),tl.forEach(o),Dt=i(me,"."),me.forEach(o),Ye=h(e),re=a(e,"P",{});var ol=s(re);Nt=i(ol,"All models on the Hub come up with useful features:"),ol.forEach(o),Je=h(e),u=a(e,"OL",{});var j=s(u);ke=a(j,"LI",{});var ll=s(ke);Ot=i(ll,"An automatically generated model card with a description, a training configuration, licenses and more."),ll.forEach(o),Tt=h(j),Se=a(j,"LI",{});var al=s(Se);Ut=i(al,"Metadata tags that help for discoverability and contain information such as license, language and datasets."),al.forEach(o),zt=h(j),xe=a(j,"LI",{});var sl=s(xe);Mt=i(sl,"An interactive widget you can use to play out with the model directly in the browser."),sl.forEach(o),Gt=h(j),Pe=a(j,"LI",{});var rl=s(Pe);Rt=i(rl,"An Inference API that allows to make inference requests."),rl.forEach(o),j.forEach(o),Ke=h(e),y=a(e,"DIV",{class:!0});var ut=s(y);ie=a(ut,"IMG",{class:!0,src:!0}),Bt=h(ut),ne=a(ut,"IMG",{class:!0,src:!0}),ut.forEach(o),Qe=h(e),$=a(e,"H2",{class:!0});var dt=s($);A=a(dt,"A",{id:!0,class:!0,href:!0});var il=s(A);Ae=a(il,"SPAN",{});var nl=s(Ae);te(U.$$.fragment,nl),nl.forEach(o),il.forEach(o),Vt=h(dt),Ie=a(dt,"SPAN",{});var cl=s(Ie);Yt=i(cl,"Using existing models"),cl.forEach(o),dt.forEach(o),We=h(e),I=a(e,"P",{});var mt=s(I);Jt=i(mt,"For a full guide on loading pre-trained models, we recommend checking out the "),z=a(mt,"A",{href:!0,rel:!0});var fl=s(z);Kt=i(fl,"official guide"),fl.forEach(o),Qt=i(mt,")."),mt.forEach(o),Xe=h(e),H=a(e,"P",{});var gt=s(H);Wt=i(gt,"If you\u2019re interested in doing inference, different classes for different tasks have a "),He=a(gt,"CODE",{});var pl=s(He);Xt=i(pl,"from_pretrained"),pl.forEach(o),Zt=i(gt," method that allows loading models from the Hub. For example:"),gt.forEach(o),Ze=h(e),g=a(e,"UL",{});var ge=s(g);ce=a(ge,"LI",{});var To=s(ce);qe=a(To,"CODE",{});var hl=s(qe);eo=i(hl,"Speech2Text"),hl.forEach(o),to=i(To," for Automatic Speech Recognition."),To.forEach(o),oo=h(ge),fe=a(ge,"LI",{});var Uo=s(fe);Le=a(Uo,"CODE",{});var ul=s(Le);lo=i(ul,"Text2Speech"),ul.forEach(o),ao=i(Uo," for Text to Speech."),Uo.forEach(o),so=h(ge),pe=a(ge,"LI",{});var zo=s(pe);Ce=a(zo,"CODE",{});var dl=s(Ce);ro=i(dl,"SeparateSpeech"),dl.forEach(o),io=i(zo," for Audio Source Separation."),zo.forEach(o),ge.forEach(o),et=h(e),he=a(e,"P",{});var ml=s(he);no=i(ml,"Here is an inference example:"),ml.forEach(o),tt=h(e),te(M.$$.fragment,e),ot=h(e),q=a(e,"P",{});var vt=s(q);co=i(vt,"If you want to see how to load a specific model, you can click "),Fe=a(vt,"CODE",{});var gl=s(Fe);fo=i(gl,"Use in ESPnet"),gl.forEach(o),po=i(vt," and you will be given a working snippet that you can load it!"),vt.forEach(o),lt=h(e),b=a(e,"DIV",{class:!0});var _t=s(b);ue=a(_t,"IMG",{class:!0,src:!0}),ho=h(_t),de=a(_t,"IMG",{class:!0,src:!0}),_t.forEach(o),at=h(e),k=a(e,"H2",{class:!0});var Et=s(k);L=a(Et,"A",{id:!0,class:!0,href:!0});var vl=s(L);je=a(vl,"SPAN",{});var _l=s(je);te(G.$$.fragment,_l),_l.forEach(o),vl.forEach(o),uo=h(Et),De=a(Et,"SPAN",{});var El=s(De);mo=i(El,"Sharing your models"),El.forEach(o),Et.forEach(o),st=h(e),d=a(e,"P",{});var Z=s(d);Ne=a(Z,"CODE",{});var wl=s(Ne);go=i(wl,"ESPnet"),wl.forEach(o),vo=i(Z," outputs a "),Oe=a(Z,"CODE",{});var yl=s(Oe);_o=i(yl,"zip"),yl.forEach(o),Eo=i(Z," file that can be uploaded to Hugging Face easily. For a full guide on sharing  models, we recommend checking out the "),R=a(Z,"A",{href:!0,rel:!0});var $l=s(R);wo=i($l,"official guide"),$l.forEach(o),yo=i(Z,")."),Z.forEach(o),rt=h(e),C=a(e,"P",{});var wt=s(C);$o=i(wt,"The "),Te=a(wt,"CODE",{});var bl=s(Te);bo=i(bl,"run.sh"),bl.forEach(o),ko=i(wt," script allows to upload a given model to a Hugging Face repository."),wt.forEach(o),it=h(e),te(B.$$.fragment,e),nt=h(e),S=a(e,"H2",{class:!0});var yt=s(S);F=a(yt,"A",{id:!0,class:!0,href:!0});var kl=s(F);Ue=a(kl,"SPAN",{});var Sl=s(Ue);te(V.$$.fragment,Sl),Sl.forEach(o),kl.forEach(o),So=h(yt),ze=a(yt,"SPAN",{});var xl=s(ze);xo=i(xl,"Additional resources"),xl.forEach(o),yt.forEach(o),ct=h(e),v=a(e,"UL",{});var ve=s(v);Y=a(ve,"LI",{});var $t=s(Y);Po=i($t,"ESPnet "),J=a($t,"A",{href:!0,rel:!0});var Pl=s(J);Ao=i(Pl,"docs"),Pl.forEach(o),Io=i($t,"."),$t.forEach(o),Ho=h(ve),K=a(ve,"LI",{});var bt=s(K);qo=i(bt,"ESPnet model zoo "),Q=a(bt,"A",{href:!0,rel:!0});var Al=s(Q);Lo=i(Al,"repository"),Al.forEach(o),Co=i(bt,"."),bt.forEach(o),Fo=h(ve),W=a(ve,"LI",{});var kt=s(W);jo=i(kt,"Integration "),X=a(kt,"A",{href:!0,rel:!0});var Il=s(X);Do=i(Il,"docs"),Il.forEach(o),No=i(kt,"."),kt.forEach(o),ve.forEach(o),this.h()},h(){c(_,"name","hf:doc:metadata"),c(_,"content",JSON.stringify(Ol)),c(x,"id","using-espnet-at-hugging-face"),c(x,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),c(x,"href","#using-espnet-at-hugging-face"),c(E,"class","relative group"),c(P,"id","exploring-espnet-in-the-hub"),c(P,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),c(P,"href","#exploring-espnet-in-the-hub"),c(w,"class","relative group"),c(T,"href","https://huggingface.co/models?library=espnet&sort=downloads"),c(T,"rel","nofollow"),c(ie,"class","block dark:hidden"),St(ie.src,Go="https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/hub/libraries-espnet_widget.png")||c(ie,"src",Go),c(ne,"class","hidden dark:block"),St(ne.src,Ro="https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/hub/libraries-espnet_widget-dark.png")||c(ne,"src",Ro),c(y,"class","flex justify-center"),c(A,"id","using-existing-models"),c(A,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),c(A,"href","#using-existing-models"),c($,"class","relative group"),c(z,"href","https://github.com/espnet/espnet_model_zoo"),c(z,"rel","nofollow"),c(ue,"class","block dark:hidden"),St(ue.src,Bo="https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/hub/libraries-espnet_snippet.png")||c(ue,"src",Bo),c(de,"class","hidden dark:block"),St(de.src,Vo="https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/hub/libraries-espnet_snippet-dark.png")||c(de,"src",Vo),c(b,"class","flex justify-center"),c(L,"id","sharing-your-models"),c(L,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),c(L,"href","#sharing-your-models"),c(k,"class","relative group"),c(R,"href","https://github.com/espnet/espnet_model_zoo#register-your-model"),c(R,"rel","nofollow"),c(F,"id","additional-resources"),c(F,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),c(F,"href","#additional-resources"),c(S,"class","relative group"),c(J,"href","https://espnet.github.io/espnet/index.html"),c(J,"rel","nofollow"),c(Q,"href","https://github.com/espnet/espnet_model_zoo"),c(Q,"rel","nofollow"),c(X,"href","https://github.com/asteroid-team/asteroid/blob/master/docs/source/readmes/pretrained_models.md"),c(X,"rel","nofollow")},m(e,n){t(document.head,_),f(e,Ge,n),f(e,E,n),t(E,x),t(x,_e),oe(D,_e,null),t(E,xt),t(E,Ee),t(Ee,Pt),f(e,Re,n),f(e,N,n),t(N,we),t(we,At),t(N,It),f(e,Be,n),f(e,w,n),t(w,P),t(P,ye),oe(O,ye,null),t(w,Ht),t(w,$e),t($e,qt),f(e,Ve,n),f(e,m,n),t(m,Lt),t(m,be),t(be,Ct),t(m,Ft),t(m,T),t(T,jt),t(m,Dt),f(e,Ye,n),f(e,re,n),t(re,Nt),f(e,Je,n),f(e,u,n),t(u,ke),t(ke,Ot),t(u,Tt),t(u,Se),t(Se,Ut),t(u,zt),t(u,xe),t(xe,Mt),t(u,Gt),t(u,Pe),t(Pe,Rt),f(e,Ke,n),f(e,y,n),t(y,ie),t(y,Bt),t(y,ne),f(e,Qe,n),f(e,$,n),t($,A),t(A,Ae),oe(U,Ae,null),t($,Vt),t($,Ie),t(Ie,Yt),f(e,We,n),f(e,I,n),t(I,Jt),t(I,z),t(z,Kt),t(I,Qt),f(e,Xe,n),f(e,H,n),t(H,Wt),t(H,He),t(He,Xt),t(H,Zt),f(e,Ze,n),f(e,g,n),t(g,ce),t(ce,qe),t(qe,eo),t(ce,to),t(g,oo),t(g,fe),t(fe,Le),t(Le,lo),t(fe,ao),t(g,so),t(g,pe),t(pe,Ce),t(Ce,ro),t(pe,io),f(e,et,n),f(e,he,n),t(he,no),f(e,tt,n),oe(M,e,n),f(e,ot,n),f(e,q,n),t(q,co),t(q,Fe),t(Fe,fo),t(q,po),f(e,lt,n),f(e,b,n),t(b,ue),t(b,ho),t(b,de),f(e,at,n),f(e,k,n),t(k,L),t(L,je),oe(G,je,null),t(k,uo),t(k,De),t(De,mo),f(e,st,n),f(e,d,n),t(d,Ne),t(Ne,go),t(d,vo),t(d,Oe),t(Oe,_o),t(d,Eo),t(d,R),t(R,wo),t(d,yo),f(e,rt,n),f(e,C,n),t(C,$o),t(C,Te),t(Te,bo),t(C,ko),f(e,it,n),oe(B,e,n),f(e,nt,n),f(e,S,n),t(S,F),t(F,Ue),oe(V,Ue,null),t(S,So),t(S,ze),t(ze,xo),f(e,ct,n),f(e,v,n),t(v,Y),t(Y,Po),t(Y,J),t(J,Ao),t(Y,Io),t(v,Ho),t(v,K),t(K,qo),t(K,Q),t(Q,Lo),t(K,Co),t(v,Fo),t(v,W),t(W,jo),t(W,X),t(X,Do),t(W,No),ft=!0},p:jl,i(e){ft||(le(D.$$.fragment,e),le(O.$$.fragment,e),le(U.$$.fragment,e),le(M.$$.fragment,e),le(G.$$.fragment,e),le(B.$$.fragment,e),le(V.$$.fragment,e),ft=!0)},o(e){ae(D.$$.fragment,e),ae(O.$$.fragment,e),ae(U.$$.fragment,e),ae(M.$$.fragment,e),ae(G.$$.fragment,e),ae(B.$$.fragment,e),ae(V.$$.fragment,e),ft=!1},d(e){o(_),e&&o(Ge),e&&o(E),se(D),e&&o(Re),e&&o(N),e&&o(Be),e&&o(w),se(O),e&&o(Ve),e&&o(m),e&&o(Ye),e&&o(re),e&&o(Je),e&&o(u),e&&o(Ke),e&&o(y),e&&o(Qe),e&&o($),se(U),e&&o(We),e&&o(I),e&&o(Xe),e&&o(H),e&&o(Ze),e&&o(g),e&&o(et),e&&o(he),e&&o(tt),se(M,e),e&&o(ot),e&&o(q),e&&o(lt),e&&o(b),e&&o(at),e&&o(k),se(G),e&&o(st),e&&o(d),e&&o(rt),e&&o(C),e&&o(it),se(B,e),e&&o(nt),e&&o(S),se(V),e&&o(ct),e&&o(v)}}}const Ol={local:"using-espnet-at-hugging-face",sections:[{local:"exploring-espnet-in-the-hub",title:"Exploring ESPnet in the Hub"},{local:"using-existing-models",title:"Using existing models"},{local:"sharing-your-models",title:"Sharing your models"},{local:"additional-resources",title:"Additional resources"}],title:"Using ESPnet at Hugging Face"};function Tl(Mo){return Dl(()=>{new URLSearchParams(window.location.search).get("fw")}),[]}class Gl extends ql{constructor(_){super();Ll(this,_,Tl,Nl,Cl,{})}}export{Gl as default,Ol as metadata};
